{"testsmt9.k":{"typeChecks":true,"model":"\nclass A {\n  x:Int\n\n  req x > 0\n}\n\nclass B extending A {\n  y:Int\n  a:A\n\n  req y = x + 1\n}\n\n","name":"testsmt9.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"y","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"y","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]}]},"type":"ConstraintDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"x","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"x","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"y","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"x","type":"IdentExp"}},"exp1":{"ident":"y","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun instanceOfB!1 () Int\n  4)\n(define-fun instanceOfA!0 () Int\n  3)\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 7) 7\n  (ite (= x!1 0) 0\n  (ite (= x!1 11) 11\n  (ite (= x!1 13) 13\n  (ite (= x!1 15) 15\n  (ite (= x!1 17) 17\n  (ite (= x!1 19) 19\n  (ite (= x!1 21) 21\n  (ite (= x!1 5) 5\n  (ite (= x!1 4) 4\n  (ite (= x!1 9) 9\n    3))))))))))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 13) (lift-B (mk-B 5854 5855 15))\n  (ite (= x!1 5) (lift-B (mk-B 1237 1238 7))\n  (ite (= x!1 7) (lift-B (mk-B 8856 8857 9))\n  (ite (= x!1 11) (lift-B (mk-B 450 451 13))\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 19) (lift-B (mk-B 8946 8947 21))\n  (ite (= x!1 21) (lift-A (mk-A 6284))\n  (ite (= x!1 9) (lift-B (mk-B 8366 8367 11))\n  (ite (= x!1 3) (lift-A (mk-A 39))\n  (ite (= x!1 4) (lift-B (mk-B 1 2 5))\n  (ite (= x!1 15) (lift-B (mk-B 1143 1144 17))\n    (lift-B (mk-B 536 537 19))))))))))))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-datatypes () ((A (mk-A (x Int)))))\n(declare-datatypes () ((B (mk-B (x Int)(y Int)(a Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (ite (deref-is-A this) (x (deref-A this))\n  (x (deref-B this)))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B.x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.y: ---\n\n(define-fun B.y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n(define-fun B!y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n; --- getters for B.a: ---\n\n(define-fun B.a ((this Ref)) Ref\n  (a (deref-B this))\n)\n\n(define-fun B!a ((this Ref)) Ref\n  (a (deref-B this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (> (A!x this)  0)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (deref-isa-A (B!a this))\n    (> (B!x this)  0)\n    (= (B!y this)  (+ (B!x this)  1))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n\n"},"testsmt14.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int\n  b:Int\n\n  fun id(x:Int) : Int\n  {\n    if x >= 0 then\n      {\n        k1:Int = x - 1\n        k1 + 1\n      }\n    else\n      {\n        k2:Int = x + 1\n        k2 - 1\n      }\n  }\n\n  req a = id(10)\n\n  req a = 10\n}\n\n","name":"testsmt14.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IfExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},{"operand":[{"element":"ElementValue","type":"BlockExp"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k1","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Minus",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"k1","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"type":"ExpressionDecl"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"BlockExp"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k2","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Minus",{"element":"k2","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"type":"ExpressionDecl"}],"type":"Expression"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"id","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"a","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"id","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}],"type":"Expression"}]}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"a","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"trueBranch":{"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k1","expr":{"op":"Minus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"x","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"k1","type":"IdentExp"}},"type":"ExpressionDecl"}],"type":"BlockExp"},"falseBranch":{"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k2","expr":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"x","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"Minus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"k2","type":"IdentExp"}},"type":"ExpressionDecl"}],"type":"BlockExp"},"type":"IfExp","cond":{"op":"GTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"x","type":"IdentExp"}}},"type":"ExpressionDecl"}],"ident":"id","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"args":[{"exp":{"type":"LiteralInteger","i":10},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"id","type":"IdentExp"}},"exp1":{"ident":"a","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"ident":"a","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!1))\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!1!3 ((x!1 Int)) Any\n  (ite (= x!1 1) (lift-A (mk-A 10 2))\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0)))\n(define-fun k!2 ((x!1 Int)) Int\n  (ite (= x!1 1) 1\n    0))\n(define-fun k!1 ((x!1 Int)) Any\n  (k!1!3 (k!2 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-datatypes () ((A (mk-A (a Int)(b Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; --- getters for A.b: ---\n\n(define-fun A!b ((this Ref)) Int\n  (b (deref-A this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.id ((this Ref)(x Int)) Int\n  (ite (>= x 0)   (let ((k1 (- x 1)))\n    (+ k1 1))   (let ((k2 (+ x 1)))\n    (- k2 1)))\n)\n\n(define-fun A!id ((this Ref)(x Int)) Int\n  (ite (>= x 0)   (let ((k1 (- x 1)))\n    (+ k1 1))   (let ((k2 (+ x 1)))\n    (- k2 1)))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this)  (A!id this 10))\n    (= (A!a this)  10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n\n"},"testsmt8.k":{"typeChecks":true,"model":"\nclass Person {\n  age:Int\n\n  fun getAge : Int\n  {\n    age\n  }\n\n  req getAge() > 18\n}\n\nclass Employee extending Person {\n  boss:Person\n  officemate:Employee\n\n  fun avoid(p:Employee) : Bool\n  {\n    officemate != p\n  }\n\n  req boss.age > 30\n\n  req this = officemate.officemate\n\n  req avoid(boss)\n}\n\n","name":"testsmt8.k","json2":{"decls":[{"entityToken":"class","ident":"Person","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"age","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"element":"age","type":"ElementValue"},"type":"ExpressionDecl"}],"ident":"getAge","typeParams":[],"params":[],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"getAge","type":"ElementValue"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},18],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]},{"entityToken":"class","ident":"Employee","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Person"],"type":"QualifiedName"}],"type":"Expression"},"name":"boss","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Employee"],"type":"QualifiedName"}],"type":"Expression"},"name":"officemate","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"NotEQ",{"element":"officemate","type":"ElementValue"},{"element":"p","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"avoid","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Employee"],"type":"QualifiedName"}],"type":"Expression"},"name":"p","type":"Param"}],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"boss","type":"ElementValue"},"age"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},30],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"operand":[{"element":"ElementValue","type":"ThisLiteral"}],"type":"Expression"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"officemate","type":"ElementValue"},"officemate"]}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"avoid","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"boss","type":"ElementValue"}],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Person"],"type":"QualifiedName"}],"type":"Expression"}]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"Person","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"age","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"ident":"age","type":"IdentExp"},"type":"ExpressionDecl"}],"ident":"getAge","typeParams":[],"params":[],"type":"FunDecl"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":18},"exp1":{"args":[],"type":"FunApplExp","exp1":{"ident":"getAge","type":"IdentExp"}}},"type":"ConstraintDecl"}],"extending":[]},{"entityToken":"class","ident":"Employee","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["Person"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"boss","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Employee"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"officemate","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"BoolType"},"body":[{"exp":{"op":"NotEQ","type":"BinExp","exp2":{"ident":"p","type":"IdentExp"},"exp1":{"ident":"officemate","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"avoid","typeParams":[],"params":[{"ty":{"ident":{"names":["Employee"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"p","type":"Param"}],"type":"FunDecl"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":30},"exp1":{"exp":{"ident":"boss","type":"IdentExp"},"ident":"age","type":"DotExp"}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"exp":{"ident":"officemate","type":"IdentExp"},"ident":"officemate","type":"DotExp"},"exp1":{"type":"ThisLiteral"}},"type":"ConstraintDecl"},{"exp":{"args":[{"exp":{"ident":"boss","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"avoid","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[{"ident":{"names":["Person"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]}],"annotations":[],"type":"Model","imports":[]},"smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-datatypes () ((Person (mk-Person (age Int)))))\n(declare-datatypes () ((Employee (mk-Employee (age Int)(boss Ref)(officemate Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-Person (sel-Person Person))\n  (lift-Employee (sel-Employee Employee))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-Person ((this Ref)) Bool\n  (is-lift-Person (deref this))\n)\n\n(define-fun deref-Person ((this Ref)) Person\n  (sel-Person (deref this))\n)\n\n(define-fun deref-is-Employee ((this Ref)) Bool\n  (is-lift-Employee (deref this))\n)\n\n(define-fun deref-Employee ((this Ref)) Employee\n  (sel-Employee (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-Person ((this Ref)) Bool\n  (or\n    (deref-is-Person this)\n    (deref-is-Employee this)\n  )\n)\n\n(define-fun deref-isa-Employee ((this Ref)) Bool\n  (deref-is-Employee this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -----------------------------\n;   Getters for class Person:\n; -----------------------------\n\n; --- getters for Person.age: ---\n\n(define-fun Person.age ((this Ref)) Int\n  (ite (deref-is-Person this) (age (deref-Person this))\n  (age (deref-Employee this)))\n)\n\n(define-fun Person!age ((this Ref)) Int\n  (age (deref-Person this))\n)\n\n; -------------------------------\n;   Getters for class Employee:\n; -------------------------------\n\n; --- getters for Employee.age: ---\n\n(define-fun Employee.age ((this Ref)) Int\n  (age (deref-Employee this))\n)\n\n(define-fun Employee!age ((this Ref)) Int\n  (age (deref-Employee this))\n)\n\n; --- getters for Employee.boss: ---\n\n(define-fun Employee!boss ((this Ref)) Ref\n  (boss (deref-Employee this))\n)\n\n; --- getters for Employee.officemate: ---\n\n(define-fun Employee.officemate ((this Ref)) Ref\n  (officemate (deref-Employee this))\n)\n\n(define-fun Employee!officemate ((this Ref)) Ref\n  (officemate (deref-Employee this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -----------------------------\n;   Methods for class Person:\n; -----------------------------\n\n(define-fun Person.getAge ((this Ref)) Int\n  (Person.age this) \n)\n\n(define-fun Person!getAge ((this Ref)) Int\n  (Person!age this) \n)\n\n; -------------------------------\n;   Methods for class Employee:\n; -------------------------------\n\n(define-fun Employee.getAge ((this Ref)) Int\n  (Employee.age this) \n)\n\n(define-fun Employee!getAge ((this Ref)) Int\n  (Employee!age this) \n)\n\n(define-fun Employee.avoid ((this Ref)(p Ref)) Bool\n  (not (= (Employee.officemate this)  p))\n)\n\n(define-fun Employee!avoid ((this Ref)(p Ref)) Bool\n  (not (= (Employee!officemate this)  p))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; -------------------------------\n;   Invariant for class Person:\n; -------------------------------\n\n(define-fun Person.inv ((this Ref)) Bool\n  (and\n    (> (Person!getAge this ) 18)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Person this) (Person.inv this))\n))\n\n; ---------------------------------\n;   Invariant for class Employee:\n; ---------------------------------\n\n(define-fun Employee.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Person (Employee!boss this))\n    (deref-isa-Employee (Employee!officemate this))\n    (> (Employee!getAge this ) 18)\n    (> (Person.age (Employee!boss this) ) 30)\n    (= this (Employee.officemate (Employee!officemate this) ))\n    (Employee!avoid this (Employee!boss this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Employee this) (Employee.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfPerson Ref)) (deref-is-Person instanceOfPerson)))\n(assert (exists ((instanceOfEmployee Ref)) (deref-is-Employee instanceOfEmployee)))\n\n"},"testsmt6.k":{"typeChecks":true,"model":"\nERROR:Int\n\nreq ERROR < 0\n\nfun CHECK(b:Bool) : Int\n{\n  if b then\n    42\n  else\n    ERROR\n}\n\nclass Event {\n  id:Int\n}\n\nclass State {\n  id:Int\n}\n\nclass RocketMachine {\n  off:State\n  ready:State\n  firing:State\n  turn_on:Event\n  fire:Event\n  turn_off:Event\n\n  req off != ready && off != firing && firing != ready\n\n  fun move(s:State,e:Event) : State\n  {\n    if s = off && e = turn_on then\n      ready\n    else\n      if s = ready && e = fire then\n        firing\n      else\n        if s = firing && e = turn_off then\n          off\n        else\n          s\n  }\n\n  req move(off,turn_on) = ready\n\n  req move(ready,fire) = firing\n\n  req move(firing,turn_off) = off\n  RESULT:Int = CHECK(off != ready && off != firing && firing != ready && move(off,turn_on) = ready && move(ready,fire) = firing && move(firing,turn_off) = off)\n}\n\n","name":"testsmt6.k","json2":{"decls":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"ERROR","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IfExp"},{"element":"b","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},42],"type":"Expression"},{"element":"ERROR","type":"ElementValue"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"Event","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"id","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"State","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"id","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"RocketMachine","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["State"],"type":"QualifiedName"}],"type":"Expression"},"name":"off","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["State"],"type":"QualifiedName"}],"type":"Expression"},"name":"ready","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["State"],"type":"QualifiedName"}],"type":"Expression"},"name":"firing","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"turn_on","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"fire","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"turn_off","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"NotEQ",{"element":"off","type":"ElementValue"},{"element":"ready","type":"ElementValue"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"NotEQ",{"element":"off","type":"ElementValue"},{"element":"firing","type":"ElementValue"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"NotEQ",{"element":"firing","type":"ElementValue"},{"element":"ready","type":"ElementValue"}]}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["State"],"type":"QualifiedName"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IfExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"s","type":"ElementValue"},{"element":"off","type":"ElementValue"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"e","type":"ElementValue"},{"element":"turn_on","type":"ElementValue"}]}]},{"element":"ready","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IfExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"s","type":"ElementValue"},{"element":"ready","type":"ElementValue"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"e","type":"ElementValue"},{"element":"fire","type":"ElementValue"}]}]},{"element":"firing","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IfExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"s","type":"ElementValue"},{"element":"firing","type":"ElementValue"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"e","type":"ElementValue"},{"element":"turn_off","type":"ElementValue"}]}]},{"element":"off","type":"ElementValue"},{"element":"s","type":"ElementValue"}],"type":"Expression"}],"type":"Expression"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"move","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["State"],"type":"QualifiedName"}],"type":"Expression"},"name":"s","type":"Param"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"e","type":"Param"}],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"move","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"off","type":"ElementValue"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"turn_on","type":"ElementValue"}],"type":"Expression"}]},{"element":"ready","type":"ElementValue"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"move","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"ready","type":"ElementValue"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"fire","type":"ElementValue"}],"type":"Expression"}]},{"element":"firing","type":"ElementValue"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"move","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"firing","type":"ElementValue"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"turn_off","type":"ElementValue"}],"type":"Expression"}]},{"element":"off","type":"ElementValue"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"NotEQ",{"element":"off","type":"ElementValue"},{"element":"ready","type":"ElementValue"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"NotEQ",{"element":"off","type":"ElementValue"},{"element":"firing","type":"ElementValue"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"NotEQ",{"element":"firing","type":"ElementValue"},{"element":"ready","type":"ElementValue"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"move","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"off","type":"ElementValue"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"turn_on","type":"ElementValue"}],"type":"Expression"}]},{"element":"ready","type":"ElementValue"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"move","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"ready","type":"ElementValue"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"fire","type":"ElementValue"}],"type":"Expression"}]},{"element":"firing","type":"ElementValue"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"move","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"firing","type":"ElementValue"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"turn_off","type":"ElementValue"}],"type":"Expression"}]},{"element":"off","type":"ElementValue"}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"ty":{"type":"IntType"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"ERROR","type":"IdentExp"}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"trueBranch":{"type":"LiteralInteger","i":42},"falseBranch":{"ident":"ERROR","type":"IdentExp"},"type":"IfExp","cond":{"ident":"b","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"type":"BoolType"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"Event","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"id","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"State","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"id","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"RocketMachine","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["State"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"off","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["State"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"ready","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["State"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"firing","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"turn_on","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"fire","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"turn_off","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"And","type":"BinExp","exp2":{"op":"NotEQ","type":"BinExp","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"ident":"firing","type":"IdentExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"NotEQ","type":"BinExp","exp2":{"ident":"firing","type":"IdentExp"},"exp1":{"ident":"off","type":"IdentExp"}},"exp1":{"op":"NotEQ","type":"BinExp","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"ident":"off","type":"IdentExp"}}}},"type":"ConstraintDecl"},{"spec":[],"ty":{"ident":{"names":["State"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"body":[{"exp":{"trueBranch":{"ident":"ready","type":"IdentExp"},"falseBranch":{"trueBranch":{"ident":"firing","type":"IdentExp"},"falseBranch":{"trueBranch":{"ident":"off","type":"IdentExp"},"falseBranch":{"ident":"s","type":"IdentExp"},"type":"IfExp","cond":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"ident":"turn_off","type":"IdentExp"},"exp1":{"ident":"e","type":"IdentExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"ident":"firing","type":"IdentExp"},"exp1":{"ident":"s","type":"IdentExp"}}}},"type":"IfExp","cond":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"ident":"fire","type":"IdentExp"},"exp1":{"ident":"e","type":"IdentExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"ident":"s","type":"IdentExp"}}}},"type":"IfExp","cond":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"ident":"turn_on","type":"IdentExp"},"exp1":{"ident":"e","type":"IdentExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"ident":"off","type":"IdentExp"},"exp1":{"ident":"s","type":"IdentExp"}}}},"type":"ExpressionDecl"}],"ident":"move","typeParams":[],"params":[{"ty":{"ident":{"names":["State"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"s","type":"Param"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"e","type":"Param"}],"type":"FunDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"args":[{"exp":{"ident":"off","type":"IdentExp"},"type":"PositionalArgument"},{"exp":{"ident":"turn_on","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"move","type":"IdentExp"}}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"ident":"firing","type":"IdentExp"},"exp1":{"args":[{"exp":{"ident":"ready","type":"IdentExp"},"type":"PositionalArgument"},{"exp":{"ident":"fire","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"move","type":"IdentExp"}}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"ident":"off","type":"IdentExp"},"exp1":{"args":[{"exp":{"ident":"firing","type":"IdentExp"},"type":"PositionalArgument"},{"exp":{"ident":"turn_off","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"move","type":"IdentExp"}}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"ident":"off","type":"IdentExp"},"exp1":{"args":[{"exp":{"ident":"firing","type":"IdentExp"},"type":"PositionalArgument"},{"exp":{"ident":"turn_off","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"move","type":"IdentExp"}}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"ident":"firing","type":"IdentExp"},"exp1":{"args":[{"exp":{"ident":"ready","type":"IdentExp"},"type":"PositionalArgument"},{"exp":{"ident":"fire","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"move","type":"IdentExp"}}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"args":[{"exp":{"ident":"off","type":"IdentExp"},"type":"PositionalArgument"},{"exp":{"ident":"turn_on","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"move","type":"IdentExp"}}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"NotEQ","type":"BinExp","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"ident":"firing","type":"IdentExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"NotEQ","type":"BinExp","exp2":{"ident":"firing","type":"IdentExp"},"exp1":{"ident":"off","type":"IdentExp"}},"exp1":{"op":"NotEQ","type":"BinExp","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"ident":"off","type":"IdentExp"}}}}}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfEvent!0 () Int\n  1)\n(define-fun instanceOfRocketMachine!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfState!1 () Int\n  2)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 10) (lift-Event (mk-Event 13))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations (- 1)))\n  (ite (= x!1 1) (lift-Event (mk-Event 4))\n  (ite (= x!1 8) (lift-State (mk-State 15))\n  (ite (= x!1 11) (lift-Event (mk-Event 12))\n  (ite (= x!1 9) (lift-Event (mk-Event 14))\n  (ite (= x!1 6) (lift-State (mk-State 17))\n  (ite (= x!1 3) (lift-RocketMachine (mk-RocketMachine 6 7 8 9 10 11 42))\n  (ite (= x!1 2) (lift-State (mk-State 5))\n    (lift-State (mk-State 16))))))))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 0) 0\n  (ite (= x!1 1) 1\n  (ite (= x!1 3) 3\n  (ite (= x!1 6) 6\n  (ite (= x!1 10) 10\n  (ite (= x!1 11) 11\n  (ite (= x!1 8) 8\n  (ite (= x!1 7) 7\n  (ite (= x!1 2) 2\n    9))))))))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (ERROR Int)))))\n(declare-datatypes () ((Event (mk-Event (id Int)))))\n(declare-datatypes () ((State (mk-State (id Int)))))\n(declare-datatypes () ((RocketMachine (mk-RocketMachine (off Ref)(ready Ref)(firing Ref)(turn_on Ref)(fire Ref)(turn_off Ref)(RESULT Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-Event (sel-Event Event))\n  (lift-State (sel-State State))\n  (lift-RocketMachine (sel-RocketMachine RocketMachine))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-Event ((this Ref)) Bool\n  (is-lift-Event (deref this))\n)\n\n(define-fun deref-Event ((this Ref)) Event\n  (sel-Event (deref this))\n)\n\n(define-fun deref-is-State ((this Ref)) Bool\n  (is-lift-State (deref this))\n)\n\n(define-fun deref-State ((this Ref)) State\n  (sel-State (deref this))\n)\n\n(define-fun deref-is-RocketMachine ((this Ref)) Bool\n  (is-lift-RocketMachine (deref this))\n)\n\n(define-fun deref-RocketMachine ((this Ref)) RocketMachine\n  (sel-RocketMachine (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-Event ((this Ref)) Bool\n  (deref-is-Event this)\n)\n\n(define-fun deref-isa-State ((this Ref)) Bool\n  (deref-is-State this)\n)\n\n(define-fun deref-isa-RocketMachine ((this Ref)) Bool\n  (deref-is-RocketMachine this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.ERROR: ---\n\n(define-fun TopLevelDeclarations.ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n(define-fun TopLevelDeclarations!ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n; ------------------------------------\n;   Getters for class RocketMachine:\n; ------------------------------------\n\n; --- getters for RocketMachine.off: ---\n\n(define-fun RocketMachine.off ((this Ref)) Ref\n  (off (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!off ((this Ref)) Ref\n  (off (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.ready: ---\n\n(define-fun RocketMachine.ready ((this Ref)) Ref\n  (ready (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!ready ((this Ref)) Ref\n  (ready (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.firing: ---\n\n(define-fun RocketMachine.firing ((this Ref)) Ref\n  (firing (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!firing ((this Ref)) Ref\n  (firing (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.turn_on: ---\n\n(define-fun RocketMachine.turn_on ((this Ref)) Ref\n  (turn_on (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!turn_on ((this Ref)) Ref\n  (turn_on (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.fire: ---\n\n(define-fun RocketMachine.fire ((this Ref)) Ref\n  (fire (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!fire ((this Ref)) Ref\n  (fire (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.turn_off: ---\n\n(define-fun RocketMachine.turn_off ((this Ref)) Ref\n  (turn_off (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!turn_off ((this Ref)) Ref\n  (turn_off (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.RESULT: ---\n\n(define-fun RocketMachine!RESULT ((this Ref)) Int\n  (RESULT (deref-RocketMachine this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations.ERROR this) )\n)\n\n(define-fun TopLevelDeclarations!CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations!ERROR this) )\n)\n\n; ------------------------------------\n;   Methods for class RocketMachine:\n; ------------------------------------\n\n(define-fun RocketMachine.move ((this Ref)(s Ref)(e Ref)) Ref\n  (ite (and (= s (RocketMachine.off this) ) (= e (RocketMachine.turn_on this) )) (RocketMachine.ready this)  (ite (and (= s (RocketMachine.ready this) ) (= e (RocketMachine.fire this) )) (RocketMachine.firing this)  (ite (and (= s (RocketMachine.firing this) ) (= e (RocketMachine.turn_off this) )) (RocketMachine.off this)  s)))\n)\n\n(define-fun RocketMachine!move ((this Ref)(s Ref)(e Ref)) Ref\n  (ite (and (= s (RocketMachine!off this) ) (= e (RocketMachine!turn_on this) )) (RocketMachine!ready this)  (ite (and (= s (RocketMachine!ready this) ) (= e (RocketMachine!fire this) )) (RocketMachine!firing this)  (ite (and (= s (RocketMachine!firing this) ) (= e (RocketMachine!turn_off this) )) (RocketMachine!off this)  s)))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (< (TopLevelDeclarations!ERROR this)  0)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; ------------------------------\n;   Invariant for class Event:\n; ------------------------------\n\n(define-fun Event.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Event this) (Event.inv this))\n))\n\n; ------------------------------\n;   Invariant for class State:\n; ------------------------------\n\n(define-fun State.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-State this) (State.inv this))\n))\n\n; --------------------------------------\n;   Invariant for class RocketMachine:\n; --------------------------------------\n\n(define-fun RocketMachine.inv ((this Ref)) Bool\n  (and\n    (= (RocketMachine!RESULT this) (TopLevelDeclarations!CHECK 0 (and (and (and (and (and (not (= (RocketMachine!off this)  (RocketMachine!ready this) )) (not (= (RocketMachine!off this)  (RocketMachine!firing this) ))) (not (= (RocketMachine!firing this)  (RocketMachine!ready this) ))) (= (RocketMachine!move this (RocketMachine!off this)  (RocketMachine!turn_on this) ) (RocketMachine!ready this) )) (= (RocketMachine!move this (RocketMachine!ready this)  (RocketMachine!fire this) ) (RocketMachine!firing this) )) (= (RocketMachine!move this (RocketMachine!firing this)  (RocketMachine!turn_off this) ) (RocketMachine!off this) ))))\n    (deref-isa-State (RocketMachine!off this))\n    (deref-isa-State (RocketMachine!ready this))\n    (deref-isa-State (RocketMachine!firing this))\n    (deref-isa-Event (RocketMachine!turn_on this))\n    (deref-isa-Event (RocketMachine!fire this))\n    (deref-isa-Event (RocketMachine!turn_off this))\n    (and (and (not (= (RocketMachine!off this)  (RocketMachine!ready this) )) (not (= (RocketMachine!off this)  (RocketMachine!firing this) ))) (not (= (RocketMachine!firing this)  (RocketMachine!ready this) )))\n    (= (RocketMachine!move this (RocketMachine!off this)  (RocketMachine!turn_on this) ) (RocketMachine!ready this) )\n    (= (RocketMachine!move this (RocketMachine!ready this)  (RocketMachine!fire this) ) (RocketMachine!firing this) )\n    (= (RocketMachine!move this (RocketMachine!firing this)  (RocketMachine!turn_off this) ) (RocketMachine!off this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-RocketMachine this) (RocketMachine.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfEvent Ref)) (deref-is-Event instanceOfEvent)))\n(assert (exists ((instanceOfState Ref)) (deref-is-State instanceOfState)))\n(assert (exists ((instanceOfRocketMachine Ref)) (deref-is-RocketMachine instanceOfRocketMachine)))\n\n"},"inheritance9.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int = 10\n}\n\nclass B extending A {\n  b:Int\n\n  req b = a + 1\n}\n\nclass C extending B {\n  c:Int\n\n  req c = b + 1\n}\n\nclass D extending C {\n  d:Int\n\n  req d = c + 1\n}\n\nclass E {\n  a:A\n}\n\n","name":"inheritance9.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"a","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"b","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"a","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]}]},"type":"ConstraintDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"c","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"b","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]}]},"type":"ConstraintDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"d","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"c","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]}]},"type":"ConstraintDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["C"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"E","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"type":"LiteralInteger","i":10},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"a","type":"IdentExp"}},"exp1":{"ident":"b","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"b","type":"IdentExp"}},"exp1":{"ident":"c","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"c","type":"IdentExp"}},"exp1":{"ident":"d","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[{"ident":{"names":["C"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"E","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"a","modifiers":[],"type":"PropertyDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun instanceOfE!4 () Int\n  6)\n(define-fun instanceOfD!3 () Int\n  5)\n(define-fun instanceOfC!2 () Int\n  4)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!5))\n(define-fun instanceOfB!1 () Int\n  3)\n(define-fun instanceOfA!0 () Int\n  2)\n(define-fun k!6 ((x!1 Int)) Int\n  (ite (= x!1 7) 7\n  (ite (= x!1 5) 5\n  (ite (= x!1 4) 4\n  (ite (= x!1 6) 6\n  (ite (= x!1 0) 0\n  (ite (= x!1 2) 2\n    3)))))))\n(define-fun k!5!7 ((x!1 Int)) Any\n  (ite (= x!1 6) (lift-E (mk-E 7))\n  (ite (= x!1 4) (lift-C (mk-C 10 11 12))\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 2) (lift-A (mk-A 10))\n  (ite (= x!1 5) (lift-D (mk-D 10 11 12 13))\n    (lift-B (mk-B 10 11))))))))\n(define-fun k!5 ((x!1 Int)) Any\n  (k!5!7 (k!6 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)))))\n(declare-datatypes () ((D (mk-D (a Int)(b Int)(c Int)(d Int)))))\n(declare-datatypes () ((E (mk-E (a Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-E (sel-E E))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-E ((this Ref)) Bool\n  (is-lift-E (deref this))\n)\n\n(define-fun deref-E ((this Ref)) E\n  (sel-E (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (deref-is-D this)\n)\n\n(define-fun deref-isa-E ((this Ref)) Bool\n  (deref-is-E this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C.a ((this Ref)) Int\n  (ite (deref-is-C this) (a (deref-C this))\n  (a (deref-D this)))\n)\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.b: ---\n\n(define-fun C.b ((this Ref)) Int\n  (ite (deref-is-C this) (b (deref-C this))\n  (b (deref-D this)))\n)\n\n(define-fun C!b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (ite (deref-is-C this) (c (deref-C this))\n  (c (deref-D this)))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.a: ---\n\n(define-fun D.a ((this Ref)) Int\n  (a (deref-D this))\n)\n\n(define-fun D!a ((this Ref)) Int\n  (a (deref-D this))\n)\n\n; --- getters for D.b: ---\n\n(define-fun D!b ((this Ref)) Int\n  (b (deref-D this))\n)\n\n; --- getters for D.c: ---\n\n(define-fun D.c ((this Ref)) Int\n  (c (deref-D this))\n)\n\n(define-fun D!c ((this Ref)) Int\n  (c (deref-D this))\n)\n\n; --- getters for D.d: ---\n\n(define-fun D.d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; ------------------------\n;   Getters for class E:\n; ------------------------\n\n; --- getters for E.a: ---\n\n(define-fun E!a ((this Ref)) Ref\n  (a (deref-E this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!a this) 10)\n    (= (B!b this)  (+ (B!a this)  1))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (C!a this) 10)\n    (= (C!b this)  (+ (C!a this)  1))\n    (= (C!c this)  (+ (C!b this)  1))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (= (D!a this) 10)\n    (= (D!b this)  (+ (D!a this)  1))\n    (= (D!c this)  (+ (D!b this)  1))\n    (= (D!d this)  (+ (D!c this)  1))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; --------------------------\n;   Invariant for class E:\n; --------------------------\n\n(define-fun E.inv ((this Ref)) Bool\n  (and\n    (deref-isa-A (E!a this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-E this) (E.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (exists ((instanceOfE Ref)) (deref-is-E instanceOfE)))\n\n"},"testsmt5.k":{"typeChecks":true,"model":"\nERROR:Int\n\nreq ERROR < 0\n\nfun CHECK(b:Bool) : Int\n{\n  if b then\n    42\n  else\n    ERROR\n}\n\nclass Event {\n  t1:Int\n  t2:Int\n\n  fun meets(other:Event) : Bool\n  {\n    t2 = other.t1\n  }\n\n  fun before(other:Event) : Bool\n  {\n    t2 < other.t1\n  }\n\n  fun contains(other:Event) : Bool\n  {\n    t1 < other.t1 && other.t2 < t2\n  }\n\n  req t1 < t2\n\n  req t2 - t1 > 10\n  RESULT:Int = CHECK(t1 < t2 && t2 - t1 > 10)\n}\n\nclass Schedule {\n  a:Event\n  b:Event\n  c:Event\n  d:Event\n\n  req a.meets(b)\n\n  req b.before(c)\n\n  req c.contains(d)\n  RESULT:Int = CHECK(a.t2 = b.t1 && b.t2 < c.t1 && c.t1 <= d.t1 && d.t2 <= c.t2)\n}\n\n","name":"testsmt5.k","json2":{"decls":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"ERROR","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IfExp"},{"element":"b","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},42],"type":"Expression"},{"element":"ERROR","type":"ElementValue"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"Event","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"t1","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"t2","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"t2","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"other","type":"ElementValue"},"t1"]}]},"type":"ExpressionDecl"}],"ident":"meets","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"other","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"t2","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"other","type":"ElementValue"},"t1"]}]},"type":"ExpressionDecl"}],"ident":"before","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"other","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"t1","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"other","type":"ElementValue"},"t1"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"other","type":"ElementValue"},"t2"]},{"element":"t2","type":"ElementValue"}]}]},"type":"ExpressionDecl"}],"ident":"contains","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"other","type":"Param"}],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"t1","type":"ElementValue"},{"element":"t2","type":"ElementValue"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Minus",{"element":"t2","type":"ElementValue"},{"element":"t1","type":"ElementValue"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"t1","type":"ElementValue"},{"element":"t2","type":"ElementValue"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Minus",{"element":"t2","type":"ElementValue"},{"element":"t1","type":"ElementValue"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"Schedule","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"meets"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"b","type":"ElementValue"}],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"b","type":"ElementValue"},"before"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"c","type":"ElementValue"}],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"c","type":"ElementValue"},"contains"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"d","type":"ElementValue"}],"type":"Expression"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"b","type":"ElementValue"},"t1"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"b","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"c","type":"ElementValue"},"t1"]}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"c","type":"ElementValue"},"t1"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"d","type":"ElementValue"},"t1"]}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"d","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"c","type":"ElementValue"},"t2"]}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"ty":{"type":"IntType"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"ERROR","type":"IdentExp"}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"trueBranch":{"type":"LiteralInteger","i":42},"falseBranch":{"ident":"ERROR","type":"IdentExp"},"type":"IfExp","cond":{"ident":"b","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"type":"BoolType"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"Event","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"t1","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"t2","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"BoolType"},"body":[{"exp":{"op":"EQ","type":"BinExp","exp2":{"exp":{"ident":"other","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"ident":"t2","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"meets","typeParams":[],"params":[{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"other","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"type":"BoolType"},"body":[{"exp":{"op":"LT","type":"BinExp","exp2":{"exp":{"ident":"other","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"ident":"t2","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"before","typeParams":[],"params":[{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"other","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"type":"BoolType"},"body":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"exp":{"ident":"other","type":"IdentExp"},"ident":"t2","type":"DotExp"}},"exp1":{"op":"LT","type":"BinExp","exp2":{"exp":{"ident":"other","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"ident":"t1","type":"IdentExp"}}},"type":"ExpressionDecl"}],"ident":"contains","typeParams":[],"params":[{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"other","type":"Param"}],"type":"FunDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"ident":"t1","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"op":"Minus","type":"BinExp","exp2":{"ident":"t1","type":"IdentExp"},"exp1":{"ident":"t2","type":"IdentExp"}}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"op":"Minus","type":"BinExp","exp2":{"ident":"t1","type":"IdentExp"},"exp1":{"ident":"t2","type":"IdentExp"}}},"exp1":{"op":"LT","type":"BinExp","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"ident":"t1","type":"IdentExp"}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"Schedule","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"exp":{"args":[{"exp":{"ident":"b","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"ident":"a","type":"IdentExp"},"ident":"meets","type":"DotExp"}},"type":"ConstraintDecl"},{"exp":{"args":[{"exp":{"ident":"c","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"ident":"b","type":"IdentExp"},"ident":"before","type":"DotExp"}},"type":"ConstraintDecl"},{"exp":{"args":[{"exp":{"ident":"d","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"ident":"c","type":"IdentExp"},"ident":"contains","type":"DotExp"}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"LTE","type":"BinExp","exp2":{"exp":{"ident":"c","type":"IdentExp"},"ident":"t2","type":"DotExp"},"exp1":{"exp":{"ident":"d","type":"IdentExp"},"ident":"t2","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"LTE","type":"BinExp","exp2":{"exp":{"ident":"d","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"c","type":"IdentExp"},"ident":"t1","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"exp":{"ident":"c","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"b","type":"IdentExp"},"ident":"t2","type":"DotExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"exp":{"ident":"b","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"a","type":"IdentExp"},"ident":"t2","type":"DotExp"}}}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfEvent!0 () Int\n  1)\n(define-fun instanceOfSchedule!1 () Int\n  2)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 4) 4\n  (ite (= x!1 5) 5\n  (ite (= x!1 6) 6\n  (ite (= x!1 2) 2\n  (ite (= x!1 3) 3\n  (ite (= x!1 0) 0\n    1)))))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 2) (lift-Schedule (mk-Schedule 3 4 5 6 42))\n  (ite (= x!1 3) (lift-Event (mk-Event 2414 2425 42))\n  (ite (= x!1 4) (lift-Event (mk-Event 2425 2436 42))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations (- 8856)))\n  (ite (= x!1 6) (lift-Event (mk-Event 2438 2449 42))\n  (ite (= x!1 1) (lift-Event (mk-Event 8354 8365 42))\n    (lift-Event (mk-Event 2437 2450 42)))))))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (ERROR Int)))))\n(declare-datatypes () ((Event (mk-Event (t1 Int)(t2 Int)(RESULT Int)))))\n(declare-datatypes () ((Schedule (mk-Schedule (a Ref)(b Ref)(c Ref)(d Ref)(RESULT Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-Event (sel-Event Event))\n  (lift-Schedule (sel-Schedule Schedule))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-Event ((this Ref)) Bool\n  (is-lift-Event (deref this))\n)\n\n(define-fun deref-Event ((this Ref)) Event\n  (sel-Event (deref this))\n)\n\n(define-fun deref-is-Schedule ((this Ref)) Bool\n  (is-lift-Schedule (deref this))\n)\n\n(define-fun deref-Schedule ((this Ref)) Schedule\n  (sel-Schedule (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-Event ((this Ref)) Bool\n  (deref-is-Event this)\n)\n\n(define-fun deref-isa-Schedule ((this Ref)) Bool\n  (deref-is-Schedule this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.ERROR: ---\n\n(define-fun TopLevelDeclarations.ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n(define-fun TopLevelDeclarations!ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n; ----------------------------\n;   Getters for class Event:\n; ----------------------------\n\n; --- getters for Event.t1: ---\n\n(define-fun Event.t1 ((this Ref)) Int\n  (t1 (deref-Event this))\n)\n\n(define-fun Event!t1 ((this Ref)) Int\n  (t1 (deref-Event this))\n)\n\n; --- getters for Event.t2: ---\n\n(define-fun Event.t2 ((this Ref)) Int\n  (t2 (deref-Event this))\n)\n\n(define-fun Event!t2 ((this Ref)) Int\n  (t2 (deref-Event this))\n)\n\n; --- getters for Event.RESULT: ---\n\n(define-fun Event!RESULT ((this Ref)) Int\n  (RESULT (deref-Event this))\n)\n\n; -------------------------------\n;   Getters for class Schedule:\n; -------------------------------\n\n; --- getters for Schedule.a: ---\n\n(define-fun Schedule!a ((this Ref)) Ref\n  (a (deref-Schedule this))\n)\n\n; --- getters for Schedule.b: ---\n\n(define-fun Schedule!b ((this Ref)) Ref\n  (b (deref-Schedule this))\n)\n\n; --- getters for Schedule.c: ---\n\n(define-fun Schedule!c ((this Ref)) Ref\n  (c (deref-Schedule this))\n)\n\n; --- getters for Schedule.d: ---\n\n(define-fun Schedule!d ((this Ref)) Ref\n  (d (deref-Schedule this))\n)\n\n; --- getters for Schedule.RESULT: ---\n\n(define-fun Schedule!RESULT ((this Ref)) Int\n  (RESULT (deref-Schedule this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations.ERROR this) )\n)\n\n(define-fun TopLevelDeclarations!CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations!ERROR this) )\n)\n\n; ----------------------------\n;   Methods for class Event:\n; ----------------------------\n\n(define-fun Event.meets ((this Ref)(other Ref)) Bool\n  (= (Event.t2 this)  (Event.t1 other))\n)\n\n(define-fun Event!meets ((this Ref)(other Ref)) Bool\n  (= (Event!t2 this)  (Event.t1 other))\n)\n\n(define-fun Event.before ((this Ref)(other Ref)) Bool\n  (< (Event.t2 this)  (Event.t1 other))\n)\n\n(define-fun Event!before ((this Ref)(other Ref)) Bool\n  (< (Event!t2 this)  (Event.t1 other))\n)\n\n(define-fun Event.contains ((this Ref)(other Ref)) Bool\n  (and (< (Event.t1 this)  (Event.t1 other)) (< (Event.t2 other) (Event.t2 this) ))\n)\n\n(define-fun Event!contains ((this Ref)(other Ref)) Bool\n  (and (< (Event!t1 this)  (Event.t1 other)) (< (Event.t2 other) (Event!t2 this) ))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (< (TopLevelDeclarations!ERROR this)  0)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; ------------------------------\n;   Invariant for class Event:\n; ------------------------------\n\n(define-fun Event.inv ((this Ref)) Bool\n  (and\n    (= (Event!RESULT this) (TopLevelDeclarations!CHECK 0 (and (< (Event!t1 this)  (Event!t2 this) ) (> (- (Event!t2 this)  (Event!t1 this) ) 10))))\n    (< (Event!t1 this)  (Event!t2 this) )\n    (> (- (Event!t2 this)  (Event!t1 this) ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Event this) (Event.inv this))\n))\n\n; ---------------------------------\n;   Invariant for class Schedule:\n; ---------------------------------\n\n(define-fun Schedule.inv ((this Ref)) Bool\n  (and\n    (= (Schedule!RESULT this) (TopLevelDeclarations!CHECK 0 (and (and (and (= (Event.t2 (Schedule!a this) ) (Event.t1 (Schedule!b this) )) (< (Event.t2 (Schedule!b this) ) (Event.t1 (Schedule!c this) ))) (<= (Event.t1 (Schedule!c this) ) (Event.t1 (Schedule!d this) ))) (<= (Event.t2 (Schedule!d this) ) (Event.t2 (Schedule!c this) )))))\n    (deref-isa-Event (Schedule!a this))\n    (deref-isa-Event (Schedule!b this))\n    (deref-isa-Event (Schedule!c this))\n    (deref-isa-Event (Schedule!d this))\n    (Event.meets (Schedule!a this)  (Schedule!b this) )\n    (Event.before (Schedule!b this)  (Schedule!c this) )\n    (Event.contains (Schedule!c this)  (Schedule!d this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Schedule this) (Schedule.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfEvent Ref)) (deref-is-Event instanceOfEvent)))\n(assert (exists ((instanceOfSchedule Ref)) (deref-is-Schedule instanceOfSchedule)))\n\n"},"testsmt15.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int\n\n  req a = {\n    k1:Int = 1\n    k1\n  } + {\n    k2:Int = 2\n    k3:Int = 3\n    k2 + k3\n  }\n}\n\n","name":"testsmt15.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"a","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"operand":[{"element":"ElementValue","type":"BlockExp"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k1","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"exp":{"element":"k1","type":"ElementValue"},"type":"ExpressionDecl"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"BlockExp"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k2","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k3","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"k2","type":"ElementValue"},{"element":"k3","type":"ElementValue"}]},"type":"ExpressionDecl"}],"type":"Expression"}]}]},"type":"ConstraintDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"op":"Plus","type":"BinExp","exp2":{"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k2","expr":{"type":"LiteralInteger","i":2},"modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"k3","expr":{"type":"LiteralInteger","i":3},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"k3","type":"IdentExp"},"exp1":{"ident":"k2","type":"IdentExp"}},"type":"ExpressionDecl"}],"type":"BlockExp"},"exp1":{"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k1","expr":{"type":"LiteralInteger","i":1},"modifiers":[],"type":"PropertyDecl"},{"exp":{"ident":"k1","type":"IdentExp"},"type":"ExpressionDecl"}],"type":"BlockExp"}},"exp1":{"ident":"a","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!1))\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!1!3 ((x!1 Int)) Any\n  (ite (= x!1 1) (lift-A (mk-A 6))\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0)))\n(define-fun k!2 ((x!1 Int)) Int\n  (ite (= x!1 1) 1\n    0))\n(define-fun k!1 ((x!1 Int)) Any\n  (k!1!3 (k!2 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-datatypes () ((A (mk-A (a Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this)  (+   (let ((k1 1))\n    k1)   (let ((k2 2))\n    (let ((k3 3))\n      (+ k2 k3)))))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n\n"},"inheritance4.k":{"typeChecks":true,"model":"\nclass A {\n  x:Int\n\n  req x > 10\n}\n\nclass B extending A {\n  y:Int\n\n  req y > 10 && y < 20\n\n  req x < 20\n}\n\nclass C extending B {\n  z:Int\n\n  req z = 4 && x < 15\n}\n\n","name":"inheritance4.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"y","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"y","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"y","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},20],"type":"Expression"}]}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},20],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"z","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"z","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},4],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},15],"type":"Expression"}]}]},"type":"ConstraintDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"}]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"x","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"ident":"x","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"y","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":20},"exp1":{"ident":"y","type":"IdentExp"}},"exp1":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"ident":"y","type":"IdentExp"}}},"type":"ConstraintDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":20},"exp1":{"ident":"x","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"z","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":15},"exp1":{"ident":"x","type":"IdentExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":4},"exp1":{"ident":"z","type":"IdentExp"}}},"type":"ConstraintDecl"}],"extending":[{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun instanceOfC!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfB!1 () Int\n  2)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 1) (lift-A (mk-A 7730))\n  (ite (= x!1 2) (lift-B (mk-B 18 15))\n    (lift-C (mk-C 12 12 4))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 3) 3\n  (ite (= x!1 0) 0\n  (ite (= x!1 1) 1\n    2))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-datatypes () ((A (mk-A (x Int)))))\n(declare-datatypes () ((B (mk-B (x Int)(y Int)))))\n(declare-datatypes () ((C (mk-C (x Int)(y Int)(z Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (ite (deref-is-A this) (x (deref-A this))\n  (ite (deref-is-B this) (x (deref-B this))\n  (x (deref-C this))))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B.x ((this Ref)) Int\n  (ite (deref-is-B this) (x (deref-B this))\n  (x (deref-C this)))\n)\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.y: ---\n\n(define-fun B.y ((this Ref)) Int\n  (ite (deref-is-B this) (y (deref-B this))\n  (y (deref-C this)))\n)\n\n(define-fun B!y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.x: ---\n\n(define-fun C!x ((this Ref)) Int\n  (x (deref-C this))\n)\n\n; --- getters for C.y: ---\n\n(define-fun C!y ((this Ref)) Int\n  (y (deref-C this))\n)\n\n; --- getters for C.z: ---\n\n(define-fun C!z ((this Ref)) Int\n  (z (deref-C this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (> (A!x this)  10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (> (B!x this)  10)\n    (and (> (B!y this)  10) (< (B!y this)  20))\n    (< (B!x this)  20)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (> (C!x this)  10)\n    (and (> (C!y this)  10) (< (C!y this)  20))\n    (< (C!x this)  20)\n    (and (= (C!z this)  4) (< (C!x this)  15))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n\n"},"global1.k":{"typeChecks":true,"model":"\nfun one : Int\n{\n  1\n}\n\nclass X {\n\n  fun f : Int\n  {\n    one()\n  }\n}\n\n","name":"global1.k","json2":{"decls":[{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"one","typeParams":[],"params":[],"type":"FunDecl"},{"entityToken":"class","ident":"X","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"one","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[],"type":"FunDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"type":"LiteralInteger","i":1},"type":"ExpressionDecl"}],"ident":"one","typeParams":[],"params":[],"type":"FunDecl"},{"entityToken":"class","ident":"X","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"args":[],"type":"FunApplExp","exp1":{"ident":"one","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[],"type":"FunDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n;; universe for X:\n;;   X!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun X!val!0 () X)\n;; cardinality constraint:\n(forall ((x X)) (= x X!val!0))\n;; -----------\n(define-fun instanceOfX!0 () Int\n  1)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!1))\n(define-fun k!1 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 1) (lift-X X!val!0)\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0))))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-sort X) (declare-const mk-X X)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-X (sel-X X))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-X ((this Ref)) Bool\n  (is-lift-X (deref this))\n)\n\n(define-fun deref-X ((this Ref)) X\n  (sel-X (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-X ((this Ref)) Bool\n  (deref-is-X this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.one ((this Ref)) Int\n  1\n)\n\n(define-fun TopLevelDeclarations!one ((this Ref)) Int\n  1\n)\n\n; ------------------------\n;   Methods for class X:\n; ------------------------\n\n(define-fun X.f ((this Ref)) Int\n  (TopLevelDeclarations!one 0 )\n)\n\n(define-fun X!f ((this Ref)) Int\n  (TopLevelDeclarations!one 0 )\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class X:\n; --------------------------\n\n(define-fun X.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-X this) (X.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfX Ref)) (deref-is-X instanceOfX)))\n\n"},"testsmt17.k":{"typeChecks":true,"model":"\nmax:Int\n\nreq max = 1000\n\nfun double(x:Int) : Int\n{\n  x + x\n}\n\nclass A {\n  a:Int\n\n  req double(a) = max\n}\n\ninstA:A\n\nclass B {\n  b:Int = double(instA.a)\n}\n\nX:Int\n\nY:Int\n\nreq X >= 0\n\nreq Y >= 0\n\nfun sum : Int\n{\n  X + Y\n}\n\nclass C {\n\n  req X + Y >= 10\n\n  req sum() <= 10\n}\n\n","name":"testsmt17.k","json2":{"decls":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"max","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"max","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1000],"type":"Expression"}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"x","type":"ElementValue"},{"element":"x","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"double","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"double","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"a","type":"ElementValue"}],"type":"Expression"}]},{"element":"max","type":"ElementValue"}]},"type":"ConstraintDecl"}],"extending":[]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"name":"instA","modifiers":[],"type":"PropertyDecl"},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"b","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"double","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"instA","type":"ElementValue"},"a"]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"X","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"Y","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"element":"X","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"element":"Y","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"X","type":"ElementValue"},{"element":"Y","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"sum","typeParams":[],"params":[],"type":"FunDecl"},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"X","type":"ElementValue"},{"element":"Y","type":"ElementValue"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"sum","type":"ElementValue"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"ty":{"type":"IntType"},"name":"max","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":1000},"exp1":{"ident":"max","type":"IdentExp"}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"x","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"double","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"ident":"max","type":"IdentExp"},"exp1":{"args":[{"exp":{"ident":"a","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"double","type":"IdentExp"}}},"type":"ConstraintDecl"}],"extending":[]},{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"instA","modifiers":[],"type":"PropertyDecl"},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"args":[{"exp":{"exp":{"ident":"instA","type":"IdentExp"},"ident":"a","type":"DotExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"double","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"ty":{"type":"IntType"},"name":"X","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"Y","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"GTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"X","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"op":"GTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"Y","type":"IdentExp"}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"Y","type":"IdentExp"},"exp1":{"ident":"X","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"sum","typeParams":[],"params":[],"type":"FunDecl"},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"exp":{"op":"GTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"Y","type":"IdentExp"},"exp1":{"ident":"X","type":"IdentExp"}}},"type":"ConstraintDecl"},{"exp":{"op":"LTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"args":[],"type":"FunApplExp","exp1":{"ident":"sum","type":"IdentExp"}}},"type":"ConstraintDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for C:\n;;   C!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun C!val!0 () C)\n;; cardinality constraint:\n(forall ((x C)) (= x C!val!0))\n;; -----------\n(define-fun instanceOfC!2 () Int\n  4)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfB!1 () Int\n  3)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 4) (lift-C C!val!0)\n  (ite (= x!1 0)\n    (lift-TopLevelDeclarations (mk-TopLevelDeclarations 1000 5 8 2))\n  (ite (= x!1 3) (lift-B (mk-B 1000))\n    (lift-A (mk-A 500))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 5) 5\n  (ite (= x!1 4) 4\n  (ite (= x!1 0) 0\n  (ite (= x!1 1) 1\n    3)))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (max Int)(instA Ref)(X Int)(Y Int)))))\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (b Int)))))\n(declare-sort C) (declare-const mk-C C)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.max: ---\n\n(define-fun TopLevelDeclarations!max ((this Ref)) Int\n  (max (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.instA: ---\n\n(define-fun TopLevelDeclarations!instA ((this Ref)) Ref\n  (instA (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.X: ---\n\n(define-fun TopLevelDeclarations.X ((this Ref)) Int\n  (X (deref-TopLevelDeclarations this))\n)\n\n(define-fun TopLevelDeclarations!X ((this Ref)) Int\n  (X (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.Y: ---\n\n(define-fun TopLevelDeclarations.Y ((this Ref)) Int\n  (Y (deref-TopLevelDeclarations this))\n)\n\n(define-fun TopLevelDeclarations!Y ((this Ref)) Int\n  (Y (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.b: ---\n\n(define-fun B.b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.double ((this Ref)(x Int)) Int\n  (+ x x)\n)\n\n(define-fun TopLevelDeclarations!double ((this Ref)(x Int)) Int\n  (+ x x)\n)\n\n(define-fun TopLevelDeclarations.sum ((this Ref)) Int\n  (+ (TopLevelDeclarations.X this)  (TopLevelDeclarations.Y this) )\n)\n\n(define-fun TopLevelDeclarations!sum ((this Ref)) Int\n  (+ (TopLevelDeclarations!X this)  (TopLevelDeclarations!Y this) )\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-A (TopLevelDeclarations!instA this))\n    (= (TopLevelDeclarations!max this)  1000)\n    (>= (TopLevelDeclarations!X this)  0)\n    (>= (TopLevelDeclarations!Y this)  0)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!double 0 (A!a this) ) (TopLevelDeclarations!max 0))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!b this) (TopLevelDeclarations!double 0 (A.a (TopLevelDeclarations!instA 0))))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (>= (+ (TopLevelDeclarations!X 0) (TopLevelDeclarations!Y 0)) 10)\n    (<= (TopLevelDeclarations!sum 0 ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n\n"},"inheritance12.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int = 1\n\n  fun f(x:Int) : Int\n\n}\n\nclass B extending A {\n  b:Int = 2\n\n  fun f(x:Int) : Int\n    pre a >= 0\n    pre x > a\n    post $result >= 0\n\n}\n\nclass C extending B {\n  c:Int = 3\n\n  fun f(x:Int) : Int\n    pre b >= 0\n    pre c >= 0\n    post $result > 0\n  {\n    a + b + c + x\n  }\n}\n\nc:C\n\nresult:Int = c.f(10)\n\nreq result = 16\n\n","name":"inheritance12.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"a","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[],"ident":"f","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"b","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"element":"a","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"pre":"true","type":"FunSpec"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"x","type":"ElementValue"},{"element":"a","type":"ElementValue"}]},"pre":"true","type":"FunSpec"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"operand":[{"element":"ElementValue","type":"ResultExp"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"pre":"false","type":"FunSpec"}],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[],"ident":"f","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"c","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"element":"b","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"pre":"true","type":"FunSpec"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"element":"c","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"pre":"true","type":"FunSpec"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"operand":[{"element":"ElementValue","type":"ResultExp"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"pre":"false","type":"FunSpec"}],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"a","type":"ElementValue"},{"element":"b","type":"ElementValue"}]},{"element":"c","type":"ElementValue"}]},{"element":"x","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"}]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["C"],"type":"QualifiedName"}],"type":"Expression"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"result","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"c","type":"ElementValue"},"f"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"result","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},16],"type":"Expression"}]},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"type":"LiteralInteger","i":1},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[],"ident":"f","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"type":"LiteralInteger","i":2},"modifiers":[],"type":"PropertyDecl"},{"spec":[{"exp":{"op":"GTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"a","type":"IdentExp"}},"pre":"true","type":"FunSpec"},{"exp":{"op":"GT","type":"BinExp","exp2":{"ident":"a","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"}},"pre":"true","type":"FunSpec"},{"exp":{"op":"GTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"type":"ResultExp"}},"pre":"false","type":"FunSpec"}],"ty":{"type":"IntType"},"body":[],"ident":"f","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"c","expr":{"type":"LiteralInteger","i":3},"modifiers":[],"type":"PropertyDecl"},{"spec":[{"exp":{"op":"GTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"b","type":"IdentExp"}},"pre":"true","type":"FunSpec"},{"exp":{"op":"GTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"c","type":"IdentExp"}},"pre":"true","type":"FunSpec"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"type":"ResultExp"}},"pre":"false","type":"FunSpec"}],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"x","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"c","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"b","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"}}}},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"ty":{"ident":{"names":["C"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"result","expr":{"args":[{"exp":{"type":"LiteralInteger","i":10},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"ident":"c","type":"IdentExp"},"ident":"f","type":"DotExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":16},"exp1":{"ident":"result","type":"IdentExp"}},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfC!2 () Int\n  6)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfB!1 () Int\n  5)\n(define-fun instanceOfA!0 () Int\n  4)\n(define-fun k!3!6 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 7 16))\n  (ite (= x!1 4) (lift-A (mk-A 1))\n  (ite (= x!1 5) (lift-B (mk-B 1 2))\n    (lift-C (mk-C 1 2 3))))))\n(define-fun k!5 ((x!1 Int)) Int\n  (ite (= x!1 7) 7\n  (ite (= x!1 6) 6\n  (ite (= x!1 0) 0\n  (ite (= x!1 4) 4\n    5)))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!6 (k!5 x!1)))\n(define-fun B.f ((x!1 Int) (x!2 Int)) Int\n  0)","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (c Ref)(result Int)))))\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.c: ---\n\n(define-fun TopLevelDeclarations!c ((this Ref)) Ref\n  (c (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.result: ---\n\n(define-fun TopLevelDeclarations!result ((this Ref)) Int\n  (result (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C.a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.b: ---\n\n(define-fun C.b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n(define-fun C!b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(declare-fun A.f (Ref Int) Int)\n\n(define-fun A!f ((this Ref)(x Int)) Int\n  (A.f this x)\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(declare-fun B.f (Ref Int) Int)\n\n(define-fun B!f ((this Ref)(x Int)) Int\n  (B.f this x)\n)\n\n(assert (forall ((this Ref)(x Int))\n  (=>\n    (and\n      (deref-is-B this)\n      (>= (B!a this)  0)\n      (> x (B!a this) )\n    )\n    (let (($result (B!f this x)))\n      (and\n        (>= $result 0)\n      )\n    )\n  )\n))\n\n; ------------------------\n;   Methods for class C:\n; ------------------------\n\n(define-fun C.f ((this Ref)(x Int)) Int\n  (+ (+ (+ (C.a this)  (C.b this) ) (C.c this) ) x)\n)\n\n(define-fun C!f ((this Ref)(x Int)) Int\n  (+ (+ (+ (C!a this)  (C!b this) ) (C!c this) ) x)\n)\n\n(assert (forall ((this Ref)(x Int))\n  (=>\n    (and\n      (deref-is-C this)\n      (>= (C!a this)  0)\n      (> x (C!a this) )\n      (>= (C!b this)  0)\n      (>= (C!c this)  0)\n    )\n    (let (($result (C!f this x)))\n      (and\n        (>= $result 0)\n        (> $result 0)\n      )\n    )\n  )\n))\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!result this) (C.f (TopLevelDeclarations!c this)  10))\n    (deref-isa-C (TopLevelDeclarations!c this))\n    (= (TopLevelDeclarations!result this)  16)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!a this) 1)\n    (= (B!b this) 2)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (C!a this) 1)\n    (= (C!b this) 2)\n    (= (C!c this) 3)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n\n"},"testsmt3.k":{"typeChecks":true,"model":"\nERROR:Int\n\nreq ERROR < 0\n\nfun CHECK(b:Bool) : Int\n{\n  if b then\n    42\n  else\n    ERROR\n}\n\nclass A {\n  x:Int = 1\n  y:Int\n\n  fun sum : Int\n  {\n    x + y\n  }\n\n  req x < y\n  RESULT_A:Int = CHECK(x = 1 && x < y)\n}\n\nclass B extending A {\n  z:Int\n  a1:A\n  a2:A = A(y :: 17)\n  a3:A = if z > 3 then\n    A(y :: z + 9)\n  else\n    A(y :: 33)\n\n  req a1.y < z\n\n  req y + 10 < z\n\n  req sum > 10\n  RESULT_B:Int = CHECK(a2.y = 17 && a3.y = z + 9 && a1.y < z && y + 10 < z && sum > 10)\n}\n\ninst1A:A = A(x :: 1,y :: 2)\n\ninst2A:A = A(y :: 2)\n\ninst1B:B = B(a1 :: inst1A,z :: 200)\n\nRESULT:Int = CHECK(inst1A.x = 1 && inst1A.y = 2 && inst2A.x = 1 && inst2A.y = 2 && inst1B.a1.x = inst1A.x && inst1B.a1.y = inst1A.y && inst1B.z = 200)\n\n","name":"testsmt3.k","json2":{"decls":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"ERROR","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IfExp"},{"element":"b","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},42],"type":"Expression"},{"element":"ERROR","type":"ElementValue"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"x","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"y","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"x","type":"ElementValue"},{"element":"y","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"sum","typeParams":[],"params":[],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"x","type":"ElementValue"},{"element":"y","type":"ElementValue"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT_A","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"x","type":"ElementValue"},{"element":"y","type":"ElementValue"}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"z","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"name":"a1","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"a2","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"A","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"y",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},17],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"a3","expr":{"operand":[{"element":"ElementValue","type":"IfExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"z","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"A","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"y",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"z","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},9],"type":"Expression"}]}],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"A","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"y",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},33],"type":"Expression"}],"type":"Expression"}]}],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a1","type":"ElementValue"},"y"]},{"element":"z","type":"ElementValue"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"y","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},{"element":"z","type":"ElementValue"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"sum","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT_B","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a2","type":"ElementValue"},"y"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},17],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a3","type":"ElementValue"},"y"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"z","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},9],"type":"Expression"}]}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a1","type":"ElementValue"},"y"]},{"element":"z","type":"ElementValue"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"y","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},{"element":"z","type":"ElementValue"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"sum","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"inst1A","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"A","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"x",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"y",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"inst2A","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"A","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"y",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"inst1B","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"B","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"a1",{"element":"inst1A","type":"ElementValue"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"z",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},200],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"inst1A","type":"ElementValue"},"x"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"inst1A","type":"ElementValue"},"y"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"inst2A","type":"ElementValue"},"x"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"inst2A","type":"ElementValue"},"y"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"inst1B","type":"ElementValue"},"a1"]},"x"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"inst1A","type":"ElementValue"},"x"]}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"inst1B","type":"ElementValue"},"a1"]},"y"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"inst1A","type":"ElementValue"},"y"]}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"inst1B","type":"ElementValue"},"z"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},200],"type":"Expression"}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"ty":{"type":"IntType"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"ERROR","type":"IdentExp"}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"trueBranch":{"type":"LiteralInteger","i":42},"falseBranch":{"ident":"ERROR","type":"IdentExp"},"type":"IfExp","cond":{"ident":"b","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"type":"BoolType"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"x","expr":{"type":"LiteralInteger","i":1},"modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"y","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"y","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"sum","typeParams":[],"params":[],"type":"FunDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"ident":"y","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT_A","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"ident":"y","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"x","type":"IdentExp"}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"z","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"a1","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"a2","expr":{"args":[{"exp":{"type":"LiteralInteger","i":17},"ident":"y","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"A","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"a3","expr":{"trueBranch":{"args":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":9},"exp1":{"ident":"z","type":"IdentExp"}},"ident":"y","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"A","type":"IdentExp"}},"falseBranch":{"args":[{"exp":{"type":"LiteralInteger","i":33},"ident":"y","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"A","type":"IdentExp"}},"type":"IfExp","cond":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":3},"exp1":{"ident":"z","type":"IdentExp"}}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"ident":"z","type":"IdentExp"},"exp1":{"exp":{"ident":"a1","type":"IdentExp"},"ident":"y","type":"DotExp"}},"type":"ConstraintDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"ident":"z","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"ident":"y","type":"IdentExp"}}},"type":"ConstraintDecl"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"ident":"sum","type":"IdentExp"}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT_B","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"ident":"sum","type":"IdentExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"ident":"z","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"ident":"y","type":"IdentExp"}}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"ident":"z","type":"IdentExp"},"exp1":{"exp":{"ident":"a1","type":"IdentExp"},"ident":"y","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":9},"exp1":{"ident":"z","type":"IdentExp"}},"exp1":{"exp":{"ident":"a3","type":"IdentExp"},"ident":"y","type":"DotExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":17},"exp1":{"exp":{"ident":"a2","type":"IdentExp"},"ident":"y","type":"DotExp"}}}}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"inst1A","expr":{"args":[{"exp":{"type":"LiteralInteger","i":1},"ident":"x","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":2},"ident":"y","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"A","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"inst2A","expr":{"args":[{"exp":{"type":"LiteralInteger","i":2},"ident":"y","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"A","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"inst1B","expr":{"args":[{"exp":{"ident":"inst1A","type":"IdentExp"},"ident":"a1","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":200},"ident":"z","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"B","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":200},"exp1":{"exp":{"ident":"inst1B","type":"IdentExp"},"ident":"z","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"exp":{"ident":"inst1A","type":"IdentExp"},"ident":"y","type":"DotExp"},"exp1":{"exp":{"exp":{"ident":"inst1B","type":"IdentExp"},"ident":"a1","type":"DotExp"},"ident":"y","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"exp":{"ident":"inst1A","type":"IdentExp"},"ident":"x","type":"DotExp"},"exp1":{"exp":{"exp":{"ident":"inst1B","type":"IdentExp"},"ident":"a1","type":"DotExp"},"ident":"x","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":2},"exp1":{"exp":{"ident":"inst2A","type":"IdentExp"},"ident":"y","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"exp":{"ident":"inst2A","type":"IdentExp"},"ident":"x","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":2},"exp1":{"exp":{"ident":"inst1A","type":"IdentExp"},"ident":"y","type":"DotExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"exp":{"ident":"inst1A","type":"IdentExp"},"ident":"x","type":"DotExp"}}}}}}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun const__1 () Int\n  42)\n(define-fun const__3 () Int\n  42)\n(define-fun const__13 () Int\n  42)\n(define-fun const__15 () Int\n  15)\n(define-fun const__8 () Int\n  23)\n(define-fun const__6 () Int\n  42)\n(define-fun const__7 () Int\n  22)\n(define-fun instanceOfA!0 () Int\n  3)\n(define-fun const__4 () Int\n  1)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun const__2 () Int\n  1)\n(define-fun const__12 () Int\n  1)\n(define-fun const__11 () Int\n  42)\n(define-fun const__9 () Int\n  42)\n(define-fun const__10 () Int\n  1)\n(define-fun const__14 () Int\n  15)\n(define-fun instanceOfB!1 () Int\n  4)\n(define-fun const__5 () Int\n  107)\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 3) 3\n  (ite (= x!1 14) 14\n  (ite (= x!1 0) 0\n  (ite (= x!1 22) 22\n  (ite (= x!1 15) 15\n  (ite (= x!1 13) 13\n  (ite (= x!1 12) 12\n  (ite (= x!1 5) 5\n  (ite (= x!1 23) 23\n  (ite (= x!1 4) 4\n    8)))))))))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 13) (lift-A (mk-A 1 7 42))\n  (ite (= x!1 14) (lift-A (mk-A 1 17 42))\n  (ite (= x!1 0)\n    (lift-TopLevelDeclarations (mk-TopLevelDeclarations (- 1) 5 8 12 42))\n  (ite (= x!1 15) (lift-A (mk-A 1 30 42))\n  (ite (= x!1 22) (lift-A (mk-A 1 17 42))\n  (ite (= x!1 23) (lift-A (mk-A 1 209 42))\n  (ite (= x!1 3) (lift-A (mk-A 1 1238 42))\n  (ite (= x!1 12) (lift-B (mk-B 1 107 42 200 5 22 23 42))\n  (ite (= x!1 4) (lift-B (mk-B 1 10 42 21 13 14 15 42))\n    (lift-A (mk-A 1 2 42))))))))))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (ERROR Int)(inst1A Ref)(inst2A Ref)(inst1B Ref)(RESULT Int)))))\n(declare-datatypes () ((A (mk-A (x Int)(y Int)(RESULT_A Int)))))\n(declare-datatypes () ((B (mk-B (x Int)(y Int)(RESULT_A Int)(z Int)(a1 Ref)(a2 Ref)(a3 Ref)(RESULT_B Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.ERROR: ---\n\n(define-fun TopLevelDeclarations.ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n(define-fun TopLevelDeclarations!ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.inst1A: ---\n\n(define-fun TopLevelDeclarations!inst1A ((this Ref)) Ref\n  (inst1A (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.inst2A: ---\n\n(define-fun TopLevelDeclarations!inst2A ((this Ref)) Ref\n  (inst2A (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.inst1B: ---\n\n(define-fun TopLevelDeclarations!inst1B ((this Ref)) Ref\n  (inst1B (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.RESULT: ---\n\n(define-fun TopLevelDeclarations!RESULT ((this Ref)) Int\n  (RESULT (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (ite (deref-is-A this) (x (deref-A this))\n  (x (deref-B this)))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; --- getters for A.y: ---\n\n(define-fun A.y ((this Ref)) Int\n  (ite (deref-is-A this) (y (deref-A this))\n  (y (deref-B this)))\n)\n\n(define-fun A!y ((this Ref)) Int\n  (y (deref-A this))\n)\n\n; --- getters for A.RESULT_A: ---\n\n(define-fun A!RESULT_A ((this Ref)) Int\n  (RESULT_A (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B.x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.y: ---\n\n(define-fun B.y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n(define-fun B!y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n; --- getters for B.RESULT_A: ---\n\n(define-fun B!RESULT_A ((this Ref)) Int\n  (RESULT_A (deref-B this))\n)\n\n; --- getters for B.z: ---\n\n(define-fun B.z ((this Ref)) Int\n  (z (deref-B this))\n)\n\n(define-fun B!z ((this Ref)) Int\n  (z (deref-B this))\n)\n\n; --- getters for B.a1: ---\n\n(define-fun B.a1 ((this Ref)) Ref\n  (a1 (deref-B this))\n)\n\n(define-fun B!a1 ((this Ref)) Ref\n  (a1 (deref-B this))\n)\n\n; --- getters for B.a2: ---\n\n(define-fun B!a2 ((this Ref)) Ref\n  (a2 (deref-B this))\n)\n\n; --- getters for B.a3: ---\n\n(define-fun B!a3 ((this Ref)) Ref\n  (a3 (deref-B this))\n)\n\n; --- getters for B.RESULT_B: ---\n\n(define-fun B!RESULT_B ((this Ref)) Int\n  (RESULT_B (deref-B this))\n)\n\n; ========================================\n; === Constructor parameter constants: ===\n; ========================================\n\n(declare-const const__1 Int)\n(declare-const const__2 Int)\n(declare-const const__3 Int)\n(declare-const const__4 Int)\n(declare-const const__5 Int)\n(declare-const const__6 Int)\n(declare-const const__7 Ref)\n(declare-const const__8 Ref)\n(declare-const const__9 Int)\n(declare-const const__10 Int)\n(declare-const const__11 Int)\n(declare-const const__12 Int)\n(declare-const const__13 Int)\n(declare-const const__14 Int)\n(declare-const const__15 Int)\n\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations.ERROR this) )\n)\n\n(define-fun TopLevelDeclarations!CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations!ERROR this) )\n)\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.sum ((this Ref)) Int\n  (+ (A.x this)  (A.y this) )\n)\n\n(define-fun A!sum ((this Ref)) Int\n  (+ (A!x this)  (A!y this) )\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.sum ((this Ref)) Int\n  (+ (B.x this)  (B.y this) )\n)\n\n(define-fun B!sum ((this Ref)) Int\n  (+ (B!x this)  (B!y this) )\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!inst1A this)) (lift-A (mk-A 1 2 const__1)))\n    (= (deref (TopLevelDeclarations!inst2A this)) (lift-A (mk-A const__2 2 const__3)))\n    (= (deref (TopLevelDeclarations!inst1B this)) (lift-B (mk-B const__4 const__5 const__6 200 (TopLevelDeclarations!inst1A this)  const__7 const__8 const__9)))\n    (= (TopLevelDeclarations!RESULT this) (TopLevelDeclarations!CHECK this (and (and (and (and (and (and (= (A.x (TopLevelDeclarations!inst1A this) ) 1) (= (A.y (TopLevelDeclarations!inst1A this) ) 2)) (= (A.x (TopLevelDeclarations!inst2A this) ) 1)) (= (A.y (TopLevelDeclarations!inst2A this) ) 2)) (= (A.x (B.a1 (TopLevelDeclarations!inst1B this) )) (A.x (TopLevelDeclarations!inst1A this) ))) (= (A.y (B.a1 (TopLevelDeclarations!inst1B this) )) (A.y (TopLevelDeclarations!inst1A this) ))) (= (B.z (TopLevelDeclarations!inst1B this) ) 200))))\n    (deref-isa-A (TopLevelDeclarations!inst1A this))\n    (deref-isa-A (TopLevelDeclarations!inst2A this))\n    (deref-isa-B (TopLevelDeclarations!inst1B this))\n    (< (TopLevelDeclarations!ERROR this)  0)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!x this) 1)\n    (= (A!RESULT_A this) (TopLevelDeclarations!CHECK 0 (and (= (A!x this)  1) (< (A!x this)  (A!y this) ))))\n    (< (A!x this)  (A!y this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!x this) 1)\n    (= (B!RESULT_A this) (TopLevelDeclarations!CHECK 0 (and (= (B!x this)  1) (< (B!x this)  (B!y this) ))))\n    (= (deref (B!a2 this)) (lift-A (mk-A const__10 17 const__11)))\n    (= (deref (B!a3 this)) (ite (> (B!z this)  3) (lift-A (mk-A const__12 (+ (B!z this)  9) const__13)) (lift-A (mk-A const__14 33 const__15))))\n    (= (B!RESULT_B this) (TopLevelDeclarations!CHECK 0 (and (and (and (and (= (A.y (B!a2 this) ) 17) (= (A.y (B!a3 this) ) (+ (B!z this)  9))) (< (A.y (B!a1 this) ) (B!z this) )) (< (+ (B!y this)  10) (B!z this) )) (> (B!sum this)  10))))\n    (deref-isa-A (B!a1 this))\n    (deref-isa-A (B!a2 this))\n    (deref-isa-A (B!a3 this))\n    (< (B!x this)  (B!y this) )\n    (< (A.y (B!a1 this) ) (B!z this) )\n    (< (+ (B!y this)  10) (B!z this) )\n    (> (B!sum this)  10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n\n"},"inheritance11.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int\n  b:Int\n  c:Int\n  d:Int\n  e:Int\n  f:Int\n  g:Int\n\n  req a + b + c + d + e + f + g = 90\n}\n\nclass B extending A\n\nclass C extending B\n\nclass D extending C\n\nclass E extending D\n\nclass F extending E\n\nclass G extending F\n\nclass H extending G\n\nobjectA:A\n\nreq objectA is H\n\n","name":"inheritance11.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"e","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"f","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"g","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"a","type":"ElementValue"},{"element":"b","type":"ElementValue"}]},{"element":"c","type":"ElementValue"}]},{"element":"d","type":"ElementValue"}]},{"element":"e","type":"ElementValue"}]},{"element":"f","type":"ElementValue"}]},{"element":"g","type":"ElementValue"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},90],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["C"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"E","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["D"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"F","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["E"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"G","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["F"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"H","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["G"],"type":"QualifiedName"}],"type":"Expression"}]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"name":"objectA","modifiers":[],"type":"PropertyDecl"},{"exp":{"operand":[{"element":"ElementValue","type":"TypeCastCheckExp"},"false",{"element":"objectA","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["H"],"type":"QualifiedName"}],"type":"Expression"}],"type":"Expression"},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"e","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"f","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"g","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":90},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"g","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"f","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"e","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"d","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"c","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"b","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"}}}}}}}},"type":"ConstraintDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["C"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"E","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["D"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"F","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["E"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"G","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["F"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"H","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["G"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"objectA","modifiers":[],"type":"PropertyDecl"},{"exp":{"ty":{"ident":{"names":["H"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"exp":{"ident":"objectA","type":"IdentExp"},"cast":"false","type":"TypeCastCheckExp"},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfB!1 () Int\n  2)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun instanceOfH!7 () Int\n  8)\n(define-fun instanceOfD!3 () Int\n  4)\n(define-fun instanceOfG!6 () Int\n  7)\n(define-fun instanceOfE!4 () Int\n  5)\n(define-fun instanceOfF!5 () Int\n  6)\n(define-fun instanceOfC!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!8))\n(define-fun k!8!10 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-C (mk-C 3212 4683 (- 28971) 6702 5598 4770 4096))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 9))\n  (ite (= x!1 4) (lift-D (mk-D 6672 5941 2747 (- 39515) 7373 8003 8869))\n  (ite (= x!1 8) (lift-H (mk-H (- 26828) 3634 5618 5725 2699 4321 4921))\n  (ite (= x!1 9) (lift-H (mk-H 6811 (- 26401) 2061 3565 5189 119 8746))\n  (ite (= x!1 5) (lift-E (mk-E 1818 3502 239 (- 21394) 2804 8935 4186))\n  (ite (= x!1 6) (lift-F (mk-F 1573 5981 1391 334 531 (- 15739) 6019))\n  (ite (= x!1 1) (lift-A (mk-A (- 27042) 1648 2331 9263 4386 2328 7176))\n  (ite (= x!1 2) (lift-B (mk-B 1102 (- 26462) 1650 8404 4135 6926 4335))\n    (lift-G (mk-G (- 24395) 2829 4165 2235 624 7567 7065))))))))))))\n(define-fun k!9 ((x!1 Int)) Int\n  (ite (= x!1 8) 8\n  (ite (= x!1 9) 9\n  (ite (= x!1 4) 4\n  (ite (= x!1 0) 0\n  (ite (= x!1 7) 7\n  (ite (= x!1 3) 3\n  (ite (= x!1 6) 6\n  (ite (= x!1 2) 2\n  (ite (= x!1 5) 5\n    1))))))))))\n(define-fun k!8 ((x!1 Int)) Any\n  (k!8!10 (k!9 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (objectA Ref)))))\n(declare-datatypes () ((A (mk-A (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((D (mk-D (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((E (mk-E (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((F (mk-F (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((G (mk-G (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((H (mk-H (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-E (sel-E E))\n  (lift-F (sel-F F))\n  (lift-G (sel-G G))\n  (lift-H (sel-H H))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-E ((this Ref)) Bool\n  (is-lift-E (deref this))\n)\n\n(define-fun deref-E ((this Ref)) E\n  (sel-E (deref this))\n)\n\n(define-fun deref-is-F ((this Ref)) Bool\n  (is-lift-F (deref this))\n)\n\n(define-fun deref-F ((this Ref)) F\n  (sel-F (deref this))\n)\n\n(define-fun deref-is-G ((this Ref)) Bool\n  (is-lift-G (deref this))\n)\n\n(define-fun deref-G ((this Ref)) G\n  (sel-G (deref this))\n)\n\n(define-fun deref-is-H ((this Ref)) Bool\n  (is-lift-H (deref this))\n)\n\n(define-fun deref-H ((this Ref)) H\n  (sel-H (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (or\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-E ((this Ref)) Bool\n  (or\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-F ((this Ref)) Bool\n  (or\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-G ((this Ref)) Bool\n  (or\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-H ((this Ref)) Bool\n  (deref-is-H this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.objectA: ---\n\n(define-fun TopLevelDeclarations!objectA ((this Ref)) Ref\n  (objectA (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; --- getters for A.b: ---\n\n(define-fun A!b ((this Ref)) Int\n  (b (deref-A this))\n)\n\n; --- getters for A.c: ---\n\n(define-fun A!c ((this Ref)) Int\n  (c (deref-A this))\n)\n\n; --- getters for A.d: ---\n\n(define-fun A!d ((this Ref)) Int\n  (d (deref-A this))\n)\n\n; --- getters for A.e: ---\n\n(define-fun A!e ((this Ref)) Int\n  (e (deref-A this))\n)\n\n; --- getters for A.f: ---\n\n(define-fun A!f ((this Ref)) Int\n  (f (deref-A this))\n)\n\n; --- getters for A.g: ---\n\n(define-fun A!g ((this Ref)) Int\n  (g (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; --- getters for B.c: ---\n\n(define-fun B!c ((this Ref)) Int\n  (c (deref-B this))\n)\n\n; --- getters for B.d: ---\n\n(define-fun B!d ((this Ref)) Int\n  (d (deref-B this))\n)\n\n; --- getters for B.e: ---\n\n(define-fun B!e ((this Ref)) Int\n  (e (deref-B this))\n)\n\n; --- getters for B.f: ---\n\n(define-fun B!f ((this Ref)) Int\n  (f (deref-B this))\n)\n\n; --- getters for B.g: ---\n\n(define-fun B!g ((this Ref)) Int\n  (g (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.b: ---\n\n(define-fun C!b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; --- getters for C.d: ---\n\n(define-fun C!d ((this Ref)) Int\n  (d (deref-C this))\n)\n\n; --- getters for C.e: ---\n\n(define-fun C!e ((this Ref)) Int\n  (e (deref-C this))\n)\n\n; --- getters for C.f: ---\n\n(define-fun C!f ((this Ref)) Int\n  (f (deref-C this))\n)\n\n; --- getters for C.g: ---\n\n(define-fun C!g ((this Ref)) Int\n  (g (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.a: ---\n\n(define-fun D!a ((this Ref)) Int\n  (a (deref-D this))\n)\n\n; --- getters for D.b: ---\n\n(define-fun D!b ((this Ref)) Int\n  (b (deref-D this))\n)\n\n; --- getters for D.c: ---\n\n(define-fun D!c ((this Ref)) Int\n  (c (deref-D this))\n)\n\n; --- getters for D.d: ---\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; --- getters for D.e: ---\n\n(define-fun D!e ((this Ref)) Int\n  (e (deref-D this))\n)\n\n; --- getters for D.f: ---\n\n(define-fun D!f ((this Ref)) Int\n  (f (deref-D this))\n)\n\n; --- getters for D.g: ---\n\n(define-fun D!g ((this Ref)) Int\n  (g (deref-D this))\n)\n\n; ------------------------\n;   Getters for class E:\n; ------------------------\n\n; --- getters for E.a: ---\n\n(define-fun E!a ((this Ref)) Int\n  (a (deref-E this))\n)\n\n; --- getters for E.b: ---\n\n(define-fun E!b ((this Ref)) Int\n  (b (deref-E this))\n)\n\n; --- getters for E.c: ---\n\n(define-fun E!c ((this Ref)) Int\n  (c (deref-E this))\n)\n\n; --- getters for E.d: ---\n\n(define-fun E!d ((this Ref)) Int\n  (d (deref-E this))\n)\n\n; --- getters for E.e: ---\n\n(define-fun E!e ((this Ref)) Int\n  (e (deref-E this))\n)\n\n; --- getters for E.f: ---\n\n(define-fun E!f ((this Ref)) Int\n  (f (deref-E this))\n)\n\n; --- getters for E.g: ---\n\n(define-fun E!g ((this Ref)) Int\n  (g (deref-E this))\n)\n\n; ------------------------\n;   Getters for class F:\n; ------------------------\n\n; --- getters for F.a: ---\n\n(define-fun F!a ((this Ref)) Int\n  (a (deref-F this))\n)\n\n; --- getters for F.b: ---\n\n(define-fun F!b ((this Ref)) Int\n  (b (deref-F this))\n)\n\n; --- getters for F.c: ---\n\n(define-fun F!c ((this Ref)) Int\n  (c (deref-F this))\n)\n\n; --- getters for F.d: ---\n\n(define-fun F!d ((this Ref)) Int\n  (d (deref-F this))\n)\n\n; --- getters for F.e: ---\n\n(define-fun F!e ((this Ref)) Int\n  (e (deref-F this))\n)\n\n; --- getters for F.f: ---\n\n(define-fun F!f ((this Ref)) Int\n  (f (deref-F this))\n)\n\n; --- getters for F.g: ---\n\n(define-fun F!g ((this Ref)) Int\n  (g (deref-F this))\n)\n\n; ------------------------\n;   Getters for class G:\n; ------------------------\n\n; --- getters for G.a: ---\n\n(define-fun G!a ((this Ref)) Int\n  (a (deref-G this))\n)\n\n; --- getters for G.b: ---\n\n(define-fun G!b ((this Ref)) Int\n  (b (deref-G this))\n)\n\n; --- getters for G.c: ---\n\n(define-fun G!c ((this Ref)) Int\n  (c (deref-G this))\n)\n\n; --- getters for G.d: ---\n\n(define-fun G!d ((this Ref)) Int\n  (d (deref-G this))\n)\n\n; --- getters for G.e: ---\n\n(define-fun G!e ((this Ref)) Int\n  (e (deref-G this))\n)\n\n; --- getters for G.f: ---\n\n(define-fun G!f ((this Ref)) Int\n  (f (deref-G this))\n)\n\n; --- getters for G.g: ---\n\n(define-fun G!g ((this Ref)) Int\n  (g (deref-G this))\n)\n\n; ------------------------\n;   Getters for class H:\n; ------------------------\n\n; --- getters for H.a: ---\n\n(define-fun H.a ((this Ref)) Int\n  (a (deref-H this))\n)\n\n(define-fun H!a ((this Ref)) Int\n  (a (deref-H this))\n)\n\n; --- getters for H.b: ---\n\n(define-fun H.b ((this Ref)) Int\n  (b (deref-H this))\n)\n\n(define-fun H!b ((this Ref)) Int\n  (b (deref-H this))\n)\n\n; --- getters for H.c: ---\n\n(define-fun H.c ((this Ref)) Int\n  (c (deref-H this))\n)\n\n(define-fun H!c ((this Ref)) Int\n  (c (deref-H this))\n)\n\n; --- getters for H.d: ---\n\n(define-fun H.d ((this Ref)) Int\n  (d (deref-H this))\n)\n\n(define-fun H!d ((this Ref)) Int\n  (d (deref-H this))\n)\n\n; --- getters for H.e: ---\n\n(define-fun H.e ((this Ref)) Int\n  (e (deref-H this))\n)\n\n(define-fun H!e ((this Ref)) Int\n  (e (deref-H this))\n)\n\n; --- getters for H.f: ---\n\n(define-fun H.f ((this Ref)) Int\n  (f (deref-H this))\n)\n\n(define-fun H!f ((this Ref)) Int\n  (f (deref-H this))\n)\n\n; --- getters for H.g: ---\n\n(define-fun H.g ((this Ref)) Int\n  (g (deref-H this))\n)\n\n(define-fun H!g ((this Ref)) Int\n  (g (deref-H this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-A (TopLevelDeclarations!objectA this))\n    (deref-isa-H (TopLevelDeclarations!objectA this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (A!a this)  (A!b this) ) (A!c this) ) (A!d this) ) (A!e this) ) (A!f this) ) (A!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (B!a this)  (B!b this) ) (B!c this) ) (B!d this) ) (B!e this) ) (B!f this) ) (B!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (C!a this)  (C!b this) ) (C!c this) ) (C!d this) ) (C!e this) ) (C!f this) ) (C!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (D!a this)  (D!b this) ) (D!c this) ) (D!d this) ) (D!e this) ) (D!f this) ) (D!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; --------------------------\n;   Invariant for class E:\n; --------------------------\n\n(define-fun E.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (E!a this)  (E!b this) ) (E!c this) ) (E!d this) ) (E!e this) ) (E!f this) ) (E!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-E this) (E.inv this))\n))\n\n; --------------------------\n;   Invariant for class F:\n; --------------------------\n\n(define-fun F.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (F!a this)  (F!b this) ) (F!c this) ) (F!d this) ) (F!e this) ) (F!f this) ) (F!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-F this) (F.inv this))\n))\n\n; --------------------------\n;   Invariant for class G:\n; --------------------------\n\n(define-fun G.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (G!a this)  (G!b this) ) (G!c this) ) (G!d this) ) (G!e this) ) (G!f this) ) (G!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-G this) (G.inv this))\n))\n\n; --------------------------\n;   Invariant for class H:\n; --------------------------\n\n(define-fun H.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (H!a this)  (H!b this) ) (H!c this) ) (H!d this) ) (H!e this) ) (H!f this) ) (H!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-H this) (H.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (exists ((instanceOfE Ref)) (deref-is-E instanceOfE)))\n(assert (exists ((instanceOfF Ref)) (deref-is-F instanceOfF)))\n(assert (exists ((instanceOfG Ref)) (deref-is-G instanceOfG)))\n(assert (exists ((instanceOfH Ref)) (deref-is-H instanceOfH)))\n\n"},"tc2.k":{"typeChecks":false,"model":"","name":"tc2.k","json2":"","json1":"","smtModel":"","smt":""},"testsmt18.k":{"typeChecks":true,"model":"\nclass Body {\n  mass:Int\n}\n\nclass Planet extending Body {\n  distanceToEarth:Int\n}\n\nclass Moon extending Body {\n  planet:Planet\n}\n\njupiter:Planet = Planet(mass :: 50000,distanceToEarth :: 588000000)\n\neuropa:Moon = Moon(mass :: 1,planet :: jupiter)\n\nfun getPlanet(moon:Moon) : Planet\n{\n  moon.planet\n}\n\nclass Trip {\n  missionStudy:Body\n  firstStop:Body = europa\n  secondStop:Body = getPlanet(firstStop)\n\n  req missionStudy = europa\n}\n\ntrip:Trip\n\n","name":"testsmt18.k","json2":{"decls":[{"entityToken":"class","ident":"Body","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"mass","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"Planet","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"distanceToEarth","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Body"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"Moon","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Planet"],"type":"QualifiedName"}],"type":"Expression"},"name":"planet","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Body"],"type":"QualifiedName"}],"type":"Expression"}]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Planet"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"jupiter","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"Planet","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"mass",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},50000],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"distanceToEarth",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},588000000],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Moon"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"europa","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"Moon","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"mass",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"planet",{"element":"jupiter","type":"ElementValue"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Planet"],"type":"QualifiedName"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"moon","type":"ElementValue"},"planet"]},"type":"ExpressionDecl"}],"ident":"getPlanet","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Moon"],"type":"QualifiedName"}],"type":"Expression"},"name":"moon","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"Trip","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Body"],"type":"QualifiedName"}],"type":"Expression"},"name":"missionStudy","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Body"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"firstStop","expr":{"element":"europa","type":"ElementValue"},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Body"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"secondStop","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"getPlanet","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"firstStop","type":"ElementValue"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"missionStudy","type":"ElementValue"},{"element":"europa","type":"ElementValue"}]},"type":"ConstraintDecl"}],"extending":[]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Trip"],"type":"QualifiedName"}],"type":"Expression"},"name":"trip","modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"Body","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"mass","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"Planet","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"distanceToEarth","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["Body"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"Moon","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["Planet"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"planet","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["Body"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"ty":{"ident":{"names":["Planet"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"jupiter","expr":{"args":[{"exp":{"type":"LiteralInteger","i":50000},"ident":"mass","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":588000000},"ident":"distanceToEarth","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"Planet","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Moon"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"europa","expr":{"args":[{"exp":{"type":"LiteralInteger","i":1},"ident":"mass","type":"NamedArgument"},{"exp":{"ident":"jupiter","type":"IdentExp"},"ident":"planet","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"Moon","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"ident":{"names":["Planet"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"body":[{"exp":{"exp":{"ident":"moon","type":"IdentExp"},"ident":"planet","type":"DotExp"},"type":"ExpressionDecl"}],"ident":"getPlanet","typeParams":[],"params":[{"ty":{"ident":{"names":["Moon"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"moon","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"Trip","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["Body"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"missionStudy","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Body"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"firstStop","expr":{"ident":"europa","type":"IdentExp"},"modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Body"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"secondStop","expr":{"args":[{"exp":{"ident":"firstStop","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"getPlanet","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"ident":"europa","type":"IdentExp"},"exp1":{"ident":"missionStudy","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[]},{"ty":{"ident":{"names":["Trip"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"trip","modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfTrip!3 () Int\n  5)\n(define-fun instanceOfPlanet!1 () Int\n  3)\n(define-fun instanceOfMoon!2 () Int\n  4)\n(define-fun instanceOfBody!0 () Int\n  2)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!4))\n(define-fun k!5 ((x!1 Int)) Int\n  (ite (= x!1 7) 7\n  (ite (= x!1 0) 0\n  (ite (= x!1 3) 3\n  (ite (= x!1 6) 6\n  (ite (= x!1 8) 8\n  (ite (= x!1 4) 4\n  (ite (= x!1 2) 2\n  (ite (= x!1 13) 13\n    5)))))))))\n(define-fun k!4!6 ((x!1 Int)) Any\n  (ite (= x!1 7) (lift-Moon (mk-Moon 1 6))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 6 7 8))\n  (ite (= x!1 2) (lift-Body (mk-Body 9))\n  (ite (= x!1 4) (lift-Moon (mk-Moon 12 13))\n  (ite (= x!1 6) (lift-Planet (mk-Planet 50000 588000000))\n  (ite (= x!1 13) (lift-Planet (mk-Planet 14 15))\n  (ite (= x!1 3) (lift-Planet (mk-Planet 10 11))\n    (lift-Trip (mk-Trip 7 7 6))))))))))\n(define-fun k!4 ((x!1 Int)) Any\n  (k!4!6 (k!5 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (jupiter Ref)(europa Ref)(trip Ref)))))\n(declare-datatypes () ((Body (mk-Body (mass Int)))))\n(declare-datatypes () ((Planet (mk-Planet (mass Int)(distanceToEarth Int)))))\n(declare-datatypes () ((Moon (mk-Moon (mass Int)(planet Ref)))))\n(declare-datatypes () ((Trip (mk-Trip (missionStudy Ref)(firstStop Ref)(secondStop Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-Body (sel-Body Body))\n  (lift-Planet (sel-Planet Planet))\n  (lift-Moon (sel-Moon Moon))\n  (lift-Trip (sel-Trip Trip))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-Body ((this Ref)) Bool\n  (is-lift-Body (deref this))\n)\n\n(define-fun deref-Body ((this Ref)) Body\n  (sel-Body (deref this))\n)\n\n(define-fun deref-is-Planet ((this Ref)) Bool\n  (is-lift-Planet (deref this))\n)\n\n(define-fun deref-Planet ((this Ref)) Planet\n  (sel-Planet (deref this))\n)\n\n(define-fun deref-is-Moon ((this Ref)) Bool\n  (is-lift-Moon (deref this))\n)\n\n(define-fun deref-Moon ((this Ref)) Moon\n  (sel-Moon (deref this))\n)\n\n(define-fun deref-is-Trip ((this Ref)) Bool\n  (is-lift-Trip (deref this))\n)\n\n(define-fun deref-Trip ((this Ref)) Trip\n  (sel-Trip (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-Body ((this Ref)) Bool\n  (or\n    (deref-is-Body this)\n    (deref-is-Planet this)\n    (deref-is-Moon this)\n  )\n)\n\n(define-fun deref-isa-Planet ((this Ref)) Bool\n  (deref-is-Planet this)\n)\n\n(define-fun deref-isa-Moon ((this Ref)) Bool\n  (deref-is-Moon this)\n)\n\n(define-fun deref-isa-Trip ((this Ref)) Bool\n  (deref-is-Trip this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.jupiter: ---\n\n(define-fun TopLevelDeclarations!jupiter ((this Ref)) Ref\n  (jupiter (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.europa: ---\n\n(define-fun TopLevelDeclarations!europa ((this Ref)) Ref\n  (europa (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.trip: ---\n\n(define-fun TopLevelDeclarations!trip ((this Ref)) Ref\n  (trip (deref-TopLevelDeclarations this))\n)\n\n; ---------------------------\n;   Getters for class Moon:\n; ---------------------------\n\n; --- getters for Moon.planet: ---\n\n(define-fun Moon.planet ((this Ref)) Ref\n  (planet (deref-Moon this))\n)\n\n(define-fun Moon!planet ((this Ref)) Ref\n  (planet (deref-Moon this))\n)\n\n; ---------------------------\n;   Getters for class Trip:\n; ---------------------------\n\n; --- getters for Trip.missionStudy: ---\n\n(define-fun Trip!missionStudy ((this Ref)) Ref\n  (missionStudy (deref-Trip this))\n)\n\n; --- getters for Trip.firstStop: ---\n\n(define-fun Trip!firstStop ((this Ref)) Ref\n  (firstStop (deref-Trip this))\n)\n\n; --- getters for Trip.secondStop: ---\n\n(define-fun Trip!secondStop ((this Ref)) Ref\n  (secondStop (deref-Trip this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.getPlanet ((this Ref)(moon Ref)) Ref\n  (Moon.planet moon)\n)\n\n(define-fun TopLevelDeclarations!getPlanet ((this Ref)(moon Ref)) Ref\n  (Moon.planet moon)\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!jupiter this)) (lift-Planet (mk-Planet 50000 588000000)))\n    (= (deref (TopLevelDeclarations!europa this)) (lift-Moon (mk-Moon 1 (TopLevelDeclarations!jupiter this) )))\n    (deref-isa-Planet (TopLevelDeclarations!jupiter this))\n    (deref-isa-Moon (TopLevelDeclarations!europa this))\n    (deref-isa-Trip (TopLevelDeclarations!trip this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; -----------------------------\n;   Invariant for class Body:\n; -----------------------------\n\n(define-fun Body.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Body this) (Body.inv this))\n))\n\n; -------------------------------\n;   Invariant for class Planet:\n; -------------------------------\n\n(define-fun Planet.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Planet this) (Planet.inv this))\n))\n\n; -----------------------------\n;   Invariant for class Moon:\n; -----------------------------\n\n(define-fun Moon.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Planet (Moon!planet this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Moon this) (Moon.inv this))\n))\n\n; -----------------------------\n;   Invariant for class Trip:\n; -----------------------------\n\n(define-fun Trip.inv ((this Ref)) Bool\n  (and\n    (= (Trip!firstStop this) (TopLevelDeclarations!europa 0))\n    (= (Trip!secondStop this) (TopLevelDeclarations!getPlanet 0 (Trip!firstStop this) ))\n    (deref-isa-Body (Trip!missionStudy this))\n    (deref-isa-Body (Trip!firstStop this))\n    (deref-isa-Body (Trip!secondStop this))\n    (= (Trip!missionStudy this)  (TopLevelDeclarations!europa 0))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Trip this) (Trip.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfBody Ref)) (deref-is-Body instanceOfBody)))\n(assert (exists ((instanceOfPlanet Ref)) (deref-is-Planet instanceOfPlanet)))\n(assert (exists ((instanceOfMoon Ref)) (deref-is-Moon instanceOfMoon)))\n(assert (exists ((instanceOfTrip Ref)) (deref-is-Trip instanceOfTrip)))\n\n"},"testsmt20.k":{"typeChecks":true,"model":"\nclass time {\n  value:Int\n}\n\nclass Event {\n  duration:time\n}\n\nclass RocketMachine {\n  e:Event\n\n  fun imp(s:Event) : Int\n    post $result < 1800\n  {\n    if s = e then\n      50 * s.duration.value\n    else\n      0\n  }\n\n  req imp(e) > 1500\n}\n\nmyRocket:RocketMachine\n\n","name":"testsmt20.k","json2":{"decls":[{"entityToken":"class","ident":"time","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"value","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"Event","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["time"],"type":"QualifiedName"}],"type":"Expression"},"name":"duration","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"RocketMachine","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"e","modifiers":[],"type":"PropertyDecl"},{"spec":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"operand":[{"element":"ElementValue","type":"ResultExp"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1800],"type":"Expression"}]},"pre":"false","type":"FunSpec"}],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IfExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"s","type":"ElementValue"},{"element":"e","type":"ElementValue"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Times",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},50],"type":"Expression"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"s","type":"ElementValue"},"duration"]},"value"]}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"imp","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"s","type":"Param"}],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"imp","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"e","type":"ElementValue"}],"type":"Expression"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1500],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["RocketMachine"],"type":"QualifiedName"}],"type":"Expression"},"name":"myRocket","modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"time","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"value","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"Event","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["time"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"duration","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"RocketMachine","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"e","modifiers":[],"type":"PropertyDecl"},{"spec":[{"exp":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":1800},"exp1":{"type":"ResultExp"}},"pre":"false","type":"FunSpec"}],"ty":{"type":"IntType"},"body":[{"exp":{"trueBranch":{"op":"Times","type":"BinExp","exp2":{"exp":{"exp":{"ident":"s","type":"IdentExp"},"ident":"duration","type":"DotExp"},"ident":"value","type":"DotExp"},"exp1":{"type":"LiteralInteger","i":50}},"falseBranch":{"type":"LiteralInteger","i":0},"type":"IfExp","cond":{"op":"EQ","type":"BinExp","exp2":{"ident":"e","type":"IdentExp"},"exp1":{"ident":"s","type":"IdentExp"}}},"type":"ExpressionDecl"}],"ident":"imp","typeParams":[],"params":[{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"s","type":"Param"}],"type":"FunDecl"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":1500},"exp1":{"args":[{"exp":{"ident":"e","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"imp","type":"IdentExp"}}},"type":"ConstraintDecl"}],"extending":[]},{"ty":{"ident":{"names":["RocketMachine"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"myRocket","modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfRocketMachine!2 () Int\n  3)\n(define-fun instanceOftime!0 () Int\n  1)\n(define-fun instanceOfEvent!1 () Int\n  2)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun k!3 ((x!1 Int)) Any\n  (ite (= x!1 9) (lift-Event (mk-Event 11))\n  (ite (= x!1 8) null\n  (ite (= x!1 7) (lift-Event (mk-Event 10))\n  (ite (= x!1 4) (lift-RocketMachine (mk-RocketMachine 9))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 4))\n  (ite (= x!1 1) (lift-time (mk-time 5))\n  (ite (= x!1 6) (lift-time (mk-time (- 3)))\n  (ite (= x!1 13) (lift-time (mk-time 2437))\n  (ite (= x!1 12) null\n  (ite (= x!1 2) (lift-Event (mk-Event 6))\n  (ite (= x!1 3) (lift-RocketMachine (mk-RocketMachine 7))\n  (ite (= x!1 11) (lift-time (mk-time 35))\n    (lift-time (mk-time 31)))))))))))))))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (myRocket Ref)))))\n(declare-datatypes () ((time (mk-time (value Int)))))\n(declare-datatypes () ((Event (mk-Event (duration Ref)))))\n(declare-datatypes () ((RocketMachine (mk-RocketMachine (e Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-time (sel-time time))\n  (lift-Event (sel-Event Event))\n  (lift-RocketMachine (sel-RocketMachine RocketMachine))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-time ((this Ref)) Bool\n  (is-lift-time (deref this))\n)\n\n(define-fun deref-time ((this Ref)) time\n  (sel-time (deref this))\n)\n\n(define-fun deref-is-Event ((this Ref)) Bool\n  (is-lift-Event (deref this))\n)\n\n(define-fun deref-Event ((this Ref)) Event\n  (sel-Event (deref this))\n)\n\n(define-fun deref-is-RocketMachine ((this Ref)) Bool\n  (is-lift-RocketMachine (deref this))\n)\n\n(define-fun deref-RocketMachine ((this Ref)) RocketMachine\n  (sel-RocketMachine (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-time ((this Ref)) Bool\n  (deref-is-time this)\n)\n\n(define-fun deref-isa-Event ((this Ref)) Bool\n  (deref-is-Event this)\n)\n\n(define-fun deref-isa-RocketMachine ((this Ref)) Bool\n  (deref-is-RocketMachine this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.myRocket: ---\n\n(define-fun TopLevelDeclarations!myRocket ((this Ref)) Ref\n  (myRocket (deref-TopLevelDeclarations this))\n)\n\n; ---------------------------\n;   Getters for class time:\n; ---------------------------\n\n; --- getters for time.value: ---\n\n(define-fun time.value ((this Ref)) Int\n  (value (deref-time this))\n)\n\n; ----------------------------\n;   Getters for class Event:\n; ----------------------------\n\n; --- getters for Event.duration: ---\n\n(define-fun Event.duration ((this Ref)) Ref\n  (duration (deref-Event this))\n)\n\n(define-fun Event!duration ((this Ref)) Ref\n  (duration (deref-Event this))\n)\n\n; ------------------------------------\n;   Getters for class RocketMachine:\n; ------------------------------------\n\n; --- getters for RocketMachine.e: ---\n\n(define-fun RocketMachine.e ((this Ref)) Ref\n  (e (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!e ((this Ref)) Ref\n  (e (deref-RocketMachine this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------------------\n;   Methods for class RocketMachine:\n; ------------------------------------\n\n(define-fun RocketMachine.imp ((this Ref)(s Ref)) Int\n  (ite (= s (RocketMachine.e this) ) (* 50 (time.value (Event.duration s))) 0)\n)\n\n(define-fun RocketMachine!imp ((this Ref)(s Ref)) Int\n  (ite (= s (RocketMachine!e this) ) (* 50 (time.value (Event.duration s))) 0)\n)\n\n(assert (forall ((this Ref)(s Ref))\n  (=>\n    (and\n      (deref-is-RocketMachine this)\n      (deref-isa-Event s)\n    )\n    (let (($result (RocketMachine!imp this s)))\n      (and\n        (< $result 1800)\n      )\n    )\n  )\n))\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-RocketMachine (TopLevelDeclarations!myRocket this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; -----------------------------\n;   Invariant for class time:\n; -----------------------------\n\n(define-fun time.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-time this) (time.inv this))\n))\n\n; ------------------------------\n;   Invariant for class Event:\n; ------------------------------\n\n(define-fun Event.inv ((this Ref)) Bool\n  (and\n    (deref-isa-time (Event!duration this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Event this) (Event.inv this))\n))\n\n; --------------------------------------\n;   Invariant for class RocketMachine:\n; --------------------------------------\n\n(define-fun RocketMachine.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Event (RocketMachine!e this))\n    (> (RocketMachine!imp this (RocketMachine!e this) ) 1500)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-RocketMachine this) (RocketMachine.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOftime Ref)) (deref-is-time instanceOftime)))\n(assert (exists ((instanceOfEvent Ref)) (deref-is-Event instanceOfEvent)))\n(assert (exists ((instanceOfRocketMachine Ref)) (deref-is-RocketMachine instanceOfRocketMachine)))\n\n"},"testsmt19.k":{"typeChecks":true,"model":"\nfun one : Int\n{\n  1\n}\n\nclass X {\n\n  fun f : Int\n  {\n    one()\n  }\n}\n\nx:X\n\ntheOne:Int = x.f()\n\nreq theOne = 1\n\n","name":"testsmt19.k","json2":{"decls":[{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"one","typeParams":[],"params":[],"type":"FunDecl"},{"entityToken":"class","ident":"X","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"one","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[],"type":"FunDecl"}],"extending":[]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["X"],"type":"QualifiedName"}],"type":"Expression"},"name":"x","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"theOne","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"x","type":"ElementValue"},"f"]}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"theOne","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"type":"LiteralInteger","i":1},"type":"ExpressionDecl"}],"ident":"one","typeParams":[],"params":[],"type":"FunDecl"},{"entityToken":"class","ident":"X","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"args":[],"type":"FunApplExp","exp1":{"ident":"one","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[],"type":"FunDecl"}],"extending":[]},{"ty":{"ident":{"names":["X"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"x","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"theOne","expr":{"args":[],"type":"FunApplExp","exp1":{"exp":{"ident":"x","type":"IdentExp"},"ident":"f","type":"DotExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"theOne","type":"IdentExp"}},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for X:\n;;   X!val!1 X!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun X!val!1 () X)\n(declare-fun X!val!0 () X)\n;; cardinality constraint:\n(forall ((x X)) (or (= x X!val!1) (= x X!val!0)))\n;; -----------\n(define-fun instanceOfX!0 () Int\n  2)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!1))\n(define-fun k!1!3 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 3 1))\n  (ite (= x!1 2) (lift-X X!val!0)\n    (lift-X X!val!1))))\n(define-fun k!2 ((x!1 Int)) Int\n  (ite (= x!1 3) 3\n  (ite (= x!1 0) 0\n    2)))\n(define-fun k!1 ((x!1 Int)) Any\n  (k!1!3 (k!2 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (x Ref)(theOne Int)))))\n(declare-sort X) (declare-const mk-X X)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-X (sel-X X))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-X ((this Ref)) Bool\n  (is-lift-X (deref this))\n)\n\n(define-fun deref-X ((this Ref)) X\n  (sel-X (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-X ((this Ref)) Bool\n  (deref-is-X this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.x: ---\n\n(define-fun TopLevelDeclarations!x ((this Ref)) Ref\n  (x (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.theOne: ---\n\n(define-fun TopLevelDeclarations!theOne ((this Ref)) Int\n  (theOne (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.one ((this Ref)) Int\n  1\n)\n\n(define-fun TopLevelDeclarations!one ((this Ref)) Int\n  1\n)\n\n; ------------------------\n;   Methods for class X:\n; ------------------------\n\n(define-fun X.f ((this Ref)) Int\n  (TopLevelDeclarations!one 0 )\n)\n\n(define-fun X!f ((this Ref)) Int\n  (TopLevelDeclarations!one 0 )\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!theOne this) (X.f (TopLevelDeclarations!x this)  ))\n    (deref-isa-X (TopLevelDeclarations!x this))\n    (= (TopLevelDeclarations!theOne this)  1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class X:\n; --------------------------\n\n(define-fun X.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-X this) (X.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfX Ref)) (deref-is-X instanceOfX)))\n\n"},"tc3.k":{"typeChecks":false,"model":"","name":"tc3.k","json2":"","json1":"","smtModel":"","smt":""},"testsmt4.k":{"typeChecks":true,"model":"\nERROR:Int\n\nreq ERROR < 0\n\nfun CHECK(b:Bool) : Int\n{\n  if b then\n    42\n  else\n    ERROR\n}\n\nclass Event {\n  t1:Int\n  t2:Int\n\n  req t1 < t2\n\n  req t2 - t1 < 10\n  RESULT:Int = CHECK(t1 < t2 && t2 - t1 < 10)\n}\n\nclass Schedule {\n  a:Event\n  b:Event\n  c:Event\n  d:Event\n\n  fun before(e1:Event,e2:Event) : Bool\n  {\n    e1.t2 < e2.t1\n  }\n\n  fun meets(e1:Event,e2:Event) : Bool\n  {\n    e1.t2 = e2.t1\n  }\n\n  fun contains(e1:Event,e2:Event) : Bool\n  {\n    e1.t1 < e2.t1 && e2.t2 < e1.t2\n  }\n\n  req meets(a,b)\n\n  req before(b,c)\n\n  req contains(c,d)\n  RESULT:Int = CHECK(a.t2 = b.t1 && b.t2 < c.t1 && c.t1 <= d.t1 && d.t2 <= c.t2)\n}\n\n","name":"testsmt4.k","json2":{"decls":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"ERROR","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IfExp"},{"element":"b","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},42],"type":"Expression"},{"element":"ERROR","type":"ElementValue"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"Event","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"t1","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"t2","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"t1","type":"ElementValue"},{"element":"t2","type":"ElementValue"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Minus",{"element":"t2","type":"ElementValue"},{"element":"t1","type":"ElementValue"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"t1","type":"ElementValue"},{"element":"t2","type":"ElementValue"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Minus",{"element":"t2","type":"ElementValue"},{"element":"t1","type":"ElementValue"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"Schedule","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"e1","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"e2","type":"ElementValue"},"t1"]}]},"type":"ExpressionDecl"}],"ident":"before","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"e1","type":"Param"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"e2","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"e1","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"e2","type":"ElementValue"},"t1"]}]},"type":"ExpressionDecl"}],"ident":"meets","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"e1","type":"Param"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"e2","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"e1","type":"ElementValue"},"t1"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"e2","type":"ElementValue"},"t1"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"e2","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"e1","type":"ElementValue"},"t2"]}]}]},"type":"ExpressionDecl"}],"ident":"contains","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"e1","type":"Param"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"e2","type":"Param"}],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"meets","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"a","type":"ElementValue"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"b","type":"ElementValue"}],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"before","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"b","type":"ElementValue"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"c","type":"ElementValue"}],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"contains","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"c","type":"ElementValue"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"d","type":"ElementValue"}],"type":"Expression"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"b","type":"ElementValue"},"t1"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"b","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"c","type":"ElementValue"},"t1"]}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"c","type":"ElementValue"},"t1"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"d","type":"ElementValue"},"t1"]}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"d","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"c","type":"ElementValue"},"t2"]}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"ty":{"type":"IntType"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"ERROR","type":"IdentExp"}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"trueBranch":{"type":"LiteralInteger","i":42},"falseBranch":{"ident":"ERROR","type":"IdentExp"},"type":"IfExp","cond":{"ident":"b","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"type":"BoolType"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"Event","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"t1","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"t2","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"ident":"t1","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"op":"Minus","type":"BinExp","exp2":{"ident":"t1","type":"IdentExp"},"exp1":{"ident":"t2","type":"IdentExp"}}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"op":"Minus","type":"BinExp","exp2":{"ident":"t1","type":"IdentExp"},"exp1":{"ident":"t2","type":"IdentExp"}}},"exp1":{"op":"LT","type":"BinExp","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"ident":"t1","type":"IdentExp"}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"Schedule","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"BoolType"},"body":[{"exp":{"op":"LT","type":"BinExp","exp2":{"exp":{"ident":"e2","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"e1","type":"IdentExp"},"ident":"t2","type":"DotExp"}},"type":"ExpressionDecl"}],"ident":"before","typeParams":[],"params":[{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"e1","type":"Param"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"e2","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"type":"BoolType"},"body":[{"exp":{"op":"EQ","type":"BinExp","exp2":{"exp":{"ident":"e2","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"e1","type":"IdentExp"},"ident":"t2","type":"DotExp"}},"type":"ExpressionDecl"}],"ident":"meets","typeParams":[],"params":[{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"e1","type":"Param"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"e2","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"type":"BoolType"},"body":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"exp":{"ident":"e1","type":"IdentExp"},"ident":"t2","type":"DotExp"},"exp1":{"exp":{"ident":"e2","type":"IdentExp"},"ident":"t2","type":"DotExp"}},"exp1":{"op":"LT","type":"BinExp","exp2":{"exp":{"ident":"e2","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"e1","type":"IdentExp"},"ident":"t1","type":"DotExp"}}},"type":"ExpressionDecl"}],"ident":"contains","typeParams":[],"params":[{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"e1","type":"Param"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"e2","type":"Param"}],"type":"FunDecl"},{"exp":{"args":[{"exp":{"ident":"a","type":"IdentExp"},"type":"PositionalArgument"},{"exp":{"ident":"b","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"meets","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"args":[{"exp":{"ident":"b","type":"IdentExp"},"type":"PositionalArgument"},{"exp":{"ident":"c","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"before","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"args":[{"exp":{"ident":"c","type":"IdentExp"},"type":"PositionalArgument"},{"exp":{"ident":"d","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"contains","type":"IdentExp"}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"LTE","type":"BinExp","exp2":{"exp":{"ident":"c","type":"IdentExp"},"ident":"t2","type":"DotExp"},"exp1":{"exp":{"ident":"d","type":"IdentExp"},"ident":"t2","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"LTE","type":"BinExp","exp2":{"exp":{"ident":"d","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"c","type":"IdentExp"},"ident":"t1","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"exp":{"ident":"c","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"b","type":"IdentExp"},"ident":"t2","type":"DotExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"exp":{"ident":"b","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"a","type":"IdentExp"},"ident":"t2","type":"DotExp"}}}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfEvent!0 () Int\n  2)\n(define-fun instanceOfSchedule!1 () Int\n  4)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 6) 6\n  (ite (= x!1 7) 7\n  (ite (= x!1 8) 8\n  (ite (= x!1 4) 4\n  (ite (= x!1 5) 5\n  (ite (= x!1 0) 0\n    2)))))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 4) (lift-Schedule (mk-Schedule 5 6 7 8 42))\n  (ite (= x!1 5) (lift-Event (mk-Event 2434 2435 42))\n  (ite (= x!1 6) (lift-Event (mk-Event 2435 2436 42))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations (- 8856)))\n  (ite (= x!1 8) (lift-Event (mk-Event 2438 2439 42))\n  (ite (= x!1 2) (lift-Event (mk-Event 2281 2282 42))\n    (lift-Event (mk-Event 2437 2440 42)))))))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (ERROR Int)))))\n(declare-datatypes () ((Event (mk-Event (t1 Int)(t2 Int)(RESULT Int)))))\n(declare-datatypes () ((Schedule (mk-Schedule (a Ref)(b Ref)(c Ref)(d Ref)(RESULT Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-Event (sel-Event Event))\n  (lift-Schedule (sel-Schedule Schedule))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-Event ((this Ref)) Bool\n  (is-lift-Event (deref this))\n)\n\n(define-fun deref-Event ((this Ref)) Event\n  (sel-Event (deref this))\n)\n\n(define-fun deref-is-Schedule ((this Ref)) Bool\n  (is-lift-Schedule (deref this))\n)\n\n(define-fun deref-Schedule ((this Ref)) Schedule\n  (sel-Schedule (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-Event ((this Ref)) Bool\n  (deref-is-Event this)\n)\n\n(define-fun deref-isa-Schedule ((this Ref)) Bool\n  (deref-is-Schedule this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.ERROR: ---\n\n(define-fun TopLevelDeclarations.ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n(define-fun TopLevelDeclarations!ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n; ----------------------------\n;   Getters for class Event:\n; ----------------------------\n\n; --- getters for Event.t1: ---\n\n(define-fun Event.t1 ((this Ref)) Int\n  (t1 (deref-Event this))\n)\n\n(define-fun Event!t1 ((this Ref)) Int\n  (t1 (deref-Event this))\n)\n\n; --- getters for Event.t2: ---\n\n(define-fun Event.t2 ((this Ref)) Int\n  (t2 (deref-Event this))\n)\n\n(define-fun Event!t2 ((this Ref)) Int\n  (t2 (deref-Event this))\n)\n\n; --- getters for Event.RESULT: ---\n\n(define-fun Event!RESULT ((this Ref)) Int\n  (RESULT (deref-Event this))\n)\n\n; -------------------------------\n;   Getters for class Schedule:\n; -------------------------------\n\n; --- getters for Schedule.a: ---\n\n(define-fun Schedule!a ((this Ref)) Ref\n  (a (deref-Schedule this))\n)\n\n; --- getters for Schedule.b: ---\n\n(define-fun Schedule!b ((this Ref)) Ref\n  (b (deref-Schedule this))\n)\n\n; --- getters for Schedule.c: ---\n\n(define-fun Schedule!c ((this Ref)) Ref\n  (c (deref-Schedule this))\n)\n\n; --- getters for Schedule.d: ---\n\n(define-fun Schedule!d ((this Ref)) Ref\n  (d (deref-Schedule this))\n)\n\n; --- getters for Schedule.RESULT: ---\n\n(define-fun Schedule!RESULT ((this Ref)) Int\n  (RESULT (deref-Schedule this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations.ERROR this) )\n)\n\n(define-fun TopLevelDeclarations!CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations!ERROR this) )\n)\n\n; -------------------------------\n;   Methods for class Schedule:\n; -------------------------------\n\n(define-fun Schedule.before ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (< (Event.t2 e1) (Event.t1 e2))\n)\n\n(define-fun Schedule!before ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (< (Event.t2 e1) (Event.t1 e2))\n)\n\n(define-fun Schedule.meets ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (= (Event.t2 e1) (Event.t1 e2))\n)\n\n(define-fun Schedule!meets ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (= (Event.t2 e1) (Event.t1 e2))\n)\n\n(define-fun Schedule.contains ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (and (< (Event.t1 e1) (Event.t1 e2)) (< (Event.t2 e2) (Event.t2 e1)))\n)\n\n(define-fun Schedule!contains ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (and (< (Event.t1 e1) (Event.t1 e2)) (< (Event.t2 e2) (Event.t2 e1)))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (< (TopLevelDeclarations!ERROR this)  0)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; ------------------------------\n;   Invariant for class Event:\n; ------------------------------\n\n(define-fun Event.inv ((this Ref)) Bool\n  (and\n    (= (Event!RESULT this) (TopLevelDeclarations!CHECK 0 (and (< (Event!t1 this)  (Event!t2 this) ) (< (- (Event!t2 this)  (Event!t1 this) ) 10))))\n    (< (Event!t1 this)  (Event!t2 this) )\n    (< (- (Event!t2 this)  (Event!t1 this) ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Event this) (Event.inv this))\n))\n\n; ---------------------------------\n;   Invariant for class Schedule:\n; ---------------------------------\n\n(define-fun Schedule.inv ((this Ref)) Bool\n  (and\n    (= (Schedule!RESULT this) (TopLevelDeclarations!CHECK 0 (and (and (and (= (Event.t2 (Schedule!a this) ) (Event.t1 (Schedule!b this) )) (< (Event.t2 (Schedule!b this) ) (Event.t1 (Schedule!c this) ))) (<= (Event.t1 (Schedule!c this) ) (Event.t1 (Schedule!d this) ))) (<= (Event.t2 (Schedule!d this) ) (Event.t2 (Schedule!c this) )))))\n    (deref-isa-Event (Schedule!a this))\n    (deref-isa-Event (Schedule!b this))\n    (deref-isa-Event (Schedule!c this))\n    (deref-isa-Event (Schedule!d this))\n    (Schedule!meets this (Schedule!a this)  (Schedule!b this) )\n    (Schedule!before this (Schedule!b this)  (Schedule!c this) )\n    (Schedule!contains this (Schedule!c this)  (Schedule!d this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Schedule this) (Schedule.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfEvent Ref)) (deref-is-Event instanceOfEvent)))\n(assert (exists ((instanceOfSchedule Ref)) (deref-is-Schedule instanceOfSchedule)))\n\n"},"testsmt16.k":{"typeChecks":true,"model":"\nclass Time {\n  t:Int\n}\n\nclass DurativeEvent\n\nclass VerifyEVR {\n  cmd:String\n}\n\nverify1:VerifyEVR = VerifyEVR(cmd :: \"CMD_NO_OP\")\n\ntime:Time\n\n","name":"testsmt16.k","json2":{"decls":[{"entityToken":"class","ident":"Time","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"t","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"DurativeEvent","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[]},{"entityToken":"class","ident":"VerifyEVR","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"StringType"}],"type":"Expression"},"name":"cmd","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["VerifyEVR"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"verify1","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"VerifyEVR","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"cmd",{"operand":[{"element":"ElementValue","type":"StringLiteral"},"\"CMD_NO_OP\""],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Time"],"type":"QualifiedName"}],"type":"Expression"},"name":"time","modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"Time","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"t","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"DurativeEvent","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[]},{"entityToken":"class","ident":"VerifyEVR","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"StringType"},"name":"cmd","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"ty":{"ident":{"names":["VerifyEVR"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"verify1","expr":{"args":[{"exp":{"string":"CMD_NO_OP","type":"StringLiteral"},"ident":"cmd","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"VerifyEVR","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Time"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"time","modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for DurativeEvent:\n;;   DurativeEvent!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun DurativeEvent!val!0 () DurativeEvent)\n;; cardinality constraint:\n(forall ((x DurativeEvent)) (= x DurativeEvent!val!0))\n;; -----------\n;; universe for VerifyEVR:\n;;   VerifyEVR!val!1 VerifyEVR!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun VerifyEVR!val!1 () VerifyEVR)\n(declare-fun VerifyEVR!val!0 () VerifyEVR)\n;; cardinality constraint:\n(forall ((x VerifyEVR)) (or (= x VerifyEVR!val!1) (= x VerifyEVR!val!0)))\n;; -----------\n(define-fun instanceOfTime!0 () Int\n  1)\n(define-fun instanceOfVerifyEVR!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfDurativeEvent!1 () Int\n  2)\n(define-fun mk-VerifyEVR () VerifyEVR\n  VerifyEVR!val!1)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-VerifyEVR VerifyEVR!val!0)\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 4 5))\n  (ite (= x!1 4) (lift-VerifyEVR VerifyEVR!val!1)\n  (ite (= x!1 1) (lift-Time (mk-Time 6))\n  (ite (= x!1 5) (lift-Time (mk-Time 7))\n    (lift-DurativeEvent DurativeEvent!val!0)))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 1) 1\n  (ite (= x!1 3) 3\n  (ite (= x!1 2) 2\n  (ite (= x!1 0) 0\n  (ite (= x!1 4) 4\n    5))))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (verify1 Ref)(time Ref)))))\n(declare-datatypes () ((Time (mk-Time (t Int)))))\n(declare-sort DurativeEvent) (declare-const mk-DurativeEvent DurativeEvent)\n(declare-sort VerifyEVR) (declare-const mk-VerifyEVR VerifyEVR)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-Time (sel-Time Time))\n  (lift-DurativeEvent (sel-DurativeEvent DurativeEvent))\n  (lift-VerifyEVR (sel-VerifyEVR VerifyEVR))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-Time ((this Ref)) Bool\n  (is-lift-Time (deref this))\n)\n\n(define-fun deref-Time ((this Ref)) Time\n  (sel-Time (deref this))\n)\n\n(define-fun deref-is-DurativeEvent ((this Ref)) Bool\n  (is-lift-DurativeEvent (deref this))\n)\n\n(define-fun deref-DurativeEvent ((this Ref)) DurativeEvent\n  (sel-DurativeEvent (deref this))\n)\n\n(define-fun deref-is-VerifyEVR ((this Ref)) Bool\n  (is-lift-VerifyEVR (deref this))\n)\n\n(define-fun deref-VerifyEVR ((this Ref)) VerifyEVR\n  (sel-VerifyEVR (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-Time ((this Ref)) Bool\n  (deref-is-Time this)\n)\n\n(define-fun deref-isa-DurativeEvent ((this Ref)) Bool\n  (deref-is-DurativeEvent this)\n)\n\n(define-fun deref-isa-VerifyEVR ((this Ref)) Bool\n  (deref-is-VerifyEVR this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.verify1: ---\n\n(define-fun TopLevelDeclarations!verify1 ((this Ref)) Ref\n  (verify1 (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.time: ---\n\n(define-fun TopLevelDeclarations!time ((this Ref)) Ref\n  (time (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!verify1 this)) (lift-VerifyEVR mk-VerifyEVR))\n    (deref-isa-VerifyEVR (TopLevelDeclarations!verify1 this))\n    (deref-isa-Time (TopLevelDeclarations!time this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; -----------------------------\n;   Invariant for class Time:\n; -----------------------------\n\n(define-fun Time.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Time this) (Time.inv this))\n))\n\n; --------------------------------------\n;   Invariant for class DurativeEvent:\n; --------------------------------------\n\n(define-fun DurativeEvent.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-DurativeEvent this) (DurativeEvent.inv this))\n))\n\n; ----------------------------------\n;   Invariant for class VerifyEVR:\n; ----------------------------------\n\n(define-fun VerifyEVR.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-VerifyEVR this) (VerifyEVR.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfTime Ref)) (deref-is-Time instanceOfTime)))\n(assert (exists ((instanceOfDurativeEvent Ref)) (deref-is-DurativeEvent instanceOfDurativeEvent)))\n(assert (exists ((instanceOfVerifyEVR Ref)) (deref-is-VerifyEVR instanceOfVerifyEVR)))\n\n"},"testsmt12.k":{"typeChecks":true,"model":"\nclass A {\n\n  fun id(x:Int) : Int\n  {\n    if x >= 0 then\n      {\n        k:Int = x - 1\n        k + 1\n      }\n    else\n      {\n        k:Int = x + 1\n        k - 1\n      }\n  }\n  result1:Int = id(7)\n  result2:Int = id(-3)\n  result:Int = result1 + result2\n\n  req result1 = 7\n\n  req result2 = -3\n\n  req result = 4\n}\n\n","name":"testsmt12.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IfExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},{"operand":[{"element":"ElementValue","type":"BlockExp"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Minus",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"k","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"type":"ExpressionDecl"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"BlockExp"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Minus",{"element":"k","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"type":"ExpressionDecl"}],"type":"Expression"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"id","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"result1","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"id","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},7],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"result2","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"id","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"UnaryExp"},"Neg",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"result","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"result1","type":"ElementValue"},{"element":"result2","type":"ElementValue"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"result1","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},7],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"result2","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"UnaryExp"},"Neg",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"}]}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"result","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},4],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"trueBranch":{"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k","expr":{"op":"Minus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"x","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"k","type":"IdentExp"}},"type":"ExpressionDecl"}],"type":"BlockExp"},"falseBranch":{"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k","expr":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"x","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"Minus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"k","type":"IdentExp"}},"type":"ExpressionDecl"}],"type":"BlockExp"},"type":"IfExp","cond":{"op":"GTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"x","type":"IdentExp"}}},"type":"ExpressionDecl"}],"ident":"id","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"result1","expr":{"args":[{"exp":{"type":"LiteralInteger","i":7},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"id","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"result2","expr":{"args":[{"exp":{"exp":{"type":"LiteralInteger","i":3},"op":"Neg","type":"UnaryExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"id","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"result","expr":{"op":"Plus","type":"BinExp","exp2":{"ident":"result2","type":"IdentExp"},"exp1":{"ident":"result1","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":7},"exp1":{"ident":"result1","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"exp":{"type":"LiteralInteger","i":3},"op":"Neg","type":"UnaryExp"},"exp1":{"ident":"result2","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":4},"exp1":{"ident":"result","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!1))\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!1!3 ((x!1 Int)) Any\n  (ite (= x!1 1) (lift-A (mk-A 7 (- 3) 4))\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0)))\n(define-fun k!2 ((x!1 Int)) Int\n  (ite (= x!1 1) 1\n    0))\n(define-fun k!1 ((x!1 Int)) Any\n  (k!1!3 (k!2 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-datatypes () ((A (mk-A (result1 Int)(result2 Int)(result Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.result1: ---\n\n(define-fun A!result1 ((this Ref)) Int\n  (result1 (deref-A this))\n)\n\n; --- getters for A.result2: ---\n\n(define-fun A!result2 ((this Ref)) Int\n  (result2 (deref-A this))\n)\n\n; --- getters for A.result: ---\n\n(define-fun A!result ((this Ref)) Int\n  (result (deref-A this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.id ((this Ref)(x Int)) Int\n  (ite (>= x 0)   (let ((k (- x 1)))\n    (+ k 1))   (let ((k (+ x 1)))\n    (- k 1)))\n)\n\n(define-fun A!id ((this Ref)(x Int)) Int\n  (ite (>= x 0)   (let ((k (- x 1)))\n    (+ k 1))   (let ((k (+ x 1)))\n    (- k 1)))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!result1 this) (A!id this 7))\n    (= (A!result2 this) (A!id this (- 3)))\n    (= (A!result this) (+ (A!result1 this)  (A!result2 this) ))\n    (= (A!result1 this)  7)\n    (= (A!result2 this)  (- 3))\n    (= (A!result this)  4)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n\n"},"inheritance7.k":{"typeChecks":true,"model":"\nclass A {\n  x:Int\n  j:B\n\n  req x > 0\n\n  req j.yy > 10\n}\n\nclass <b> B extending A {\n  yy:Int\n}\n\nb C {\n  z:Int\n\n  fun foo(x:Int) : Int\n  {\n    return x + 1\n  }\n}\n\nbobj:C\n\nreq bobj.z = 1\n\ny:Int\n\n","name":"inheritance7.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"},"name":"j","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"j","type":"ElementValue"},"yy"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]},{"entityToken":"class","ident":"B","keyword":"b","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"yy","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"b","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"z","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"ReturnExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"foo","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["C"],"type":"QualifiedName"}],"type":"Expression"},"name":"bobj","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"bobj","type":"ElementValue"},"z"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"y","modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"x","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"j","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"x","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"exp":{"ident":"j","type":"IdentExp"},"ident":"yy","type":"DotExp"}},"type":"ConstraintDecl"}],"extending":[]},{"entityToken":"class","ident":"B","keyword":"b","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"yy","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"b","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"z","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"exp":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"x","type":"IdentExp"}},"type":"ReturnExp"},"type":"ExpressionDecl"}],"ident":"foo","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"ty":{"ident":{"names":["C"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"bobj","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"exp":{"ident":"bobj","type":"IdentExp"},"ident":"z","type":"DotExp"}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"name":"y","modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfC!2 () Int\n  4)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfB!1 () Int\n  3)\n(define-fun instanceOfA!0 () Int\n  2)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 75) (lift-C (mk-C 3961 78 6030 79))\n  (ite (= x!1 128) (lift-B (mk-B 138 139 6901))\n  (ite (= x!1 25) (lift-B (mk-B 5905 30 3008))\n  (ite (= x!1 44) (lift-C (mk-C 3505 51 1605 52))\n  (ite (= x!1 50) (lift-B (mk-B 7177 54 2289))\n  (ite (= x!1 30) (lift-C (mk-C 2617 40 8467 41))\n  (ite (= x!1 81) (lift-B (mk-B 5726 86 4176))\n  (ite (= x!1 114) (lift-B (mk-B 4263 119 1779))\n  (ite (= x!1 14) (lift-C (mk-C 610 18 8376 19))\n  (ite (= x!1 2) (lift-A (mk-A 39 7))\n  (ite (= x!1 35) (lift-C (mk-C 583 46 851 47))\n  (ite (= x!1 76) (lift-C (mk-C 4322 87 5992 88))\n  (ite (= x!1 107) (lift-C (mk-C 2525 112 2589 113))\n  (ite (= x!1 24) (lift-B (mk-B 2241 32 8956))\n  (ite (= x!1 92) (lift-B (mk-B 3578 102 3576))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 5 6))\n  (ite (= x!1 33) (lift-B (mk-B 591 35 2457))\n  (ite (= x!1 124) (lift-C (mk-C 133 134 757 135))\n  (ite (= x!1 109) (lift-B (mk-B 9643 111 6823))\n  (ite (= x!1 40) (lift-B (mk-B 868 42 2466))\n  (ite (= x!1 32) (lift-B (mk-B 8587 36 9736))\n  (ite (= x!1 60) (lift-B (mk-B 7374 65 4107))\n  (ite (= x!1 117) (lift-B (mk-B 5080 124 815))\n  (ite (= x!1 37) (lift-C (mk-C 7887 44 3620 45))\n  (ite (= x!1 103) (lift-B (mk-B 436 108 4468))\n  (ite (= x!1 59) (lift-B (mk-B 6703 64 5609))\n  (ite (= x!1 55) (lift-B (mk-B 1103 57 2123))\n  (ite (= x!1 111) (lift-B (mk-B 4021 117 987))\n  (ite (= x!1 94) (lift-C (mk-C 5530 103 130 104))\n  (ite (= x!1 116) (lift-B (mk-B 9295 118 3834))\n  (ite (= x!1 43) (lift-B (mk-B 9403 50 8232))\n  (ite (= x!1 48) (lift-B (mk-B 4136 56 7589))\n  (ite (= x!1 31) (lift-C (mk-C 1236 37 8890 38))\n  (ite (= x!1 7) (lift-C (mk-C 8099 20 11 21))\n  (ite (= x!1 51) (lift-B (mk-B 9264 55 4397))\n  (ite (= x!1 96) (lift-C (mk-C 5969 100 6059 101))\n  (ite (= x!1 100) (lift-C (mk-C 9159 109 7534 110))\n  (ite (= x!1 20) (lift-B (mk-B 6284 25 1153))\n  (ite (= x!1 65) (lift-B (mk-B 1392 75 8880))\n  (ite (= x!1 72) (lift-C (mk-C 1574 76 2815 77))\n  (ite (= x!1 87) (lift-C (mk-C 8747 96 4932 97))\n  (ite (= x!1 127) (lift-B (mk-B 131 132 6769))\n  (ite (= x!1 5) (lift-C (mk-C 1797 14 15 1))\n  (ite (= x!1 16) (lift-C (mk-C 1889 28 460 29))\n  (ite (= x!1 8) (lift-C (mk-C 2283 16 1247 17))\n  (ite (= x!1 64) (lift-C (mk-C 8004 68 5270 69))\n  (ite (= x!1 58) (lift-C (mk-C 5942 66 4346 67))\n  (ite (= x!1 71) (lift-B (mk-B 4187 72 250))\n  (ite (= x!1 105) (lift-B (mk-B 9245 116 6539))\n  (ite (= x!1 83) (lift-C (mk-C 2773 90 1257 91))\n  (ite (= x!1 108) (lift-C (mk-C 1093 114 1677 115))\n  (ite (= x!1 80) (lift-B (mk-B 2236 83 7578))\n  (ite (= x!1 86) (lift-C (mk-C 2062 92 2710 93))\n  (ite (= x!1 112) (lift-C (mk-C 1063 120 3834 121))\n  (ite (= x!1 49) (lift-B (mk-B 1649 53 7640))\n  (ite (= x!1 53) (lift-B (mk-B 7855 59 2339))\n  (ite (= x!1 4) (lift-C (mk-C 2438 10 12 13))\n  (ite (= x!1 26) (lift-C (mk-C 2276 33 985 34))\n  (ite (= x!1 28) (lift-B (mk-B 1324 31 1664))\n  (ite (= x!1 74) (lift-B (mk-B 7066 80 542))\n  (ite (= x!1 98) (lift-C (mk-C 9271 105 6344 106))\n  (ite (= x!1 3) (lift-B (mk-B 7720 8 9))\n  (ite (= x!1 57) (lift-C (mk-C 3213 62 1661 63))\n  (ite (= x!1 22) (lift-C (mk-C 4680 26 546 27))\n  (ite (= x!1 70) (lift-B (mk-B 8936 73 1829))\n  (ite (= x!1 46) (lift-B (mk-B 1109 48 2222))\n  (ite (= x!1 78) (lift-C (mk-C 3635 84 635 85))\n  (ite (= x!1 18) (lift-B (mk-B 5921 24 5864))\n  (ite (= x!1 125) (lift-B (mk-B 136 137 123))\n  (ite (= x!1 54) (lift-C (mk-C 4771 60 2342 61))\n  (ite (= x!1 62) (lift-B (mk-B 3503 71 4694))\n  (ite (= x!1 73) (lift-C (mk-C 2830 81 3034 82))\n  (ite (= x!1 120) (lift-C (mk-C 5328 125 9058 126))\n  (ite (= x!1 90) (lift-C (mk-C 9620 98 6822 99))\n  (ite (= x!1 36) (lift-B (mk-B 6879 43 6917))\n  (ite (= x!1 10) (lift-C (mk-C 282 22 8866 23))\n  (ite (= x!1 42) (lift-B (mk-B 7066 49 9542))\n  (ite (= x!1 68) (lift-B (mk-B 335 74 6683))\n  (ite (= x!1 84) (lift-C (mk-C 5190 94 5629 95))\n  (ite (= x!1 66) (lift-B (mk-B 3153 70 2758))\n  (ite (= x!1 102) (lift-B (mk-B 2132 107 5056))\n  (ite (= x!1 118) (lift-B (mk-B 1184 127 6735))\n  (ite (= x!1 56) (lift-B (mk-B 8405 58 6937))\n    (lift-C (mk-C 2743 128 3649 129))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 51) 51\n  (ite (= x!1 80) 80\n  (ite (= x!1 81) 81\n  (ite (= x!1 86) 86\n  (ite (= x!1 128) 128\n  (ite (= x!1 0) 0\n  (ite (= x!1 59) 59\n  (ite (= x!1 16) 16\n  (ite (= x!1 18) 18\n  (ite (= x!1 20) 20\n  (ite (= x!1 111) 111\n  (ite (= x!1 7) 7\n  (ite (= x!1 60) 60\n  (ite (= x!1 68) 68\n  (ite (= x!1 117) 117\n  (ite (= x!1 102) 102\n  (ite (= x!1 53) 53\n  (ite (= x!1 83) 83\n  (ite (= x!1 44) 44\n  (ite (= x!1 62) 62\n  (ite (= x!1 56) 56\n  (ite (= x!1 33) 33\n  (ite (= x!1 94) 94\n  (ite (= x!1 65) 65\n  (ite (= x!1 74) 74\n  (ite (= x!1 92) 92\n  (ite (= x!1 96) 96\n  (ite (= x!1 54) 54\n  (ite (= x!1 125) 125\n  (ite (= x!1 55) 55\n  (ite (= x!1 109) 109\n  (ite (= x!1 48) 48\n  (ite (= x!1 119) 119\n  (ite (= x!1 37) 37\n  (ite (= x!1 46) 46\n  (ite (= x!1 124) 124\n  (ite (= x!1 127) 127\n  (ite (= x!1 22) 22\n  (ite (= x!1 3) 3\n  (ite (= x!1 72) 72\n  (ite (= x!1 49) 49\n  (ite (= x!1 112) 112\n  (ite (= x!1 42) 42\n  (ite (= x!1 71) 71\n  (ite (= x!1 5) 5\n  (ite (= x!1 43) 43\n  (ite (= x!1 98) 98\n  (ite (= x!1 108) 108\n  (ite (= x!1 14) 14\n  (ite (= x!1 8) 8\n  (ite (= x!1 57) 57\n  (ite (= x!1 118) 118\n  (ite (= x!1 100) 100\n  (ite (= x!1 103) 103\n  (ite (= x!1 58) 58\n  (ite (= x!1 4) 4\n  (ite (= x!1 40) 40\n  (ite (= x!1 10) 10\n  (ite (= x!1 107) 107\n  (ite (= x!1 28) 28\n  (ite (= x!1 105) 105\n  (ite (= x!1 70) 70\n  (ite (= x!1 50) 50\n  (ite (= x!1 64) 64\n  (ite (= x!1 26) 26\n  (ite (= x!1 84) 84\n  (ite (= x!1 31) 31\n  (ite (= x!1 35) 35\n  (ite (= x!1 66) 66\n  (ite (= x!1 87) 87\n  (ite (= x!1 2) 2\n  (ite (= x!1 30) 30\n  (ite (= x!1 32) 32\n  (ite (= x!1 90) 90\n  (ite (= x!1 116) 116\n  (ite (= x!1 120) 120\n  (ite (= x!1 114) 114\n  (ite (= x!1 36) 36\n  (ite (= x!1 25) 25\n  (ite (= x!1 24) 24\n  (ite (= x!1 76) 76\n  (ite (= x!1 78) 78\n  (ite (= x!1 73) 73\n    75))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (bobj Ref)(y Int)))))\n(declare-datatypes () ((A (mk-A (x Int)(j Ref)))))\n(declare-datatypes () ((B (mk-B (x Int)(j Ref)(yy Int)))))\n(declare-datatypes () ((C (mk-C (x Int)(j Ref)(yy Int)(z Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.bobj: ---\n\n(define-fun TopLevelDeclarations!bobj ((this Ref)) Ref\n  (bobj (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (ite (deref-is-A this) (x (deref-A this))\n  (ite (deref-is-B this) (x (deref-B this))\n  (x (deref-C this))))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; --- getters for A.j: ---\n\n(define-fun A!j ((this Ref)) Ref\n  (j (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B.x ((this Ref)) Int\n  (ite (deref-is-B this) (x (deref-B this))\n  (x (deref-C this)))\n)\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.j: ---\n\n(define-fun B!j ((this Ref)) Ref\n  (j (deref-B this))\n)\n\n; --- getters for B.yy: ---\n\n(define-fun B.yy ((this Ref)) Int\n  (ite (deref-is-B this) (yy (deref-B this))\n  (yy (deref-C this)))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.x: ---\n\n(define-fun C!x ((this Ref)) Int\n  (x (deref-C this))\n)\n\n; --- getters for C.j: ---\n\n(define-fun C!j ((this Ref)) Ref\n  (j (deref-C this))\n)\n\n; --- getters for C.z: ---\n\n(define-fun C.z ((this Ref)) Int\n  (z (deref-C this))\n)\n\n(define-fun C!z ((this Ref)) Int\n  (z (deref-C this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class C:\n; ------------------------\n\n(define-fun C.foo ((this Ref)(x Int)) Int\n  (+ x 1)\n)\n\n(define-fun C!foo ((this Ref)(x Int)) Int\n  (+ x 1)\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-C (TopLevelDeclarations!bobj this))\n    (= (C.z (TopLevelDeclarations!bobj this) ) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (A!j this))\n    (> (A!x this)  0)\n    (> (B.yy (A!j this) ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (B!j this))\n    (> (B!x this)  0)\n    (> (B.yy (B!j this) ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (C!j this))\n    (> (C!x this)  0)\n    (> (B.yy (C!j this) ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n\n"},"scope1.k":{"typeChecks":false,"model":"","name":"scope1.k","json2":"","json1":"","smtModel":"","smt":""},"inheritance10.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int\n  b:Int\n  c:Int\n  d:Int\n  e:Int\n  f:Int\n  g:Int\n}\n\nclass B extending A\n\nclass C extending B\n\nclass D extending C\n\nclass E extending D\n\nclass F extending E\n\nclass G extending F\n\nclass H extending G\n\nh:H = H()\n\nreq h.a + h.b + h.c + h.d + h.e + h.f + h.g = 90\n\n","name":"inheritance10.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"e","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"f","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"g","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["C"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"E","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["D"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"F","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["E"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"G","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["F"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"H","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["G"],"type":"QualifiedName"}],"type":"Expression"}]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["H"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"h","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"H","type":"ElementValue"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"h","type":"ElementValue"},"a"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"h","type":"ElementValue"},"b"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"h","type":"ElementValue"},"c"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"h","type":"ElementValue"},"d"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"h","type":"ElementValue"},"e"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"h","type":"ElementValue"},"f"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"h","type":"ElementValue"},"g"]}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},90],"type":"Expression"}]},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"c","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"e","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"f","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"g","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["C"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"E","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["D"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"F","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["E"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"G","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["F"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"H","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["G"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"ty":{"ident":{"names":["H"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"h","expr":{"args":[],"type":"FunApplExp","exp1":{"ident":"H","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":90},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"h","type":"IdentExp"},"ident":"g","type":"DotExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"h","type":"IdentExp"},"ident":"f","type":"DotExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"h","type":"IdentExp"},"ident":"e","type":"DotExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"h","type":"IdentExp"},"ident":"d","type":"DotExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"h","type":"IdentExp"},"ident":"c","type":"DotExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"h","type":"IdentExp"},"ident":"b","type":"DotExp"},"exp1":{"exp":{"ident":"h","type":"IdentExp"},"ident":"a","type":"DotExp"}}}}}}}},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun const__5 () Int\n  (- 25566))\n(define-fun instanceOfD!3 () Int\n  4)\n(define-fun const__3 () Int\n  8365)\n(define-fun instanceOfG!6 () Int\n  7)\n(define-fun instanceOfH!7 () Int\n  8)\n(define-fun instanceOfF!5 () Int\n  6)\n(define-fun const__2 () Int\n  8098)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun const__4 () Int\n  2282)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!8))\n(define-fun const__6 () Int\n  449)\n(define-fun const__7 () Int\n  609)\n(define-fun instanceOfE!4 () Int\n  5)\n(define-fun instanceOfC!2 () Int\n  3)\n(define-fun instanceOfB!1 () Int\n  2)\n(define-fun const__1 () Int\n  5853)\n(define-fun k!8!10 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-C (mk-C 24 25 26 27 28 29 30))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 9))\n  (ite (= x!1 4) (lift-D (mk-D 31 32 33 34 35 36 37))\n  (ite (= x!1 8) (lift-H (mk-H 59 60 61 62 63 64 65))\n  (ite (= x!1 9) (lift-H (mk-H 5853 8098 8365 2282 (- 25566) 449 609))\n  (ite (= x!1 5) (lift-E (mk-E 38 39 40 41 42 43 44))\n  (ite (= x!1 6) (lift-F (mk-F 45 46 47 48 49 50 51))\n  (ite (= x!1 1) (lift-A (mk-A 10 11 12 13 14 15 16))\n  (ite (= x!1 2) (lift-B (mk-B 17 18 19 20 21 22 23))\n    (lift-G (mk-G 52 53 54 55 56 57 58))))))))))))\n(define-fun k!9 ((x!1 Int)) Int\n  (ite (= x!1 8) 8\n  (ite (= x!1 9) 9\n  (ite (= x!1 4) 4\n  (ite (= x!1 0) 0\n  (ite (= x!1 7) 7\n  (ite (= x!1 3) 3\n  (ite (= x!1 6) 6\n  (ite (= x!1 2) 2\n  (ite (= x!1 5) 5\n    1))))))))))\n(define-fun k!8 ((x!1 Int)) Any\n  (k!8!10 (k!9 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (h Ref)))))\n(declare-datatypes () ((A (mk-A (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((D (mk-D (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((E (mk-E (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((F (mk-F (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((G (mk-G (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((H (mk-H (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-E (sel-E E))\n  (lift-F (sel-F F))\n  (lift-G (sel-G G))\n  (lift-H (sel-H H))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-E ((this Ref)) Bool\n  (is-lift-E (deref this))\n)\n\n(define-fun deref-E ((this Ref)) E\n  (sel-E (deref this))\n)\n\n(define-fun deref-is-F ((this Ref)) Bool\n  (is-lift-F (deref this))\n)\n\n(define-fun deref-F ((this Ref)) F\n  (sel-F (deref this))\n)\n\n(define-fun deref-is-G ((this Ref)) Bool\n  (is-lift-G (deref this))\n)\n\n(define-fun deref-G ((this Ref)) G\n  (sel-G (deref this))\n)\n\n(define-fun deref-is-H ((this Ref)) Bool\n  (is-lift-H (deref this))\n)\n\n(define-fun deref-H ((this Ref)) H\n  (sel-H (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (or\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-E ((this Ref)) Bool\n  (or\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-F ((this Ref)) Bool\n  (or\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-G ((this Ref)) Bool\n  (or\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-H ((this Ref)) Bool\n  (deref-is-H this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.h: ---\n\n(define-fun TopLevelDeclarations!h ((this Ref)) Ref\n  (h (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class H:\n; ------------------------\n\n; --- getters for H.a: ---\n\n(define-fun H.a ((this Ref)) Int\n  (a (deref-H this))\n)\n\n; --- getters for H.b: ---\n\n(define-fun H.b ((this Ref)) Int\n  (b (deref-H this))\n)\n\n; --- getters for H.c: ---\n\n(define-fun H.c ((this Ref)) Int\n  (c (deref-H this))\n)\n\n; --- getters for H.d: ---\n\n(define-fun H.d ((this Ref)) Int\n  (d (deref-H this))\n)\n\n; --- getters for H.e: ---\n\n(define-fun H.e ((this Ref)) Int\n  (e (deref-H this))\n)\n\n; --- getters for H.f: ---\n\n(define-fun H.f ((this Ref)) Int\n  (f (deref-H this))\n)\n\n; --- getters for H.g: ---\n\n(define-fun H.g ((this Ref)) Int\n  (g (deref-H this))\n)\n\n; ========================================\n; === Constructor parameter constants: ===\n; ========================================\n\n(declare-const const__1 Int)\n(declare-const const__2 Int)\n(declare-const const__3 Int)\n(declare-const const__4 Int)\n(declare-const const__5 Int)\n(declare-const const__6 Int)\n(declare-const const__7 Int)\n\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!h this)) (lift-H (mk-H const__1 const__2 const__3 const__4 const__5 const__6 const__7)))\n    (deref-isa-H (TopLevelDeclarations!h this))\n    (= (+ (+ (+ (+ (+ (+ (H.a (TopLevelDeclarations!h this) ) (H.b (TopLevelDeclarations!h this) )) (H.c (TopLevelDeclarations!h this) )) (H.d (TopLevelDeclarations!h this) )) (H.e (TopLevelDeclarations!h this) )) (H.f (TopLevelDeclarations!h this) )) (H.g (TopLevelDeclarations!h this) )) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; --------------------------\n;   Invariant for class E:\n; --------------------------\n\n(define-fun E.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-E this) (E.inv this))\n))\n\n; --------------------------\n;   Invariant for class F:\n; --------------------------\n\n(define-fun F.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-F this) (F.inv this))\n))\n\n; --------------------------\n;   Invariant for class G:\n; --------------------------\n\n(define-fun G.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-G this) (G.inv this))\n))\n\n; --------------------------\n;   Invariant for class H:\n; --------------------------\n\n(define-fun H.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-H this) (H.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (exists ((instanceOfE Ref)) (deref-is-E instanceOfE)))\n(assert (exists ((instanceOfF Ref)) (deref-is-F instanceOfF)))\n(assert (exists ((instanceOfG Ref)) (deref-is-G instanceOfG)))\n(assert (exists ((instanceOfH Ref)) (deref-is-H instanceOfH)))\n\n"},"inheritance8.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int\n}\n\nclass B {\n  b:Int\n}\n\nclass C extending A,B {\n  c:Int\n}\n\nclass D {\n  bb:B\n  d:Int\n}\n\nclass E extending D {\n  e:Int\n}\n\nclass F extending C,E {\n  f:Int\n}\n\nclass G extending E {\n  ee:E\n  g:Int\n}\n\nclass H extending F,G {\n  h:Int\n  tsum:Int = a + b + c + d + e + f + g + h\n}\n\nh:H = H(a :: 1,b :: 2,c :: 3,d :: 4,e :: 5,f :: 6,g :: 7,h :: 8)\n\nreq h.tsum = 36\n\n","name":"inheritance8.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"b","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"c","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"},"name":"bb","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"d","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"E","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"e","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["D"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"F","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"f","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["C"],"type":"QualifiedName"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["E"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"G","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["E"],"type":"QualifiedName"}],"type":"Expression"},"name":"ee","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"g","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["E"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"H","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"h","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"tsum","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"a","type":"ElementValue"},{"element":"b","type":"ElementValue"}]},{"element":"c","type":"ElementValue"}]},{"element":"d","type":"ElementValue"}]},{"element":"e","type":"ElementValue"}]},{"element":"f","type":"ElementValue"}]},{"element":"g","type":"ElementValue"}]},{"element":"h","type":"ElementValue"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["F"],"type":"QualifiedName"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["G"],"type":"QualifiedName"}],"type":"Expression"}]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["H"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"h","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"H","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"a",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"b",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"c",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"d",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},4],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"e",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},5],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"f",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},6],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"g",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},7],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"h",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},8],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"h","type":"ElementValue"},"tsum"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},36],"type":"Expression"}]},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"a","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"b","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"c","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"bb","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"d","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"E","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"e","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["D"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"F","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"f","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["C"],"type":"QualifiedName"},"args":[],"type":"IdentType"},{"ident":{"names":["E"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"G","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["E"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"ee","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"g","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["E"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"H","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"h","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"tsum","expr":{"op":"Plus","type":"BinExp","exp2":{"ident":"h","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"g","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"f","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"e","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"d","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"c","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"b","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"}}}}}}}},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["F"],"type":"QualifiedName"},"args":[],"type":"IdentType"},{"ident":{"names":["G"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"ty":{"ident":{"names":["H"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"h","expr":{"args":[{"exp":{"type":"LiteralInteger","i":1},"ident":"a","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":2},"ident":"b","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":3},"ident":"c","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":4},"ident":"d","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":5},"ident":"e","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":6},"ident":"f","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":7},"ident":"g","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":8},"ident":"h","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"H","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":36},"exp1":{"exp":{"ident":"h","type":"IdentExp"},"ident":"tsum","type":"DotExp"}},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfE!3 () Int\n  12)\n(define-fun const__1 () Int\n  44)\n(define-fun const__2 () Int\n  45)\n(define-fun const__3 () Int\n  36)\n(define-fun instanceOfF!6 () Int\n  15)\n(define-fun instanceOfG!5 () Int\n  14)\n(define-fun instanceOfD!2 () Int\n  11)\n(define-fun instanceOfC!4 () Int\n  13)\n(define-fun instanceOfH!7 () Int\n  16)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!8))\n(define-fun instanceOfB!1 () Int\n  10)\n(define-fun instanceOfA!0 () Int\n  9)\n(define-fun k!8!10 ((x!1 Int)) Any\n  (ite (= x!1 128)\n    (lift-H (mk-H (- 36860) 2616 2455 140 867 9531 6878 141 8221 7886 1594))\n  (ite (= x!1 110) (lift-F (mk-F 117 118 120 121 122 123 124))\n  (ite (= x!1 61) (lift-B (mk-B 94))\n  (ite (= x!1 22) (lift-F (mk-F 70 71 72 73 74 75 76))\n  (ite (= x!1 402) (lift-B (mk-B 409))\n  (ite (= x!1 194)\n    (lift-H (mk-H (- 19046) 1391 6019 200 1573 5981 3960 201 624 7065 7567))\n  (ite (= x!1 365) (lift-B (mk-B 383))\n  (ite (= x!1 355) (lift-G (mk-G 365 366 367 368 369))\n  (ite (= x!1 423) (lift-B (mk-B 434))\n  (ite (= x!1 121)\n    (lift-H (mk-H (- 33767) 2211 1108 143 7578 7065 7629 144 9402 2278 3504))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 17))\n  (ite (= x!1 65) (lift-F (mk-F 87 88 89 90 91 92 93))\n  (ite (= x!1 379)\n    (lift-H (mk-H (- 34298) 6758 2742 381 6890 1493 7361 382 9131 8572 8649))\n  (ite (= x!1 223)\n    (lift-H (mk-H (- 31446) 2131 2578 265 435 1666 9158 266 6812 9642 976))\n  (ite (= x!1 102) (lift-B (mk-B 116))\n  (ite (= x!1 96) (lift-F (mk-F 125 126 127 128 129 130 131))\n  (ite (= x!1 135) (lift-F (mk-F 146 147 148 149 150 151 152))\n  (ite (= x!1 324) (lift-F (mk-F 345 346 347 348 349 350 351))\n  (ite (= x!1 222) (lift-C (mk-C 259 260 261))\n  (ite (= x!1 140) (lift-F (mk-F 166 167 168 169 170 171 172))\n  (ite (= x!1 50) (lift-B (mk-B 98))\n  (ite (= x!1 361) (lift-B (mk-B 385))\n  (ite (= x!1 373) (lift-C (mk-C 386 387 388))\n  (ite (= x!1 313) (lift-G (mk-G 352 353 354 355 356))\n  (ite (= x!1 218) (lift-F (mk-F 238 240 241 242 243 244 246))\n  (ite (= x!1 242) (lift-F (mk-F 287 288 289 290 291 292 293))\n  (ite (= x!1 381) (lift-B (mk-B 393))\n  (ite (= x!1 231) (lift-C (mk-C 262 263 264))\n  (ite (= x!1 389) (lift-C (mk-C 406 407 408))\n  (ite (= x!1 390) (lift-G (mk-G 394 395 396 397 398))\n  (ite (= x!1 169) (lift-C (mk-C 180 181 182))\n  (ite (= x!1 13) (lift-C (mk-C 25 26 27))\n  (ite (= x!1 250) (lift-F (mk-F 294 295 296 297 298 299 300))\n  (ite (= x!1 213) (lift-E (mk-E 218 219 220))\n  (ite (= x!1 55)\n    (lift-H (mk-H (- 15998) 4679 974 95 1888 1653 5904 96 8456 1323 8879))\n  (ite (= x!1 82) (lift-B (mk-B 86))\n  (ite (= x!1 410) (lift-F (mk-F 427 428 429 430 431 432 433))\n  (ite (= x!1 229) (lift-G (mk-G 247 248 249 250 251))\n  (ite (= x!1 15) (lift-F (mk-F 33 34 35 37 38 39 40))\n  (ite (= x!1 206)\n    (lift-H (mk-H (- 29162) 6333 5968 231 7523 3577 5045 232 5529 4457 9270))\n  (ite (= x!1 341)\n    (lift-H (mk-H (- 29049) 4262 3638 378 1062 9047 5079 379 746 5327 112))\n  (ite (= x!1 20) (lift-B (mk-B 77))\n  (ite (= x!1 73) (lift-F (mk-F 99 100 101 102 103 104 105))\n  (ite (= x!1 90) (lift-B (mk-B 139))\n  (ite (= x!1 184)\n    (lift-H (mk-H (- 24173) 1818 3502 197 239 4186 2804 198 8935 3023 334))\n  (ite (= x!1 210) (lift-B (mk-B 234))\n  (ite (= x!1 290) (lift-F (mk-F 305 306 307 308 309 310 311))\n  (ite (= x!1 44) (lift-B (mk-B 57))\n  (ite (= x!1 332) (lift-F (mk-F 370 371 372 373 374 375 376))\n  (ite (= x!1 266) (lift-F (mk-F 279 280 282 283 284 285 286))\n  (ite (= x!1 9) (lift-A (mk-A 18))\n  (ite (= x!1 41) (lift-F (mk-F 58 59 60 61 62 63 64))\n  (ite (= x!1 31) (lift-F (mk-F 79 80 81 82 83 84 85))\n  (ite (= x!1 143)\n    (lift-H (mk-H (- 22067) 1648 2328 153 7176 2331 9263 154 2112 4135 6926))\n  (ite (= x!1 183) (lift-C (mk-C 215 216 217))\n  (ite (= x!1 265) (lift-B (mk-B 278))\n  (ite (= x!1 312) (lift-F (mk-F 338 339 340 341 342 343 344))\n  (ite (= x!1 11) (lift-D (mk-D 20 21))\n  (ite (= x!1 348) (lift-B (mk-B 377))\n  (ite (= x!1 68)\n    (lift-H (mk-H (- 30133) 9725 2275 109 2446 590 840 110 8586 6906 1235))\n  (ite (= x!1 283) (lift-F (mk-F 314 315 316 317 318 319 320))\n  (ite (= x!1 42) (lift-G (mk-G 65 66 67 68 69))\n  (ite (= x!1 141) (lift-F (mk-F 156 157 158 159 160 161 162))\n  (ite (= x!1 154)\n    (lift-H (mk-H (- 33495) 1650 8404 183 4335 7854 5598 184 4770 4096 3212))\n  (ite (= x!1 247) (lift-C (mk-C 301 302 303))\n  (ite (= x!1 109) (lift-F (mk-F 132 133 134 135 136 137 138))\n  (ite (= x!1 416) (lift-F (mk-F 420 421 422 423 424 425 426))\n  (ite (= x!1 378) (lift-B (mk-B 384))\n  (ite (= x!1 14) (lift-G (mk-G 28 29 30 31 32))\n  (ite (= x!1 200) (lift-B (mk-B 221))\n  (ite (= x!1 195) (lift-G (mk-G 210 211 212 213 214))\n  (ite (= x!1 16)\n    (lift-H (mk-H 449 1236 2437 41 (- 28575) 7719 8855 42 1796 8365 2282))\n  (ite (= x!1 159)\n    (lift-H (mk-H (- 38222) 6702 5259 194 5941 2747 7373 195 8869 8003 6672))\n  (ite (= x!1 153) (lift-F (mk-F 186 187 188 189 190 191 192))\n  (ite (= x!1 189) (lift-F (mk-F 203 204 205 206 207 208 209))\n  (ite (= x!1 352) (lift-F (mk-F 358 359 360 361 362 363 364))\n  (ite (= x!1 232) (lift-E (mk-E 235 236 237))\n  (ite (= x!1 149) (lift-C (mk-C 163 164 165))\n  (ite (= x!1 235) (lift-F (mk-F 271 272 273 274 275 276 277))\n  (ite (= x!1 198)\n    (lift-H (mk-H (- 23215) 2772 6811 228 2061 3565 5189 229 119 8746 6048))\n  (ite (= x!1 394) (lift-F (mk-F 413 414 415 416 417 418 419))\n  (ite (= x!1 297)\n    (lift-H (mk-H (- 15280) 3823 1092 312 1768 9244 3823 313 4020 804 9294))\n  (ite (= x!1 12) (lift-E (mk-E 22 23 24))\n  (ite (= x!1 201)\n    (lift-H (mk-H (- 21001) 4165 2235 222 1246 3634 5618 223 5725 2699 4321))\n  (ite (= x!1 368)\n    (lift-H (mk-H (- 28216) 8468 3019 389 3972 8821 820 390 1910 1451 245))\n  (ite (= x!1 228) (lift-F (mk-F 252 253 254 255 256 257 258))\n  (ite (= x!1 382) (lift-F (mk-F 399 400 401 402 403 404 405))\n  (ite (= x!1 37) (lift-B (mk-B 78))\n  (ite (= x!1 10) (lift-B (mk-B 19))\n  (ite (= x!1 54) (lift-C (mk-C 106 107 108))\n  (ite (= x!1 430) (lift-C (mk-C 436 437 438))\n  (ite (= x!1 17) (lift-H (mk-H 1 2 3 44 4 5 6 45 7 8 36))\n  (ite (= x!1 255) (lift-C (mk-C 268 269 270))\n  (ite (= x!1 144) (lift-F (mk-F 173 174 175 176 177 178 179))\n  (ite (= x!1 197) (lift-C (mk-C 225 226 227))\n  (ite (= x!1 274) (lift-F (mk-F 321 322 323 324 325 326 327))\n  (ite (= x!1 397) (lift-E (mk-E 410 411 412))\n  (ite (= x!1 45) (lift-F (mk-F 47 48 49 50 51 52 53))\n  (ite (= x!1 176) (lift-B (mk-B 193))\n  (ite (= x!1 317) (lift-B (mk-B 337))\n  (ite (= x!1 28)\n    (lift-H (mk-H (- 24491) 5853 8098 54 1142 281 535 55 5920 8945 6283))\n  (ite (= x!1 95) (lift-C (mk-C 113 114 115))\n    (lift-F (mk-F 329 330 331 332 333 335 336)))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))\n(define-fun k!9 ((x!1 Int)) Int\n  (ite (= x!1 159) 159\n  (ite (= x!1 265) 265\n  (ite (= x!1 28) 28\n  (ite (= x!1 102) 102\n  (ite (= x!1 121) 121\n  (ite (= x!1 44) 44\n  (ite (= x!1 128) 128\n  (ite (= x!1 183) 183\n  (ite (= x!1 31) 31\n  (ite (= x!1 200) 200\n  (ite (= x!1 255) 255\n  (ite (= x!1 348) 348\n  (ite (= x!1 394) 394\n  (ite (= x!1 82) 82\n  (ite (= x!1 397) 397\n  (ite (= x!1 16) 16\n  (ite (= x!1 61) 61\n  (ite (= x!1 96) 96\n  (ite (= x!1 223) 223\n  (ite (= x!1 312) 312\n  (ite (= x!1 90) 90\n  (ite (= x!1 232) 232\n  (ite (= x!1 274) 274\n  (ite (= x!1 153) 153\n  (ite (= x!1 341) 341\n  (ite (= x!1 10) 10\n  (ite (= x!1 229) 229\n  (ite (= x!1 20) 20\n  (ite (= x!1 247) 247\n  (ite (= x!1 141) 141\n  (ite (= x!1 13) 13\n  (ite (= x!1 194) 194\n  (ite (= x!1 250) 250\n  (ite (= x!1 210) 210\n  (ite (= x!1 65) 65\n  (ite (= x!1 266) 266\n  (ite (= x!1 389) 389\n  (ite (= x!1 213) 213\n  (ite (= x!1 324) 324\n  (ite (= x!1 68) 68\n  (ite (= x!1 14) 14\n  (ite (= x!1 352) 352\n  (ite (= x!1 169) 169\n  (ite (= x!1 45) 45\n  (ite (= x!1 184) 184\n  (ite (= x!1 355) 355\n  (ite (= x!1 135) 135\n  (ite (= x!1 290) 290\n  (ite (= x!1 201) 201\n  (ite (= x!1 73) 73\n  (ite (= x!1 378) 378\n  (ite (= x!1 197) 197\n  (ite (= x!1 0) 0\n  (ite (= x!1 189) 189\n  (ite (= x!1 332) 332\n  (ite (= x!1 313) 313\n  (ite (= x!1 50) 50\n  (ite (= x!1 381) 381\n  (ite (= x!1 402) 402\n  (ite (= x!1 17) 17\n  (ite (= x!1 154) 154\n  (ite (= x!1 54) 54\n  (ite (= x!1 143) 143\n  (ite (= x!1 109) 109\n  (ite (= x!1 242) 242\n  (ite (= x!1 41) 41\n  (ite (= x!1 195) 195\n  (ite (= x!1 206) 206\n  (ite (= x!1 373) 373\n  (ite (= x!1 361) 361\n  (ite (= x!1 15) 15\n  (ite (= x!1 365) 365\n  (ite (= x!1 149) 149\n  (ite (= x!1 308) 308\n  (ite (= x!1 317) 317\n  (ite (= x!1 390) 390\n  (ite (= x!1 430) 430\n  (ite (= x!1 368) 368\n  (ite (= x!1 410) 410\n  (ite (= x!1 37) 37\n  (ite (= x!1 22) 22\n  (ite (= x!1 95) 95\n  (ite (= x!1 222) 222\n  (ite (= x!1 379) 379\n  (ite (= x!1 235) 235\n  (ite (= x!1 11) 11\n  (ite (= x!1 231) 231\n  (ite (= x!1 198) 198\n  (ite (= x!1 416) 416\n  (ite (= x!1 176) 176\n  (ite (= x!1 228) 228\n  (ite (= x!1 297) 297\n  (ite (= x!1 140) 140\n  (ite (= x!1 9) 9\n  (ite (= x!1 12) 12\n  (ite (= x!1 382) 382\n  (ite (= x!1 283) 283\n  (ite (= x!1 423) 423\n  (ite (= x!1 55) 55\n  (ite (= x!1 144) 144\n  (ite (= x!1 110) 110\n  (ite (= x!1 218) 218\n    42)))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))\n(define-fun k!8 ((x!1 Int)) Any\n  (k!8!10 (k!9 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (h Ref)))))\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (b Int)))))\n(declare-datatypes () ((D (mk-D (bb Ref)(d Int)))))\n(declare-datatypes () ((E (mk-E (bb Ref)(d Int)(e Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)))))\n(declare-datatypes () ((G (mk-G (bb Ref)(d Int)(e Int)(ee Ref)(g Int)))))\n(declare-datatypes () ((F (mk-F (a Int)(b Int)(c Int)(bb Ref)(d Int)(e Int)(f Int)))))\n(declare-datatypes () ((H (mk-H (a Int)(b Int)(c Int)(bb Ref)(d Int)(e Int)(f Int)(ee Ref)(g Int)(h Int)(tsum Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-D (sel-D D))\n  (lift-E (sel-E E))\n  (lift-C (sel-C C))\n  (lift-G (sel-G G))\n  (lift-F (sel-F F))\n  (lift-H (sel-H H))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-E ((this Ref)) Bool\n  (is-lift-E (deref this))\n)\n\n(define-fun deref-E ((this Ref)) E\n  (sel-E (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-G ((this Ref)) Bool\n  (is-lift-G (deref this))\n)\n\n(define-fun deref-G ((this Ref)) G\n  (sel-G (deref this))\n)\n\n(define-fun deref-is-F ((this Ref)) Bool\n  (is-lift-F (deref this))\n)\n\n(define-fun deref-F ((this Ref)) F\n  (sel-F (deref this))\n)\n\n(define-fun deref-is-H ((this Ref)) Bool\n  (is-lift-H (deref this))\n)\n\n(define-fun deref-H ((this Ref)) H\n  (sel-H (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-C this)\n    (deref-is-F this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-F this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (or\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-E ((this Ref)) Bool\n  (or\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-F this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-G ((this Ref)) Bool\n  (or\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-F ((this Ref)) Bool\n  (or\n    (deref-is-F this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-H ((this Ref)) Bool\n  (deref-is-H this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.h: ---\n\n(define-fun TopLevelDeclarations!h ((this Ref)) Ref\n  (h (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.b: ---\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.bb: ---\n\n(define-fun D!bb ((this Ref)) Ref\n  (bb (deref-D this))\n)\n\n; --- getters for D.d: ---\n\n(define-fun D.d ((this Ref)) Int\n  (ite (deref-is-D this) (d (deref-D this))\n  (ite (deref-is-E this) (d (deref-E this))\n  (ite (deref-is-F this) (d (deref-F this))\n  (ite (deref-is-G this) (d (deref-G this))\n  (d (deref-H this))))))\n)\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; ------------------------\n;   Getters for class E:\n; ------------------------\n\n; --- getters for E.bb: ---\n\n(define-fun E!bb ((this Ref)) Ref\n  (bb (deref-E this))\n)\n\n; --- getters for E.d: ---\n\n(define-fun E!d ((this Ref)) Int\n  (d (deref-E this))\n)\n\n; --- getters for E.e: ---\n\n(define-fun E!e ((this Ref)) Int\n  (e (deref-E this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C.a ((this Ref)) Int\n  (ite (deref-is-C this) (a (deref-C this))\n  (ite (deref-is-F this) (a (deref-F this))\n  (a (deref-H this))))\n)\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.b: ---\n\n(define-fun C.b ((this Ref)) Int\n  (ite (deref-is-C this) (b (deref-C this))\n  (ite (deref-is-F this) (b (deref-F this))\n  (b (deref-H this))))\n)\n\n(define-fun C!b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (ite (deref-is-C this) (c (deref-C this))\n  (ite (deref-is-F this) (c (deref-F this))\n  (c (deref-H this))))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ------------------------\n;   Getters for class G:\n; ------------------------\n\n; --- getters for G.bb: ---\n\n(define-fun G!bb ((this Ref)) Ref\n  (bb (deref-G this))\n)\n\n; --- getters for G.d: ---\n\n(define-fun G!d ((this Ref)) Int\n  (d (deref-G this))\n)\n\n; --- getters for G.e: ---\n\n(define-fun G!e ((this Ref)) Int\n  (e (deref-G this))\n)\n\n; --- getters for G.ee: ---\n\n(define-fun G!ee ((this Ref)) Ref\n  (ee (deref-G this))\n)\n\n; --- getters for G.g: ---\n\n(define-fun G!g ((this Ref)) Int\n  (g (deref-G this))\n)\n\n; ------------------------\n;   Getters for class F:\n; ------------------------\n\n; --- getters for F.a: ---\n\n(define-fun F!a ((this Ref)) Int\n  (a (deref-F this))\n)\n\n; --- getters for F.b: ---\n\n(define-fun F!b ((this Ref)) Int\n  (b (deref-F this))\n)\n\n; --- getters for F.c: ---\n\n(define-fun F!c ((this Ref)) Int\n  (c (deref-F this))\n)\n\n; --- getters for F.bb: ---\n\n(define-fun F!bb ((this Ref)) Ref\n  (bb (deref-F this))\n)\n\n; --- getters for F.d: ---\n\n(define-fun F!d ((this Ref)) Int\n  (d (deref-F this))\n)\n\n; --- getters for F.e: ---\n\n(define-fun F!e ((this Ref)) Int\n  (e (deref-F this))\n)\n\n; --- getters for F.f: ---\n\n(define-fun F!f ((this Ref)) Int\n  (f (deref-F this))\n)\n\n; ------------------------\n;   Getters for class H:\n; ------------------------\n\n; --- getters for H.a: ---\n\n(define-fun H.a ((this Ref)) Int\n  (a (deref-H this))\n)\n\n(define-fun H!a ((this Ref)) Int\n  (a (deref-H this))\n)\n\n; --- getters for H.b: ---\n\n(define-fun H.b ((this Ref)) Int\n  (b (deref-H this))\n)\n\n(define-fun H!b ((this Ref)) Int\n  (b (deref-H this))\n)\n\n; --- getters for H.c: ---\n\n(define-fun H.c ((this Ref)) Int\n  (c (deref-H this))\n)\n\n(define-fun H!c ((this Ref)) Int\n  (c (deref-H this))\n)\n\n; --- getters for H.bb: ---\n\n(define-fun H!bb ((this Ref)) Ref\n  (bb (deref-H this))\n)\n\n; --- getters for H.d: ---\n\n(define-fun H.d ((this Ref)) Int\n  (d (deref-H this))\n)\n\n(define-fun H!d ((this Ref)) Int\n  (d (deref-H this))\n)\n\n; --- getters for H.e: ---\n\n(define-fun H.e ((this Ref)) Int\n  (e (deref-H this))\n)\n\n(define-fun H!e ((this Ref)) Int\n  (e (deref-H this))\n)\n\n; --- getters for H.f: ---\n\n(define-fun H.f ((this Ref)) Int\n  (f (deref-H this))\n)\n\n(define-fun H!f ((this Ref)) Int\n  (f (deref-H this))\n)\n\n; --- getters for H.ee: ---\n\n(define-fun H!ee ((this Ref)) Ref\n  (ee (deref-H this))\n)\n\n; --- getters for H.g: ---\n\n(define-fun H.g ((this Ref)) Int\n  (g (deref-H this))\n)\n\n(define-fun H!g ((this Ref)) Int\n  (g (deref-H this))\n)\n\n; --- getters for H.h: ---\n\n(define-fun H!h ((this Ref)) Int\n  (h (deref-H this))\n)\n\n; --- getters for H.tsum: ---\n\n(define-fun H.tsum ((this Ref)) Int\n  (tsum (deref-H this))\n)\n\n(define-fun H!tsum ((this Ref)) Int\n  (tsum (deref-H this))\n)\n\n; ========================================\n; === Constructor parameter constants: ===\n; ========================================\n\n(declare-const const__1 Ref)\n(declare-const const__2 Ref)\n(declare-const const__3 Int)\n\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!h this)) (lift-H (mk-H 1 2 3 const__1 4 5 6 const__2 7 8 const__3)))\n    (deref-isa-H (TopLevelDeclarations!h this))\n    (= (H.tsum (TopLevelDeclarations!h this) ) 36)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (D!bb this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; --------------------------\n;   Invariant for class E:\n; --------------------------\n\n(define-fun E.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (E!bb this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-E this) (E.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class G:\n; --------------------------\n\n(define-fun G.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (G!bb this))\n    (deref-isa-E (G!ee this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-G this) (G.inv this))\n))\n\n; --------------------------\n;   Invariant for class F:\n; --------------------------\n\n(define-fun F.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (F!bb this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-F this) (F.inv this))\n))\n\n; --------------------------\n;   Invariant for class H:\n; --------------------------\n\n(define-fun H.inv ((this Ref)) Bool\n  (and\n    (= (H!tsum this) (+ (+ (+ (+ (+ (+ (+ (H!a this)  (H!b this) ) (H!c this) ) (H!d this) ) (H!e this) ) (H!f this) ) (H!g this) ) (H!h this) ))\n    (deref-isa-B (H!bb this))\n    (deref-isa-E (H!ee this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-H this) (H.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (exists ((instanceOfE Ref)) (deref-is-E instanceOfE)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfG Ref)) (deref-is-G instanceOfG)))\n(assert (exists ((instanceOfF Ref)) (deref-is-F instanceOfF)))\n(assert (exists ((instanceOfH Ref)) (deref-is-H instanceOfH)))\n\n"},"inheritance1.k":{"typeChecks":true,"model":"\nclass A {\n  x:Int = 1\n}\n\nclass B extending A {\n  y:Int = 2\n}\n\nclass D extending C {\n  i:Int = 3\n}\n\nclass C extending B {\n  z:Int = 4\n}\n\ndobj:D\n\nsum:Int = dobj.x + dobj.y + dobj.z + dobj.i\n\n","name":"inheritance1.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"x","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"y","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"i","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["C"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"z","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},4],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"}]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["D"],"type":"QualifiedName"}],"type":"Expression"},"name":"dobj","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"sum","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"dobj","type":"ElementValue"},"x"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"dobj","type":"ElementValue"},"y"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"dobj","type":"ElementValue"},"z"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"dobj","type":"ElementValue"},"i"]}]},"modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"x","expr":{"type":"LiteralInteger","i":1},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"y","expr":{"type":"LiteralInteger","i":2},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"i","expr":{"type":"LiteralInteger","i":3},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["C"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"z","expr":{"type":"LiteralInteger","i":4},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"ty":{"ident":{"names":["D"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"dobj","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"sum","expr":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"dobj","type":"IdentExp"},"ident":"i","type":"DotExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"dobj","type":"IdentExp"},"ident":"z","type":"DotExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"dobj","type":"IdentExp"},"ident":"y","type":"DotExp"},"exp1":{"exp":{"ident":"dobj","type":"IdentExp"},"ident":"x","type":"DotExp"}}}},"modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfD!3 () Int\n  8)\n(define-fun instanceOfC!2 () Int\n  7)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!4))\n(define-fun instanceOfB!1 () Int\n  6)\n(define-fun instanceOfA!0 () Int\n  5)\n(define-fun k!5 ((x!1 Int)) Int\n  (ite (= x!1 9) 9\n  (ite (= x!1 8) 8\n  (ite (= x!1 7) 7\n  (ite (= x!1 0) 0\n  (ite (= x!1 5) 5\n    6))))))\n(define-fun k!4!6 ((x!1 Int)) Any\n  (ite (= x!1 7) (lift-C (mk-C 1 2 4))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 9 10))\n  (ite (= x!1 5) (lift-A (mk-A 1))\n  (ite (= x!1 6) (lift-B (mk-B 1 2))\n    (lift-D (mk-D 1 2 4 3)))))))\n(define-fun k!4 ((x!1 Int)) Any\n  (k!4!6 (k!5 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (dobj Ref)(sum Int)))))\n(declare-datatypes () ((A (mk-A (x Int)))))\n(declare-datatypes () ((B (mk-B (x Int)(y Int)))))\n(declare-datatypes () ((C (mk-C (x Int)(y Int)(z Int)))))\n(declare-datatypes () ((D (mk-D (x Int)(y Int)(z Int)(i Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (deref-is-D this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.dobj: ---\n\n(define-fun TopLevelDeclarations!dobj ((this Ref)) Ref\n  (dobj (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.sum: ---\n\n(define-fun TopLevelDeclarations!sum ((this Ref)) Int\n  (sum (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.y: ---\n\n(define-fun B!y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.x: ---\n\n(define-fun C!x ((this Ref)) Int\n  (x (deref-C this))\n)\n\n; --- getters for C.y: ---\n\n(define-fun C!y ((this Ref)) Int\n  (y (deref-C this))\n)\n\n; --- getters for C.z: ---\n\n(define-fun C!z ((this Ref)) Int\n  (z (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.x: ---\n\n(define-fun D.x ((this Ref)) Int\n  (x (deref-D this))\n)\n\n(define-fun D!x ((this Ref)) Int\n  (x (deref-D this))\n)\n\n; --- getters for D.y: ---\n\n(define-fun D.y ((this Ref)) Int\n  (y (deref-D this))\n)\n\n(define-fun D!y ((this Ref)) Int\n  (y (deref-D this))\n)\n\n; --- getters for D.z: ---\n\n(define-fun D.z ((this Ref)) Int\n  (z (deref-D this))\n)\n\n(define-fun D!z ((this Ref)) Int\n  (z (deref-D this))\n)\n\n; --- getters for D.i: ---\n\n(define-fun D.i ((this Ref)) Int\n  (i (deref-D this))\n)\n\n(define-fun D!i ((this Ref)) Int\n  (i (deref-D this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!sum this) (+ (+ (+ (D.x (TopLevelDeclarations!dobj this) ) (D.y (TopLevelDeclarations!dobj this) )) (D.z (TopLevelDeclarations!dobj this) )) (D.i (TopLevelDeclarations!dobj this) )))\n    (deref-isa-D (TopLevelDeclarations!dobj this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!x this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!x this) 1)\n    (= (B!y this) 2)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (C!x this) 1)\n    (= (C!y this) 2)\n    (= (C!z this) 4)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (= (D!x this) 1)\n    (= (D!y this) 2)\n    (= (D!z this) 4)\n    (= (D!i this) 3)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n\n"},"testsmt13.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int\n}\n\nclass B extending A {\n  b:Int\n}\n\nclass C extending B {\n  c:Int\n}\n\nclass D {\n  d:Int\n}\n\na:A = C(a :: 1,b :: 2,c :: 3)\n\nreq a is A\n\nreq a is B\n\nreq a is C\n\n","name":"testsmt13.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"b","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"c","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"d","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"assignment":false,"name":"a","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"C","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"a",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"b",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"NamedArgument"},"c",{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"operand":[{"element":"ElementValue","type":"TypeCastCheckExp"},"false",{"element":"a","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}],"type":"Expression"},"type":"ConstraintDecl"},{"exp":{"operand":[{"element":"ElementValue","type":"TypeCastCheckExp"},"false",{"element":"a","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"}],"type":"Expression"},"type":"ConstraintDecl"},{"exp":{"operand":[{"element":"ElementValue","type":"TypeCastCheckExp"},"false",{"element":"a","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["C"],"type":"QualifiedName"}],"type":"Expression"}],"type":"Expression"},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"a","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"b","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"c","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"d","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"assignment":false,"name":"a","expr":{"args":[{"exp":{"type":"LiteralInteger","i":1},"ident":"a","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":2},"ident":"b","type":"NamedArgument"},{"exp":{"type":"LiteralInteger","i":3},"ident":"c","type":"NamedArgument"}],"type":"FunApplExp","exp1":{"ident":"C","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"exp":{"ident":"a","type":"IdentExp"},"cast":"false","type":"TypeCastCheckExp"},"type":"ConstraintDecl"},{"exp":{"ty":{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"exp":{"ident":"a","type":"IdentExp"},"cast":"false","type":"TypeCastCheckExp"},"type":"ConstraintDecl"},{"exp":{"ty":{"ident":{"names":["C"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"exp":{"ident":"a","type":"IdentExp"},"cast":"false","type":"TypeCastCheckExp"},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfD!3 () Int\n  7)\n(define-fun instanceOfC!2 () Int\n  6)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!4))\n(define-fun instanceOfB!1 () Int\n  5)\n(define-fun instanceOfA!0 () Int\n  4)\n(define-fun k!5 ((x!1 Int)) Int\n  (ite (= x!1 7) 7\n  (ite (= x!1 6) 6\n  (ite (= x!1 8) 8\n  (ite (= x!1 0) 0\n  (ite (= x!1 4) 4\n    5))))))\n(define-fun k!4!6 ((x!1 Int)) Any\n  (ite (= x!1 6) (lift-C (mk-C 12 13 14))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 8))\n  (ite (= x!1 4) (lift-A (mk-A 9))\n  (ite (= x!1 5) (lift-B (mk-B 10 11))\n  (ite (= x!1 7) (lift-D (mk-D 15))\n    (lift-C (mk-C 1 2 3))))))))\n(define-fun k!4 ((x!1 Int)) Any\n  (k!4!6 (k!5 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (a Ref)))))\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)))))\n(declare-datatypes () ((D (mk-D (d Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (deref-is-D this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.a: ---\n\n(define-fun TopLevelDeclarations!a ((this Ref)) Ref\n  (a (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (ite (deref-is-A this) (a (deref-A this))\n  (ite (deref-is-B this) (a (deref-B this))\n  (a (deref-C this))))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B.a ((this Ref)) Int\n  (ite (deref-is-B this) (a (deref-B this))\n  (a (deref-C this)))\n)\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B.b ((this Ref)) Int\n  (ite (deref-is-B this) (b (deref-B this))\n  (b (deref-C this)))\n)\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C.a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.b: ---\n\n(define-fun C.b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n(define-fun C!b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.d: ---\n\n(define-fun D.d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!a this)) (lift-C (mk-C 1 2 3)))\n    (deref-isa-A (TopLevelDeclarations!a this))\n    (deref-isa-A (TopLevelDeclarations!a this) )\n    (deref-isa-B (TopLevelDeclarations!a this) )\n    (deref-isa-C (TopLevelDeclarations!a this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n\n"},"tc4.k":{"typeChecks":true,"model":"\nclass A {\n\n  fun foo(x:Int) : Int\n\n}\n\nclass B extending A {\n\n  fun foo(x:Int) : Int\n  {\n    x + 2\n  }\n}\n\n","name":"tc4.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[],"ident":"foo","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}]},"type":"ExpressionDecl"}],"ident":"foo","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"spec":[],"ty":{"type":"IntType"},"body":[],"ident":"foo","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":2},"exp1":{"ident":"x","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"foo","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n;; universe for A:\n;;   A!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun A!val!0 () A)\n;; cardinality constraint:\n(forall ((x A)) (= x A!val!0))\n;; -----------\n;; universe for B:\n;;   B!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun B!val!0 () B)\n;; cardinality constraint:\n(forall ((x B)) (= x B!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun instanceOfB!1 () Int\n  2)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!2 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 1) (lift-A A!val!0)\n  (ite (= x!1 2) (lift-B B!val!0)\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0)))))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-sort A) (declare-const mk-A A)\n(declare-sort B) (declare-const mk-B B)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(declare-fun A.foo (Ref Int) Int)\n\n(define-fun A!foo ((this Ref)(x Int)) Int\n  (A.foo this x)\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.foo ((this Ref)(x Int)) Int\n  (+ x 2)\n)\n\n(define-fun B!foo ((this Ref)(x Int)) Int\n  (+ x 2)\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n\n"},"is.k":{"typeChecks":true,"model":"\nclass Fruit {\n  mass:Real\n}\n\nclass CitrusFruit extending Fruit {\n  vitC:Real\n}\n\nclass Legume extending Fruit {\n  protein:Real\n}\n\nclass Berry extending Fruit\n\nclass SeedyFruit extending Fruit,CitrusFruit {\n  seeds:Int\n}\n\napple:CitrusFruit\n\npeanut:Legume\n\nreq apple is SeedyFruit\n\n","name":"is.k","json2":{"decls":[{"entityToken":"class","ident":"Fruit","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"RealType"}],"type":"Expression"},"name":"mass","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"CitrusFruit","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"RealType"}],"type":"Expression"},"name":"vitC","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Fruit"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"Legume","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"RealType"}],"type":"Expression"},"name":"protein","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Fruit"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"Berry","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Fruit"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"SeedyFruit","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"seeds","modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Fruit"],"type":"QualifiedName"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["CitrusFruit"],"type":"QualifiedName"}],"type":"Expression"}]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["CitrusFruit"],"type":"QualifiedName"}],"type":"Expression"},"name":"apple","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Legume"],"type":"QualifiedName"}],"type":"Expression"},"name":"peanut","modifiers":[],"type":"PropertyDecl"},{"exp":{"operand":[{"element":"ElementValue","type":"TypeCastCheckExp"},"false",{"element":"apple","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["SeedyFruit"],"type":"QualifiedName"}],"type":"Expression"}],"type":"Expression"},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"Fruit","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"RealType"},"name":"mass","modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"CitrusFruit","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"RealType"},"name":"vitC","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["Fruit"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"Legume","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"RealType"},"name":"protein","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["Fruit"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"Berry","typeparams":[],"annotations":[],"type":"EntityDecl","members":[],"extending":[{"ident":{"names":["Fruit"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"SeedyFruit","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"seeds","modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["Fruit"],"type":"QualifiedName"},"args":[],"type":"IdentType"},{"ident":{"names":["CitrusFruit"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"ty":{"ident":{"names":["CitrusFruit"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"apple","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Legume"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"peanut","modifiers":[],"type":"PropertyDecl"},{"exp":{"ty":{"ident":{"names":["SeedyFruit"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"exp":{"ident":"apple","type":"IdentExp"},"cast":"false","type":"TypeCastCheckExp"},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfSeedyFruit!4 () Int\n  5)\n(define-fun instanceOfCitrusFruit!1 () Int\n  2)\n(define-fun instanceOfLegume!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!5))\n(define-fun instanceOfFruit!0 () Int\n  1)\n(define-fun instanceOfBerry!3 () Int\n  4)\n(define-fun k!6 ((x!1 Int)) Int\n  (ite (= x!1 3) 3\n  (ite (= x!1 1) 1\n  (ite (= x!1 0) 0\n  (ite (= x!1 6) 6\n  (ite (= x!1 4) 4\n  (ite (= x!1 7) 7\n  (ite (= x!1 5) 5\n    2))))))))\n(define-fun k!5!7 ((x!1 Int)) Any\n  (ite (= x!1 5) (lift-SeedyFruit (mk-SeedyFruit 6.0 7.0 8))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 6 7))\n  (ite (= x!1 3) (lift-Legume (mk-Legume 3.0 4.0))\n  (ite (= x!1 4) (lift-Berry (mk-Berry 5.0))\n  (ite (= x!1 1) (lift-Fruit (mk-Fruit 0.0))\n  (ite (= x!1 2) (lift-CitrusFruit (mk-CitrusFruit 1.0 2.0))\n  (ite (= x!1 7) (lift-Legume (mk-Legume 10.0 11.0))\n    (lift-SeedyFruit (mk-SeedyFruit 8.0 9.0 9))))))))))\n(define-fun k!5 ((x!1 Int)) Any\n  (k!5!7 (k!6 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (apple Ref)(peanut Ref)))))\n(declare-datatypes () ((Fruit (mk-Fruit (mass Real)))))\n(declare-datatypes () ((CitrusFruit (mk-CitrusFruit (mass Real)(vitC Real)))))\n(declare-datatypes () ((Legume (mk-Legume (mass Real)(protein Real)))))\n(declare-datatypes () ((Berry (mk-Berry (mass Real)))))\n(declare-datatypes () ((SeedyFruit (mk-SeedyFruit (mass Real)(vitC Real)(seeds Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-Fruit (sel-Fruit Fruit))\n  (lift-CitrusFruit (sel-CitrusFruit CitrusFruit))\n  (lift-Legume (sel-Legume Legume))\n  (lift-Berry (sel-Berry Berry))\n  (lift-SeedyFruit (sel-SeedyFruit SeedyFruit))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-Fruit ((this Ref)) Bool\n  (is-lift-Fruit (deref this))\n)\n\n(define-fun deref-Fruit ((this Ref)) Fruit\n  (sel-Fruit (deref this))\n)\n\n(define-fun deref-is-CitrusFruit ((this Ref)) Bool\n  (is-lift-CitrusFruit (deref this))\n)\n\n(define-fun deref-CitrusFruit ((this Ref)) CitrusFruit\n  (sel-CitrusFruit (deref this))\n)\n\n(define-fun deref-is-Legume ((this Ref)) Bool\n  (is-lift-Legume (deref this))\n)\n\n(define-fun deref-Legume ((this Ref)) Legume\n  (sel-Legume (deref this))\n)\n\n(define-fun deref-is-Berry ((this Ref)) Bool\n  (is-lift-Berry (deref this))\n)\n\n(define-fun deref-Berry ((this Ref)) Berry\n  (sel-Berry (deref this))\n)\n\n(define-fun deref-is-SeedyFruit ((this Ref)) Bool\n  (is-lift-SeedyFruit (deref this))\n)\n\n(define-fun deref-SeedyFruit ((this Ref)) SeedyFruit\n  (sel-SeedyFruit (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-Fruit ((this Ref)) Bool\n  (or\n    (deref-is-Fruit this)\n    (deref-is-CitrusFruit this)\n    (deref-is-Legume this)\n    (deref-is-Berry this)\n    (deref-is-SeedyFruit this)\n  )\n)\n\n(define-fun deref-isa-CitrusFruit ((this Ref)) Bool\n  (or\n    (deref-is-CitrusFruit this)\n    (deref-is-SeedyFruit this)\n  )\n)\n\n(define-fun deref-isa-Legume ((this Ref)) Bool\n  (deref-is-Legume this)\n)\n\n(define-fun deref-isa-Berry ((this Ref)) Bool\n  (deref-is-Berry this)\n)\n\n(define-fun deref-isa-SeedyFruit ((this Ref)) Bool\n  (deref-is-SeedyFruit this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.apple: ---\n\n(define-fun TopLevelDeclarations!apple ((this Ref)) Ref\n  (apple (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.peanut: ---\n\n(define-fun TopLevelDeclarations!peanut ((this Ref)) Ref\n  (peanut (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-CitrusFruit (TopLevelDeclarations!apple this))\n    (deref-isa-Legume (TopLevelDeclarations!peanut this))\n    (deref-isa-SeedyFruit (TopLevelDeclarations!apple this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; ------------------------------\n;   Invariant for class Fruit:\n; ------------------------------\n\n(define-fun Fruit.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Fruit this) (Fruit.inv this))\n))\n\n; ------------------------------------\n;   Invariant for class CitrusFruit:\n; ------------------------------------\n\n(define-fun CitrusFruit.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-CitrusFruit this) (CitrusFruit.inv this))\n))\n\n; -------------------------------\n;   Invariant for class Legume:\n; -------------------------------\n\n(define-fun Legume.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Legume this) (Legume.inv this))\n))\n\n; ------------------------------\n;   Invariant for class Berry:\n; ------------------------------\n\n(define-fun Berry.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Berry this) (Berry.inv this))\n))\n\n; -----------------------------------\n;   Invariant for class SeedyFruit:\n; -----------------------------------\n\n(define-fun SeedyFruit.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-SeedyFruit this) (SeedyFruit.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfFruit Ref)) (deref-is-Fruit instanceOfFruit)))\n(assert (exists ((instanceOfCitrusFruit Ref)) (deref-is-CitrusFruit instanceOfCitrusFruit)))\n(assert (exists ((instanceOfLegume Ref)) (deref-is-Legume instanceOfLegume)))\n(assert (exists ((instanceOfBerry Ref)) (deref-is-Berry instanceOfBerry)))\n(assert (exists ((instanceOfSeedyFruit Ref)) (deref-is-SeedyFruit instanceOfSeedyFruit)))\n\n"},"tc1.k":{"typeChecks":false,"model":"","name":"tc1.k","json2":"","json1":"","smtModel":"","smt":""},"inheritance3.k":{"typeChecks":true,"model":"\nclass A {\n  x:Int = 2\n\n  fun get : Int\n  {\n    x\n  }\n}\n\nclass B extending A {\n  y:Int = 5\n\n  fun sum(k:Int) : Int\n  {\n    get() + y + k\n  }\n}\n\nbobj:B\n\ntheSum:Int = bobj.sum(bobj.get())\n\nreq theSum = 9\n\n","name":"inheritance3.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"x","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"element":"x","type":"ElementValue"},"type":"ExpressionDecl"}],"ident":"get","typeParams":[],"params":[],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"y","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},5],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"get","type":"ElementValue"}]},{"element":"y","type":"ElementValue"}]},{"element":"k","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"sum","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"k","type":"Param"}],"type":"FunDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"},"name":"bobj","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"theSum","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"bobj","type":"ElementValue"},"sum"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"bobj","type":"ElementValue"},"get"]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"theSum","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},9],"type":"Expression"}]},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"x","expr":{"type":"LiteralInteger","i":2},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"ident":"x","type":"IdentExp"},"type":"ExpressionDecl"}],"ident":"get","typeParams":[],"params":[],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"y","expr":{"type":"LiteralInteger","i":5},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"y","type":"IdentExp"},"exp1":{"args":[],"type":"FunApplExp","exp1":{"ident":"get","type":"IdentExp"}}}},"type":"ExpressionDecl"}],"ident":"sum","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"type":"FunDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"ty":{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"bobj","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"theSum","expr":{"args":[{"exp":{"args":[],"type":"FunApplExp","exp1":{"exp":{"ident":"bobj","type":"IdentExp"},"ident":"get","type":"DotExp"}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"ident":"bobj","type":"IdentExp"},"ident":"sum","type":"DotExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":9},"exp1":{"ident":"theSum","type":"IdentExp"}},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun instanceOfB!1 () Int\n  3)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 4) 4\n  (ite (= x!1 0) 0\n  (ite (= x!1 1) 1\n    3))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 4 9))\n  (ite (= x!1 1) (lift-A (mk-A 2))\n    (lift-B (mk-B 2 5)))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (bobj Ref)(theSum Int)))))\n(declare-datatypes () ((A (mk-A (x Int)))))\n(declare-datatypes () ((B (mk-B (x Int)(y Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.bobj: ---\n\n(define-fun TopLevelDeclarations!bobj ((this Ref)) Ref\n  (bobj (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.theSum: ---\n\n(define-fun TopLevelDeclarations!theSum ((this Ref)) Int\n  (theSum (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (ite (deref-is-A this) (x (deref-A this))\n  (x (deref-B this)))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B.x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.y: ---\n\n(define-fun B.y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n(define-fun B!y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.get ((this Ref)) Int\n  (A.x this) \n)\n\n(define-fun A!get ((this Ref)) Int\n  (A!x this) \n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.get ((this Ref)) Int\n  (B.x this) \n)\n\n(define-fun B!get ((this Ref)) Int\n  (B!x this) \n)\n\n(define-fun B.sum ((this Ref)(k Int)) Int\n  (+ (+ (B.get this ) (B.y this) ) k)\n)\n\n(define-fun B!sum ((this Ref)(k Int)) Int\n  (+ (+ (B!get this ) (B!y this) ) k)\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!theSum this) (B.sum (TopLevelDeclarations!bobj this)  (B.get (TopLevelDeclarations!bobj this)  )))\n    (deref-isa-B (TopLevelDeclarations!bobj this))\n    (= (TopLevelDeclarations!theSum this)  9)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!x this) 2)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!x this) 2)\n    (= (B!y this) 5)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n\n"},"inheritance6.k":{"typeChecks":true,"model":"\nclass Person {\n  father:Person\n  child:Person\n\n  req father.child = this\n}\n\np1:Person\n\np2:Person\n\nreq p1 != p2\n\nreq p2.father = p1\n\nreq p1.child = p2\n\nreq p1.father = p2\n\nreq p2.child = p1\n\n","name":"inheritance6.k","json2":{"decls":[{"entityToken":"class","ident":"Person","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Person"],"type":"QualifiedName"}],"type":"Expression"},"name":"father","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Person"],"type":"QualifiedName"}],"type":"Expression"},"name":"child","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"father","type":"ElementValue"},"child"]},{"operand":[{"element":"ElementValue","type":"ThisLiteral"}],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Person"],"type":"QualifiedName"}],"type":"Expression"},"name":"p1","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Person"],"type":"QualifiedName"}],"type":"Expression"},"name":"p2","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"NotEQ",{"element":"p1","type":"ElementValue"},{"element":"p2","type":"ElementValue"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"p2","type":"ElementValue"},"father"]},{"element":"p1","type":"ElementValue"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"p1","type":"ElementValue"},"child"]},{"element":"p2","type":"ElementValue"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"p1","type":"ElementValue"},"father"]},{"element":"p2","type":"ElementValue"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"p2","type":"ElementValue"},"child"]},{"element":"p1","type":"ElementValue"}]},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"Person","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["Person"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"father","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Person"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"child","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"ThisLiteral"},"exp1":{"exp":{"ident":"father","type":"IdentExp"},"ident":"child","type":"DotExp"}},"type":"ConstraintDecl"}],"extending":[]},{"ty":{"ident":{"names":["Person"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"p1","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Person"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"p2","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"NotEQ","type":"BinExp","exp2":{"ident":"p2","type":"IdentExp"},"exp1":{"ident":"p1","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"ident":"p1","type":"IdentExp"},"exp1":{"exp":{"ident":"p2","type":"IdentExp"},"ident":"father","type":"DotExp"}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"ident":"p2","type":"IdentExp"},"exp1":{"exp":{"ident":"p1","type":"IdentExp"},"ident":"child","type":"DotExp"}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"ident":"p2","type":"IdentExp"},"exp1":{"exp":{"ident":"p1","type":"IdentExp"},"ident":"father","type":"DotExp"}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"ident":"p1","type":"IdentExp"},"exp1":{"exp":{"ident":"p2","type":"IdentExp"},"ident":"child","type":"DotExp"}},"type":"ConstraintDecl"}],"annotations":[],"type":"Model","imports":[]},"smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (p1 Ref)(p2 Ref)))))\n(declare-datatypes () ((Person (mk-Person (father Ref)(child Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-Person (sel-Person Person))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-Person ((this Ref)) Bool\n  (is-lift-Person (deref this))\n)\n\n(define-fun deref-Person ((this Ref)) Person\n  (sel-Person (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-Person ((this Ref)) Bool\n  (deref-is-Person this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.p1: ---\n\n(define-fun TopLevelDeclarations!p1 ((this Ref)) Ref\n  (p1 (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.p2: ---\n\n(define-fun TopLevelDeclarations!p2 ((this Ref)) Ref\n  (p2 (deref-TopLevelDeclarations this))\n)\n\n; -----------------------------\n;   Getters for class Person:\n; -----------------------------\n\n; --- getters for Person.father: ---\n\n(define-fun Person.father ((this Ref)) Ref\n  (father (deref-Person this))\n)\n\n(define-fun Person!father ((this Ref)) Ref\n  (father (deref-Person this))\n)\n\n; --- getters for Person.child: ---\n\n(define-fun Person.child ((this Ref)) Ref\n  (child (deref-Person this))\n)\n\n(define-fun Person!child ((this Ref)) Ref\n  (child (deref-Person this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Person (TopLevelDeclarations!p1 this))\n    (deref-isa-Person (TopLevelDeclarations!p2 this))\n    (not (= (TopLevelDeclarations!p1 this)  (TopLevelDeclarations!p2 this) ))\n    (= (Person.father (TopLevelDeclarations!p2 this) ) (TopLevelDeclarations!p1 this) )\n    (= (Person.child (TopLevelDeclarations!p1 this) ) (TopLevelDeclarations!p2 this) )\n    (= (Person.father (TopLevelDeclarations!p1 this) ) (TopLevelDeclarations!p2 this) )\n    (= (Person.child (TopLevelDeclarations!p2 this) ) (TopLevelDeclarations!p1 this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; -------------------------------\n;   Invariant for class Person:\n; -------------------------------\n\n(define-fun Person.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Person (Person!father this))\n    (deref-isa-Person (Person!child this))\n    (= (Person.child (Person!father this) ) this)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Person this) (Person.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfPerson Ref)) (deref-is-Person instanceOfPerson)))\n\n"},"testsmt11.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int = 1\n\n  fun f(x:Int) : Int * Int\n  {\n    Tuple(a,x)\n  }\n\n  fun g(x:Int) : Int\n  {\n    k:Int * Int = f(x)\n    k # 1 + k # 2\n  }\n}\n\nclass B extending A {\n  b:Int = 2\n\n  fun h(tuple:Int * Int) : Int\n  {\n    k1:Int = tuple # 1\n    k2:Int = tuple # 2\n    g(k1 + k2)\n  }\n  r:Int = h(Tuple(10,20))\n\n  req r = 31\n}\n\n","name":"testsmt11.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"a","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"CartesianType"},{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"TupleExp"},{"element":"a","type":"ElementValue"},{"element":"x","type":"ElementValue"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"ty":{"operand":[{"element":"ElementValue","type":"CartesianType"},{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"}],"type":"Expression"},"assignment":false,"name":"k","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"f","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"x","type":"ElementValue"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"TupleIndex",{"element":"k","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"TupleIndex",{"element":"k","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}]}]},"type":"ExpressionDecl"}],"ident":"g","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"b","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k1","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"TupleIndex",{"element":"tuple","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k2","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"TupleIndex",{"element":"tuple","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"g","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"k1","type":"ElementValue"},{"element":"k2","type":"ElementValue"}]}],"type":"Expression"}]},"type":"ExpressionDecl"}],"ident":"h","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"CartesianType"},{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"}],"type":"Expression"},"name":"tuple","type":"Param"}],"type":"FunDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"r","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"h","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"operand":[{"element":"ElementValue","type":"TupleExp"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},20],"type":"Expression"}],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"r","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},31],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"type":"LiteralInteger","i":1},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"CartesianType","types":[{"type":"IntType"},{"type":"IntType"}]},"body":[{"exp":{"exps":[{"ident":"a","type":"IdentExp"},{"ident":"x","type":"IdentExp"}],"type":"TupleExp"},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"ty":{"type":"CartesianType","types":[{"type":"IntType"},{"type":"IntType"}]},"assignment":false,"name":"k","expr":{"args":[{"exp":{"ident":"x","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"f","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"Plus","type":"BinExp","exp2":{"op":"TupleIndex","type":"BinExp","exp2":{"type":"LiteralInteger","i":2},"exp1":{"ident":"k","type":"IdentExp"}},"exp1":{"op":"TupleIndex","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"k","type":"IdentExp"}}},"type":"ExpressionDecl"}],"ident":"g","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"type":"LiteralInteger","i":2},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k1","expr":{"op":"TupleIndex","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"tuple","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"k2","expr":{"op":"TupleIndex","type":"BinExp","exp2":{"type":"LiteralInteger","i":2},"exp1":{"ident":"tuple","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"args":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"k2","type":"IdentExp"},"exp1":{"ident":"k1","type":"IdentExp"}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"g","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"h","typeParams":[],"params":[{"ty":{"type":"CartesianType","types":[{"type":"IntType"},{"type":"IntType"}]},"name":"tuple","type":"Param"}],"type":"FunDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"r","expr":{"args":[{"exp":{"exps":[{"type":"LiteralInteger","i":10},{"type":"LiteralInteger","i":20}],"type":"TupleExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"h","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":31},"exp1":{"ident":"r","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun instanceOfB!1 () Int\n  4)\n(define-fun instanceOfA!0 () Int\n  3)\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 0) 0\n  (ite (= x!1 3) 3\n    4)))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-A (mk-A 1))\n  (ite (= x!1 4) (lift-B (mk-B 1 2 31))\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)(r Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (ite (deref-is-A this) (a (deref-A this))\n  (a (deref-B this)))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B.a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B.b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; --- getters for B.r: ---\n\n(define-fun B!r ((this Ref)) Int\n  (r (deref-B this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.f ((this Ref)(x Int)) (Tuple2 Int Int)\n  (mk-Tuple2 (A.a this)  x)\n)\n\n(define-fun A!f ((this Ref)(x Int)) (Tuple2 Int Int)\n  (mk-Tuple2 (A!a this)  x)\n)\n\n(define-fun A.g ((this Ref)(x Int)) Int\n  (let ((k (A.f this x)))\n    (+ (_1 k) (_2 k)))\n)\n\n(define-fun A!g ((this Ref)(x Int)) Int\n  (let ((k (A!f this x)))\n    (+ (_1 k) (_2 k)))\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.f ((this Ref)(x Int)) (Tuple2 Int Int)\n  (mk-Tuple2 (B.a this)  x)\n)\n\n(define-fun B!f ((this Ref)(x Int)) (Tuple2 Int Int)\n  (mk-Tuple2 (B!a this)  x)\n)\n\n(define-fun B.g ((this Ref)(x Int)) Int\n  (let ((k (B.f this x)))\n    (+ (_1 k) (_2 k)))\n)\n\n(define-fun B!g ((this Ref)(x Int)) Int\n  (let ((k (B!f this x)))\n    (+ (_1 k) (_2 k)))\n)\n\n(define-fun B.h ((this Ref)(tuple (Tuple2 Int Int))) Int\n  (let ((k1 (_1 tuple)))\n    (let ((k2 (_2 tuple)))\n      (B.g this (+ k1 k2))))\n)\n\n(define-fun B!h ((this Ref)(tuple (Tuple2 Int Int))) Int\n  (let ((k1 (_1 tuple)))\n    (let ((k2 (_2 tuple)))\n      (B!g this (+ k1 k2))))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!a this) 1)\n    (= (B!b this) 2)\n    (= (B!r this) (B!h this (mk-Tuple2 10 20)))\n    (= (B!r this)  31)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n\n"},"inheritance2.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int = 1\n}\n\nclass B extending A {\n  b:Int = 2\n}\n\nclass D extending C {\n  d:Int = 4\n}\n\nclass C extending A {\n  c:Int = 3\n}\n\ndobj:D\n\nsum:Int = dobj.a + dobj.c + dobj.d\n\n","name":"inheritance2.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"a","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"b","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"d","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},4],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["C"],"type":"QualifiedName"}],"type":"Expression"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"c","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["D"],"type":"QualifiedName"}],"type":"Expression"},"name":"dobj","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"sum","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"dobj","type":"ElementValue"},"a"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"dobj","type":"ElementValue"},"c"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"dobj","type":"ElementValue"},"d"]}]},"modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"type":"LiteralInteger","i":1},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"type":"LiteralInteger","i":2},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"d","expr":{"type":"LiteralInteger","i":4},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["C"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"c","expr":{"type":"LiteralInteger","i":3},"modifiers":[],"type":"PropertyDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]},{"ty":{"ident":{"names":["D"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"dobj","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"sum","expr":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"dobj","type":"IdentExp"},"ident":"d","type":"DotExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"dobj","type":"IdentExp"},"ident":"c","type":"DotExp"},"exp1":{"exp":{"ident":"dobj","type":"IdentExp"},"ident":"a","type":"DotExp"}}},"modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfD!3 () Int\n  9)\n(define-fun instanceOfC!2 () Int\n  7)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!4))\n(define-fun instanceOfB!1 () Int\n  6)\n(define-fun instanceOfA!0 () Int\n  5)\n(define-fun k!5 ((x!1 Int)) Int\n  (ite (= x!1 9) 9\n  (ite (= x!1 7) 7\n  (ite (= x!1 10) 10\n  (ite (= x!1 0) 0\n  (ite (= x!1 5) 5\n    6))))))\n(define-fun k!4!6 ((x!1 Int)) Any\n  (ite (= x!1 7) (lift-C (mk-C 1 3))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 10 8))\n  (ite (= x!1 5) (lift-A (mk-A 1))\n  (ite (= x!1 6) (lift-B (mk-B 1 2))\n    (lift-D (mk-D 1 3 4)))))))\n(define-fun k!4 ((x!1 Int)) Any\n  (k!4!6 (k!5 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (dobj Ref)(sum Int)))))\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(c Int)))))\n(declare-datatypes () ((D (mk-D (a Int)(c Int)(d Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (deref-is-D this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.dobj: ---\n\n(define-fun TopLevelDeclarations!dobj ((this Ref)) Ref\n  (dobj (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.sum: ---\n\n(define-fun TopLevelDeclarations!sum ((this Ref)) Int\n  (sum (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C.a ((this Ref)) Int\n  (ite (deref-is-C this) (a (deref-C this))\n  (a (deref-D this)))\n)\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (ite (deref-is-C this) (c (deref-C this))\n  (c (deref-D this)))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.a: ---\n\n(define-fun D.a ((this Ref)) Int\n  (a (deref-D this))\n)\n\n(define-fun D!a ((this Ref)) Int\n  (a (deref-D this))\n)\n\n; --- getters for D.c: ---\n\n(define-fun D.c ((this Ref)) Int\n  (c (deref-D this))\n)\n\n(define-fun D!c ((this Ref)) Int\n  (c (deref-D this))\n)\n\n; --- getters for D.d: ---\n\n(define-fun D.d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!sum this) (+ (+ (D.a (TopLevelDeclarations!dobj this) ) (D.c (TopLevelDeclarations!dobj this) )) (D.d (TopLevelDeclarations!dobj this) )))\n    (deref-isa-D (TopLevelDeclarations!dobj this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!a this) 1)\n    (= (B!b this) 2)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (C!a this) 1)\n    (= (C!c this) 3)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (= (D!a this) 1)\n    (= (D!c this) 3)\n    (= (D!d this) 4)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n\n"},"testsmt1.k":{"typeChecks":true,"model":"\nERROR:Int\n\nreq ERROR < 0\n\nfun CHECK(b:Bool) : Int\n{\n  if b then\n    42\n  else\n    ERROR\n}\n\nclass A {\n  x:Int\n  y:Int\n  z:Int * Bool\n\n  req z = Tuple(1,true)\n\n  req z # 1 = 1 && z # 2\n\n  fun f : Int * Bool\n  {\n    Tuple(1,true)\n  }\n\n  req x > 20\n\n  req exists i : Int . i > 0 && x + i = y\n\n  req f() # 2\n  RESULT:Int = CHECK(x > 20 && y > x)\n}\n\nclass B {\n  sat:Bool\n  z:Int\n  a:A\n\n  req a.x <= 22\n\n  req sat\n\n  req !sat => (z = a.x)\n\n  fun g(l:Int) : Int\n  {\n    l + 1\n  }\n\n  fun f(k:Int) : Int\n  {\n    g(k) + 1\n  }\n\n  req f(z) <= 22\n\n  req a.x != a.y\n  RESULT:Int = CHECK(sat && a.x <= 22 && z <= 20 && a.x != a.y)\n}\n\n","name":"testsmt1.k","json2":{"decls":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"ERROR","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IfExp"},{"element":"b","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},42],"type":"Expression"},{"element":"ERROR","type":"ElementValue"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"y","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"CartesianType"},{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"}],"type":"Expression"},"name":"z","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"z","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"TupleExp"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"BooleanLiteral"},true],"type":"Expression"}],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"TupleIndex",{"element":"z","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"TupleIndex",{"element":"z","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}]}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"CartesianType"},{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"TupleExp"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"BooleanLiteral"},true],"type":"Expression"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},20],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"QuantifiedExp"},{"operand":[{"element":"ElementValue","type":"Exists"}],"type":"Expression"},{"bindings":[{"operand":[{"element":"ElementValue","type":"RngBinding"},{"operand":[{"element":"ElementValue","type":"TypeCollection"},{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"}],"type":"Expression"},{"operand":[{"element":"ElementValue","type":"IdentPattern"},"i"],"type":"Expression"}],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"i","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"x","type":"ElementValue"},{"element":"i","type":"ElementValue"}]},{"element":"y","type":"ElementValue"}]}]}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"TupleIndex",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"f","type":"ElementValue"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"x","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},20],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GT",{"element":"y","type":"ElementValue"},{"element":"x","type":"ElementValue"}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"name":"sat","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"z","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"x"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},22],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"element":"sat","type":"ElementValue"},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Implies",{"type":"Expression","operand":[{"element":"ElementValue","type":"UnaryExp"},"Not",{"element":"sat","type":"ElementValue"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"ParenExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"z","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"x"]}]}]}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"l","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"type":"ExpressionDecl"}],"ident":"g","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"l","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"g","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"k","type":"ElementValue"}],"type":"Expression"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"k","type":"Param"}],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"f","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"z","type":"ElementValue"}],"type":"Expression"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},22],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"NotEQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"x"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"y"]}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"element":"sat","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"x"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},22],"type":"Expression"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LTE",{"element":"z","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},20],"type":"Expression"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"NotEQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"x"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"y"]}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"ty":{"type":"IntType"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"ERROR","type":"IdentExp"}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"trueBranch":{"type":"LiteralInteger","i":42},"falseBranch":{"ident":"ERROR","type":"IdentExp"},"type":"IfExp","cond":{"ident":"b","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"type":"BoolType"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"x","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"y","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"CartesianType","types":[{"type":"IntType"},{"type":"BoolType"}]},"name":"z","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"exps":[{"type":"LiteralInteger","i":1},{"b":true,"type":"LiteralBoolean"}],"type":"TupleExp"},"exp1":{"ident":"z","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"op":"And","type":"BinExp","exp2":{"op":"TupleIndex","type":"BinExp","exp2":{"type":"LiteralInteger","i":2},"exp1":{"ident":"z","type":"IdentExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"op":"TupleIndex","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"z","type":"IdentExp"}}}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"CartesianType","types":[{"type":"IntType"},{"type":"BoolType"}]},"body":[{"exp":{"exps":[{"type":"LiteralInteger","i":1},{"b":true,"type":"LiteralBoolean"}],"type":"TupleExp"},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[],"type":"FunDecl"},{"exp":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":20},"exp1":{"ident":"x","type":"IdentExp"}},"type":"ConstraintDecl"},{"exp":{"exp":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"ident":"y","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"i","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"}}},"exp1":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"i","type":"IdentExp"}}},"bindings":[{"patterns":[{"ident":"i","type":"IdentPattern"}],"collection":{"ty":{"type":"IntType"},"type":"TypeCollection"},"type":"RngBinding"}],"quant":{"element":"Exists","type":"Quantifier"},"type":"QuantifiedExp"},"type":"ConstraintDecl"},{"exp":{"op":"TupleIndex","type":"BinExp","exp2":{"type":"LiteralInteger","i":2},"exp1":{"args":[],"type":"FunApplExp","exp1":{"ident":"f","type":"IdentExp"}}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"GT","type":"BinExp","exp2":{"ident":"x","type":"IdentExp"},"exp1":{"ident":"y","type":"IdentExp"}},"exp1":{"op":"GT","type":"BinExp","exp2":{"type":"LiteralInteger","i":20},"exp1":{"ident":"x","type":"IdentExp"}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"BoolType"},"name":"sat","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"z","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"LTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":22},"exp1":{"exp":{"ident":"a","type":"IdentExp"},"ident":"x","type":"DotExp"}},"type":"ConstraintDecl"},{"exp":{"ident":"sat","type":"IdentExp"},"type":"ConstraintDecl"},{"exp":{"op":"Implies","type":"BinExp","exp2":{"exp":{"op":"EQ","type":"BinExp","exp2":{"exp":{"ident":"a","type":"IdentExp"},"ident":"x","type":"DotExp"},"exp1":{"ident":"z","type":"IdentExp"}},"type":"ParenExp"},"exp1":{"exp":{"ident":"sat","type":"IdentExp"},"op":"Not","type":"UnaryExp"}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"ident":"l","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"g","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"l","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"args":[{"exp":{"ident":"k","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"g","type":"IdentExp"}}},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"type":"FunDecl"},{"exp":{"op":"LTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":22},"exp1":{"args":[{"exp":{"ident":"z","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"f","type":"IdentExp"}}},"type":"ConstraintDecl"},{"exp":{"op":"NotEQ","type":"BinExp","exp2":{"exp":{"ident":"a","type":"IdentExp"},"ident":"y","type":"DotExp"},"exp1":{"exp":{"ident":"a","type":"IdentExp"},"ident":"x","type":"DotExp"}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"NotEQ","type":"BinExp","exp2":{"exp":{"ident":"a","type":"IdentExp"},"ident":"y","type":"DotExp"},"exp1":{"exp":{"ident":"a","type":"IdentExp"},"ident":"x","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"LTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":20},"exp1":{"ident":"z","type":"IdentExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"LTE","type":"BinExp","exp2":{"type":"LiteralInteger","i":22},"exp1":{"exp":{"ident":"a","type":"IdentExp"},"ident":"x","type":"DotExp"}},"exp1":{"ident":"sat","type":"IdentExp"}}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfB!2 () Int\n  3)\n(define-fun instanceOfA!1 () Int\n  2)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-B (mk-B true (- 18) 4 42))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations (- 1)))\n  (ite (= x!1 4) (lift-A (mk-A 21 8387 (mk-Tuple2 1 true) 42))\n    (lift-A (mk-A 8876 8877 (mk-Tuple2 1 true) 42))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 4) 4\n  (ite (= x!1 0) 0\n  (ite (= x!1 2) 2\n    3))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))\n(define-fun i!0!6 ((x!1 Int)) Int\n  (ite (= x!1 4) 8366\n    1))\n(define-fun i!0 ((x!1 Int)) Int\n  (i!0!6 (k!4 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (ERROR Int)))))\n(declare-datatypes () ((A (mk-A (x Int)(y Int)(z (Tuple2 Int Bool))(RESULT Int)))))\n(declare-datatypes () ((B (mk-B (sat Bool)(z Int)(a Ref)(RESULT Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.ERROR: ---\n\n(define-fun TopLevelDeclarations.ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n(define-fun TopLevelDeclarations!ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; --- getters for A.y: ---\n\n(define-fun A.y ((this Ref)) Int\n  (y (deref-A this))\n)\n\n(define-fun A!y ((this Ref)) Int\n  (y (deref-A this))\n)\n\n; --- getters for A.z: ---\n\n(define-fun A!z ((this Ref)) (Tuple2 Int Bool)\n  (z (deref-A this))\n)\n\n; --- getters for A.RESULT: ---\n\n(define-fun A!RESULT ((this Ref)) Int\n  (RESULT (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.sat: ---\n\n(define-fun B!sat ((this Ref)) Bool\n  (sat (deref-B this))\n)\n\n; --- getters for B.z: ---\n\n(define-fun B!z ((this Ref)) Int\n  (z (deref-B this))\n)\n\n; --- getters for B.a: ---\n\n(define-fun B!a ((this Ref)) Ref\n  (a (deref-B this))\n)\n\n; --- getters for B.RESULT: ---\n\n(define-fun B!RESULT ((this Ref)) Int\n  (RESULT (deref-B this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations.ERROR this) )\n)\n\n(define-fun TopLevelDeclarations!CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations!ERROR this) )\n)\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.f ((this Ref)) (Tuple2 Int Bool)\n  (mk-Tuple2 1 true)\n)\n\n(define-fun A!f ((this Ref)) (Tuple2 Int Bool)\n  (mk-Tuple2 1 true)\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.g ((this Ref)(l Int)) Int\n  (+ l 1)\n)\n\n(define-fun B!g ((this Ref)(l Int)) Int\n  (+ l 1)\n)\n\n(define-fun B.f ((this Ref)(k Int)) Int\n  (+ (B.g this k) 1)\n)\n\n(define-fun B!f ((this Ref)(k Int)) Int\n  (+ (B!g this k) 1)\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (< (TopLevelDeclarations!ERROR this)  0)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!RESULT this) (TopLevelDeclarations!CHECK 0 (and (> (A!x this)  20) (> (A!y this)  (A!x this) ))))\n    (= (A!z this)  (mk-Tuple2 1 true))\n    (and (= (_1 (A!z this) ) 1) (_2 (A!z this) ))\n    (> (A!x this)  20)\n    (exists ((i Int)) (and (> i 0) (= (+ (A!x this)  i) (A!y this) )))\n    (_2 (A!f this ))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!RESULT this) (TopLevelDeclarations!CHECK 0 (and (and (and (B!sat this)  (<= (A.x (B!a this) ) 22)) (<= (B!z this)  20)) (not (= (A.x (B!a this) ) (A.y (B!a this) ))))))\n    (deref-isa-A (B!a this))\n    (<= (A.x (B!a this) ) 22)\n    (B!sat this) \n    (=> (not (B!sat this) ) (= (B!z this)  (A.x (B!a this) )))\n    (<= (B!f this (B!z this) ) 22)\n    (not (= (A.x (B!a this) ) (A.y (B!a this) )))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n\n"},"testsmt2.k":{"typeChecks":true,"model":"\nERROR:Int\n\nreq ERROR < 0\n\nfun CHECK(b:Bool) : Int\n{\n  if b then\n    42\n  else\n    ERROR\n}\n\nclass Duration {\n  t1:Int\n  t2:Int\n\n  fun before(other:Duration) : Bool\n  {\n    t2 < other.t1\n  }\n\n  req t1 < t2\n  RESULT:Int = CHECK(t1 < t2)\n}\n\nclass Event {\n  duration:Duration\n  min:Int\n\n  req duration.t2 - duration.t1 >= min\n  RESULT:Int = CHECK(duration.t2 - duration.t1 >= min)\n}\n\na:Event\n\nb:Event\n\nreq a.min = 10\n\nreq b.min = 20\n\nreq a.duration.before(b.duration)\n\nRESULT:Int = CHECK(a.min = 10 && b.min = 20 && a.duration.t2 < b.duration.t1)\n\n","name":"testsmt2.k","json2":{"decls":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"ERROR","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},0],"type":"Expression"}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"operand":[{"element":"ElementValue","type":"IfExp"},{"element":"b","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},42],"type":"Expression"},{"element":"ERROR","type":"ElementValue"}],"type":"Expression"},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"Duration","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"t1","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"t2","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"BoolType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"t2","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"other","type":"ElementValue"},"t1"]}]},"type":"ExpressionDecl"}],"ident":"before","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Duration"],"type":"QualifiedName"}],"type":"Expression"},"name":"other","type":"Param"}],"type":"FunDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"t1","type":"ElementValue"},{"element":"t2","type":"ElementValue"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"element":"t1","type":"ElementValue"},{"element":"t2","type":"ElementValue"}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"Event","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Duration"],"type":"QualifiedName"}],"type":"Expression"},"name":"duration","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"min","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Minus",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"duration","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"duration","type":"ElementValue"},"t1"]}]},{"element":"min","type":"ElementValue"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"GTE",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Minus",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"duration","type":"ElementValue"},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"duration","type":"ElementValue"},"t1"]}]},{"element":"min","type":"ElementValue"}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["Event"],"type":"QualifiedName"}],"type":"Expression"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"min"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"b","type":"ElementValue"},"min"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},20],"type":"Expression"}]},"type":"ConstraintDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"duration"]},"before"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"b","type":"ElementValue"},"duration"]}],"type":"Expression"}]},"type":"ConstraintDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"RESULT","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"CHECK","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"And",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"min"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"b","type":"ElementValue"},"min"]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},20],"type":"Expression"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"LT",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"a","type":"ElementValue"},"duration"]},"t2"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"b","type":"ElementValue"},"duration"]},"t1"]}]}]}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"ty":{"type":"IntType"},"name":"ERROR","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"type":"LiteralInteger","i":0},"exp1":{"ident":"ERROR","type":"IdentExp"}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"trueBranch":{"type":"LiteralInteger","i":42},"falseBranch":{"ident":"ERROR","type":"IdentExp"},"type":"IfExp","cond":{"ident":"b","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"CHECK","typeParams":[],"params":[{"ty":{"type":"BoolType"},"name":"b","type":"Param"}],"type":"FunDecl"},{"entityToken":"class","ident":"Duration","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"name":"t1","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"t2","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"BoolType"},"body":[{"exp":{"op":"LT","type":"BinExp","exp2":{"exp":{"ident":"other","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"ident":"t2","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"before","typeParams":[],"params":[{"ty":{"ident":{"names":["Duration"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"other","type":"Param"}],"type":"FunDecl"},{"exp":{"op":"LT","type":"BinExp","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"ident":"t1","type":"IdentExp"}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"LT","type":"BinExp","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"ident":"t1","type":"IdentExp"}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"entityToken":"class","ident":"Event","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["Duration"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"duration","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"name":"min","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"GTE","type":"BinExp","exp2":{"ident":"min","type":"IdentExp"},"exp1":{"op":"Minus","type":"BinExp","exp2":{"exp":{"ident":"duration","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"duration","type":"IdentExp"},"ident":"t2","type":"DotExp"}}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"GTE","type":"BinExp","exp2":{"ident":"min","type":"IdentExp"},"exp1":{"op":"Minus","type":"BinExp","exp2":{"exp":{"ident":"duration","type":"IdentExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"ident":"duration","type":"IdentExp"},"ident":"t2","type":"DotExp"}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"extending":[]},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"a","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["Event"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"b","modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"exp":{"ident":"a","type":"IdentExp"},"ident":"min","type":"DotExp"}},"type":"ConstraintDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":20},"exp1":{"exp":{"ident":"b","type":"IdentExp"},"ident":"min","type":"DotExp"}},"type":"ConstraintDecl"},{"exp":{"args":[{"exp":{"exp":{"ident":"b","type":"IdentExp"},"ident":"duration","type":"DotExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"exp":{"ident":"a","type":"IdentExp"},"ident":"duration","type":"DotExp"},"ident":"before","type":"DotExp"}},"type":"ConstraintDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"RESULT","expr":{"args":[{"exp":{"op":"And","type":"BinExp","exp2":{"op":"LT","type":"BinExp","exp2":{"exp":{"exp":{"ident":"b","type":"IdentExp"},"ident":"duration","type":"DotExp"},"ident":"t1","type":"DotExp"},"exp1":{"exp":{"exp":{"ident":"a","type":"IdentExp"},"ident":"duration","type":"DotExp"},"ident":"t2","type":"DotExp"}},"exp1":{"op":"And","type":"BinExp","exp2":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":20},"exp1":{"exp":{"ident":"b","type":"IdentExp"},"ident":"min","type":"DotExp"}},"exp1":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":10},"exp1":{"exp":{"ident":"a","type":"IdentExp"},"ident":"min","type":"DotExp"}}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"CHECK","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"}],"annotations":[],"type":"Model","imports":[]},"smtModel":"(define-fun instanceOfDuration!0 () Int\n  2)\n(define-fun instanceOfEvent!1 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 3) 3\n  (ite (= x!1 4) 4\n  (ite (= x!1 13) 13\n  (ite (= x!1 0) 0\n  (ite (= x!1 6) 6\n  (ite (= x!1 12) 12\n  (ite (= x!1 5) 5\n    2))))))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 0)\n    (lift-TopLevelDeclarations (mk-TopLevelDeclarations (- 8366) 4 5 42))\n  (ite (= x!1 12) (lift-Duration (mk-Duration 535 555 42))\n  (ite (= x!1 5) (lift-Event (mk-Event 12 20 42))\n  (ite (= x!1 6) (lift-Duration (mk-Duration 608 609 42))\n  (ite (= x!1 2) (lift-Duration (mk-Duration 8097 8098 42))\n  (ite (= x!1 3) (lift-Event (mk-Event 6 (- 2281) 42))\n  (ite (= x!1 13) (lift-Duration (mk-Duration 524 534 42))\n    (lift-Event (mk-Event 13 10 42))))))))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (ERROR Int)(a Ref)(b Ref)(RESULT Int)))))\n(declare-datatypes () ((Duration (mk-Duration (t1 Int)(t2 Int)(RESULT Int)))))\n(declare-datatypes () ((Event (mk-Event (duration Ref)(min Int)(RESULT Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-Duration (sel-Duration Duration))\n  (lift-Event (sel-Event Event))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-Duration ((this Ref)) Bool\n  (is-lift-Duration (deref this))\n)\n\n(define-fun deref-Duration ((this Ref)) Duration\n  (sel-Duration (deref this))\n)\n\n(define-fun deref-is-Event ((this Ref)) Bool\n  (is-lift-Event (deref this))\n)\n\n(define-fun deref-Event ((this Ref)) Event\n  (sel-Event (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-Duration ((this Ref)) Bool\n  (deref-is-Duration this)\n)\n\n(define-fun deref-isa-Event ((this Ref)) Bool\n  (deref-is-Event this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.ERROR: ---\n\n(define-fun TopLevelDeclarations.ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n(define-fun TopLevelDeclarations!ERROR ((this Ref)) Int\n  (ERROR (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.a: ---\n\n(define-fun TopLevelDeclarations!a ((this Ref)) Ref\n  (a (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.b: ---\n\n(define-fun TopLevelDeclarations!b ((this Ref)) Ref\n  (b (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.RESULT: ---\n\n(define-fun TopLevelDeclarations!RESULT ((this Ref)) Int\n  (RESULT (deref-TopLevelDeclarations this))\n)\n\n; -------------------------------\n;   Getters for class Duration:\n; -------------------------------\n\n; --- getters for Duration.t1: ---\n\n(define-fun Duration.t1 ((this Ref)) Int\n  (t1 (deref-Duration this))\n)\n\n(define-fun Duration!t1 ((this Ref)) Int\n  (t1 (deref-Duration this))\n)\n\n; --- getters for Duration.t2: ---\n\n(define-fun Duration.t2 ((this Ref)) Int\n  (t2 (deref-Duration this))\n)\n\n(define-fun Duration!t2 ((this Ref)) Int\n  (t2 (deref-Duration this))\n)\n\n; --- getters for Duration.RESULT: ---\n\n(define-fun Duration!RESULT ((this Ref)) Int\n  (RESULT (deref-Duration this))\n)\n\n; ----------------------------\n;   Getters for class Event:\n; ----------------------------\n\n; --- getters for Event.duration: ---\n\n(define-fun Event.duration ((this Ref)) Ref\n  (duration (deref-Event this))\n)\n\n(define-fun Event!duration ((this Ref)) Ref\n  (duration (deref-Event this))\n)\n\n; --- getters for Event.min: ---\n\n(define-fun Event.min ((this Ref)) Int\n  (min (deref-Event this))\n)\n\n(define-fun Event!min ((this Ref)) Int\n  (min (deref-Event this))\n)\n\n; --- getters for Event.RESULT: ---\n\n(define-fun Event!RESULT ((this Ref)) Int\n  (RESULT (deref-Event this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations.ERROR this) )\n)\n\n(define-fun TopLevelDeclarations!CHECK ((this Ref)(b Bool)) Int\n  (ite b 42 (TopLevelDeclarations!ERROR this) )\n)\n\n; -------------------------------\n;   Methods for class Duration:\n; -------------------------------\n\n(define-fun Duration.before ((this Ref)(other Ref)) Bool\n  (< (Duration.t2 this)  (Duration.t1 other))\n)\n\n(define-fun Duration!before ((this Ref)(other Ref)) Bool\n  (< (Duration!t2 this)  (Duration.t1 other))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!RESULT this) (TopLevelDeclarations!CHECK this (and (and (= (Event.min (TopLevelDeclarations!a this) ) 10) (= (Event.min (TopLevelDeclarations!b this) ) 20)) (< (Duration.t2 (Event.duration (TopLevelDeclarations!a this) )) (Duration.t1 (Event.duration (TopLevelDeclarations!b this) ))))))\n    (deref-isa-Event (TopLevelDeclarations!a this))\n    (deref-isa-Event (TopLevelDeclarations!b this))\n    (< (TopLevelDeclarations!ERROR this)  0)\n    (= (Event.min (TopLevelDeclarations!a this) ) 10)\n    (= (Event.min (TopLevelDeclarations!b this) ) 20)\n    (Duration.before (Event.duration (TopLevelDeclarations!a this) ) (Event.duration (TopLevelDeclarations!b this) ))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; ---------------------------------\n;   Invariant for class Duration:\n; ---------------------------------\n\n(define-fun Duration.inv ((this Ref)) Bool\n  (and\n    (= (Duration!RESULT this) (TopLevelDeclarations!CHECK 0 (< (Duration!t1 this)  (Duration!t2 this) )))\n    (< (Duration!t1 this)  (Duration!t2 this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Duration this) (Duration.inv this))\n))\n\n; ------------------------------\n;   Invariant for class Event:\n; ------------------------------\n\n(define-fun Event.inv ((this Ref)) Bool\n  (and\n    (= (Event!RESULT this) (TopLevelDeclarations!CHECK 0 (>= (- (Duration.t2 (Event!duration this) ) (Duration.t1 (Event!duration this) )) (Event!min this) )))\n    (deref-isa-Duration (Event!duration this))\n    (>= (- (Duration.t2 (Event!duration this) ) (Duration.t1 (Event!duration this) )) (Event!min this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Event this) (Event.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfDuration Ref)) (deref-is-Duration instanceOfDuration)))\n(assert (exists ((instanceOfEvent Ref)) (deref-is-Event instanceOfEvent)))\n\n"},"as1.k":{"typeChecks":false,"model":"","name":"as1.k","json2":"","json1":"","smtModel":"","smt":""},"testsmt7.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int = 1\n\n  fun f(k:Int) : Int\n  {\n    a + k\n  }\n}\n\nclass B {\n  iA:A\n  b:Int = 2\n\n  fun g(k:Int) : Int\n  {\n    iA.f(iA.a + b + k)\n  }\n}\n\nclass C {\n  iA:A\n  c:Int = 3\n\n  fun h(k:Int) : Int\n  {\n    iA.f(iA.a + c + k)\n  }\n}\n\nclass D {\n  iB:B\n  iC:C\n  d:Int = 4\n\n  req iB.iA = iC.iA\n\n  fun i(k:Int) : Int\n  {\n    iB.iA.a + iB.b + iC.c + d + k\n  }\n}\n\nclass Master {\n  d:D\n\n  fun main : Int\n  {\n    d.iB.iA.f(1) + d.iB.g(2) + d.i(3)\n  }\n  r:Int = main\n\n  req r = 21\n}\n\n","name":"testsmt7.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"a","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"a","type":"ElementValue"},{"element":"k","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"k","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"name":"iA","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"b","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"iA","type":"ElementValue"},"f"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"iA","type":"ElementValue"},"a"]},{"element":"b","type":"ElementValue"}]},{"element":"k","type":"ElementValue"}]}],"type":"Expression"}]},"type":"ExpressionDecl"}],"ident":"g","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"k","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"},"name":"iA","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"c","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"iA","type":"ElementValue"},"f"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"iA","type":"ElementValue"},"a"]},{"element":"c","type":"ElementValue"}]},{"element":"k","type":"ElementValue"}]}],"type":"Expression"}]},"type":"ExpressionDecl"}],"ident":"h","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"k","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["B"],"type":"QualifiedName"}],"type":"Expression"},"name":"iB","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["C"],"type":"QualifiedName"}],"type":"Expression"},"name":"iC","modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"d","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},4],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"iB","type":"ElementValue"},"iA"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"iC","type":"ElementValue"},"iA"]}]},"type":"ConstraintDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"iB","type":"ElementValue"},"iA"]},"a"]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"iB","type":"ElementValue"},"b"]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"iC","type":"ElementValue"},"c"]}]},{"element":"d","type":"ElementValue"}]},{"element":"k","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"i","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"k","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"Master","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["D"],"type":"QualifiedName"}],"type":"Expression"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"d","type":"ElementValue"},"iB"]},"iA"]},"f"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}],"type":"Expression"}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"d","type":"ElementValue"},"iB"]},"g"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"}],"type":"Expression"}]}]},{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"type":"Expression","operand":[{"element":"ElementValue","type":"DotExp"},{"element":"d","type":"ElementValue"},"i"]},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},3],"type":"Expression"}],"type":"Expression"}]}]},"type":"ExpressionDecl"}],"ident":"main","typeParams":[],"params":[],"type":"FunDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"r","expr":{"element":"main","type":"ElementValue"},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"r","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},21],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"type":"LiteralInteger","i":1},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"iA","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"type":"LiteralInteger","i":2},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"args":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"b","type":"IdentExp"},"exp1":{"exp":{"ident":"iA","type":"IdentExp"},"ident":"a","type":"DotExp"}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"ident":"iA","type":"IdentExp"},"ident":"f","type":"DotExp"}},"type":"ExpressionDecl"}],"ident":"g","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"C","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"iA","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"c","expr":{"type":"LiteralInteger","i":3},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"args":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"c","type":"IdentExp"},"exp1":{"exp":{"ident":"iA","type":"IdentExp"},"ident":"a","type":"DotExp"}}},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"ident":"iA","type":"IdentExp"},"ident":"f","type":"DotExp"}},"type":"ExpressionDecl"}],"ident":"h","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"D","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["B"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"iB","modifiers":[],"type":"PropertyDecl"},{"ty":{"ident":{"names":["C"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"iC","modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"d","expr":{"type":"LiteralInteger","i":4},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"exp":{"ident":"iC","type":"IdentExp"},"ident":"iA","type":"DotExp"},"exp1":{"exp":{"ident":"iB","type":"IdentExp"},"ident":"iA","type":"DotExp"}},"type":"ConstraintDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"d","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"iC","type":"IdentExp"},"ident":"c","type":"DotExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"exp":{"ident":"iB","type":"IdentExp"},"ident":"b","type":"DotExp"},"exp1":{"exp":{"exp":{"ident":"iB","type":"IdentExp"},"ident":"iA","type":"DotExp"},"ident":"a","type":"DotExp"}}}}},"type":"ExpressionDecl"}],"ident":"i","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"Master","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"ident":{"names":["D"],"type":"QualifiedName"},"args":[],"type":"IdentType"},"name":"d","modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"args":[{"exp":{"type":"LiteralInteger","i":3},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"ident":"d","type":"IdentExp"},"ident":"i","type":"DotExp"}},"exp1":{"op":"Plus","type":"BinExp","exp2":{"args":[{"exp":{"type":"LiteralInteger","i":2},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"exp":{"ident":"d","type":"IdentExp"},"ident":"iB","type":"DotExp"},"ident":"g","type":"DotExp"}},"exp1":{"args":[{"exp":{"type":"LiteralInteger","i":1},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"exp":{"exp":{"exp":{"ident":"d","type":"IdentExp"},"ident":"iB","type":"DotExp"},"ident":"iA","type":"DotExp"},"ident":"f","type":"DotExp"}}}},"type":"ExpressionDecl"}],"ident":"main","typeParams":[],"params":[],"type":"FunDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"r","expr":{"ident":"main","type":"IdentExp"},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":21},"exp1":{"ident":"r","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun instanceOfMaster!4 () Int\n  10)\n(define-fun instanceOfD!3 () Int\n  9)\n(define-fun instanceOfC!2 () Int\n  8)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!5))\n(define-fun instanceOfB!1 () Int\n  7)\n(define-fun instanceOfA!0 () Int\n  5)\n(define-fun k!6 ((x!1 Int)) Int\n  (ite (= x!1 9) 9\n  (ite (= x!1 10) 10\n  (ite (= x!1 0) 0\n  (ite (= x!1 23) 23\n  (ite (= x!1 24) 24\n  (ite (= x!1 12) 12\n  (ite (= x!1 20) 20\n  (ite (= x!1 15) 15\n  (ite (= x!1 13) 13\n  (ite (= x!1 14) 14\n  (ite (= x!1 5) 5\n  (ite (= x!1 8) 8\n  (ite (= x!1 16) 16\n  (ite (= x!1 7) 7\n    11)))))))))))))))\n(define-fun k!5!7 ((x!1 Int)) Any\n  (ite (= x!1 13) (lift-B (mk-B 16 2))\n  (ite (= x!1 14) (lift-C (mk-C 16 3))\n  (ite (= x!1 9) (lift-D (mk-D 13 14 4))\n  (ite (= x!1 24) (lift-C (mk-C 20 3))\n  (ite (= x!1 15) (lift-D (mk-D 23 24 4))\n  (ite (= x!1 23) (lift-B (mk-B 20 2))\n  (ite (= x!1 10) (lift-Master (mk-Master 15 21))\n  (ite (= x!1 8) (lift-C (mk-C 12 3))\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 7) (lift-B (mk-B 11 2))\n    (lift-A (mk-A 1)))))))))))))\n(define-fun k!5 ((x!1 Int)) Any\n  (k!5!7 (k!6 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (iA Ref)(b Int)))))\n(declare-datatypes () ((C (mk-C (iA Ref)(c Int)))))\n(declare-datatypes () ((D (mk-D (iB Ref)(iC Ref)(d Int)))))\n(declare-datatypes () ((Master (mk-Master (d Ref)(r Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-Master (sel-Master Master))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-Master ((this Ref)) Bool\n  (is-lift-Master (deref this))\n)\n\n(define-fun deref-Master ((this Ref)) Master\n  (sel-Master (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (deref-is-D this)\n)\n\n(define-fun deref-isa-Master ((this Ref)) Bool\n  (deref-is-Master this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.iA: ---\n\n(define-fun B.iA ((this Ref)) Ref\n  (iA (deref-B this))\n)\n\n(define-fun B!iA ((this Ref)) Ref\n  (iA (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B.b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.iA: ---\n\n(define-fun C.iA ((this Ref)) Ref\n  (iA (deref-C this))\n)\n\n(define-fun C!iA ((this Ref)) Ref\n  (iA (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.iB: ---\n\n(define-fun D.iB ((this Ref)) Ref\n  (iB (deref-D this))\n)\n\n(define-fun D!iB ((this Ref)) Ref\n  (iB (deref-D this))\n)\n\n; --- getters for D.iC: ---\n\n(define-fun D.iC ((this Ref)) Ref\n  (iC (deref-D this))\n)\n\n(define-fun D!iC ((this Ref)) Ref\n  (iC (deref-D this))\n)\n\n; --- getters for D.d: ---\n\n(define-fun D.d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; -----------------------------\n;   Getters for class Master:\n; -----------------------------\n\n; --- getters for Master.d: ---\n\n(define-fun Master.d ((this Ref)) Ref\n  (d (deref-Master this))\n)\n\n(define-fun Master!d ((this Ref)) Ref\n  (d (deref-Master this))\n)\n\n; --- getters for Master.r: ---\n\n(define-fun Master!r ((this Ref)) Int\n  (r (deref-Master this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.f ((this Ref)(k Int)) Int\n  (+ (A.a this)  k)\n)\n\n(define-fun A!f ((this Ref)(k Int)) Int\n  (+ (A!a this)  k)\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.g ((this Ref)(k Int)) Int\n  (A.f (B.iA this)  (+ (+ (A.a (B.iA this) ) (B.b this) ) k))\n)\n\n(define-fun B!g ((this Ref)(k Int)) Int\n  (A.f (B!iA this)  (+ (+ (A.a (B!iA this) ) (B!b this) ) k))\n)\n\n; ------------------------\n;   Methods for class C:\n; ------------------------\n\n(define-fun C.h ((this Ref)(k Int)) Int\n  (A.f (C.iA this)  (+ (+ (A.a (C.iA this) ) (C.c this) ) k))\n)\n\n(define-fun C!h ((this Ref)(k Int)) Int\n  (A.f (C!iA this)  (+ (+ (A.a (C!iA this) ) (C!c this) ) k))\n)\n\n; ------------------------\n;   Methods for class D:\n; ------------------------\n\n(define-fun D.i ((this Ref)(k Int)) Int\n  (+ (+ (+ (+ (A.a (B.iA (D.iB this) )) (B.b (D.iB this) )) (C.c (D.iC this) )) (D.d this) ) k)\n)\n\n(define-fun D!i ((this Ref)(k Int)) Int\n  (+ (+ (+ (+ (A.a (B.iA (D!iB this) )) (B.b (D!iB this) )) (C.c (D!iC this) )) (D!d this) ) k)\n)\n\n; -----------------------------\n;   Methods for class Master:\n; -----------------------------\n\n(define-fun Master.main ((this Ref)) Int\n  (+ (+ (A.f (B.iA (D.iB (Master.d this) )) 1) (B.g (D.iB (Master.d this) ) 2)) (D.i (Master.d this)  3))\n)\n\n(define-fun Master!main ((this Ref)) Int\n  (+ (+ (A.f (B.iA (D.iB (Master!d this) )) 1) (B.g (D.iB (Master!d this) ) 2)) (D.i (Master!d this)  3))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!b this) 2)\n    (deref-isa-A (B!iA this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (C!c this) 3)\n    (deref-isa-A (C!iA this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (= (D!d this) 4)\n    (deref-isa-B (D!iB this))\n    (deref-isa-C (D!iC this))\n    (= (B.iA (D!iB this) ) (C.iA (D!iC this) ))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; -------------------------------\n;   Invariant for class Master:\n; -------------------------------\n\n(define-fun Master.inv ((this Ref)) Bool\n  (and\n    (= (Master!r this) (Master!main this) )\n    (deref-isa-D (Master!d this))\n    (= (Master!r this)  21)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Master this) (Master.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (exists ((instanceOfMaster Ref)) (deref-is-Master instanceOfMaster)))\n\n"},"testsmt10.k":{"typeChecks":true,"model":"\nclass A {\n  a:Int = 1\n\n  fun f(x:Int) : Int\n  {\n    a + x\n  }\n\n  fun g(x:Int) : Int\n  {\n    k:Int = f(x) + 1\n    a + f(x) + k + 1\n  }\n}\n\nclass B extending A {\n  b:Int = 2\n\n  fun h(x:Int) : Int\n  {\n    k1:Int = a + b\n    k2:Int = k1 + x\n    g(x)\n  }\n  r:Int = h(10)\n\n  req r = 25\n}\n\n","name":"testsmt10.k","json2":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"a","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"a","type":"ElementValue"},{"element":"x","type":"ElementValue"}]},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"f","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"x","type":"ElementValue"}],"type":"Expression"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"a","type":"ElementValue"},{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"f","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"x","type":"ElementValue"}],"type":"Expression"}]}]},{"element":"k","type":"ElementValue"}]},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},1],"type":"Expression"}]},"type":"ExpressionDecl"}],"ident":"g","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"b","expr":{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},2],"type":"Expression"},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"body":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k1","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"a","type":"ElementValue"},{"element":"b","type":"ElementValue"}]},"modifiers":[],"type":"PropertyDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"k2","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"Plus",{"element":"k1","type":"ElementValue"},{"element":"x","type":"ElementValue"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"g","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"element":"x","type":"ElementValue"}],"type":"Expression"}]},"type":"ExpressionDecl"}],"ident":"h","typeParams":[],"params":[{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"name":"x","type":"Param"}],"type":"FunDecl"},{"ty":{"operand":[{"element":"ElementValue","type":"IntType"}],"type":"Expression"},"assignment":false,"name":"r","expr":{"type":"Expression","operand":[{"element":"ElementValue","type":"FunApplExp"},{"element":"h","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"PositionalArgument"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},10],"type":"Expression"}],"type":"Expression"}]},"modifiers":[],"type":"PropertyDecl"},{"exp":{"type":"Expression","operand":[{"element":"ElementValue","type":"BinExp"},"EQ",{"element":"r","type":"ElementValue"},{"operand":[{"element":"ElementValue","type":"IntegerLiteral"},25],"type":"Expression"}]},"type":"ConstraintDecl"}],"extending":[{"operand":[{"element":"ElementValue","type":"IdentType"},{"names":["A"],"type":"QualifiedName"}],"type":"Expression"}]}],"annotations":[],"type":"Model","imports":[]},"json1":{"decls":[{"entityToken":"class","ident":"A","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"type":"LiteralInteger","i":1},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"exp":{"op":"Plus","type":"BinExp","exp2":{"ident":"x","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"f","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k","expr":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"args":[{"exp":{"ident":"x","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"f","type":"IdentExp"}}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"Plus","type":"BinExp","exp2":{"type":"LiteralInteger","i":1},"exp1":{"op":"Plus","type":"BinExp","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"op":"Plus","type":"BinExp","exp2":{"args":[{"exp":{"ident":"x","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"f","type":"IdentExp"}},"exp1":{"ident":"a","type":"IdentExp"}}}},"type":"ExpressionDecl"}],"ident":"g","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"}],"extending":[]},{"entityToken":"class","ident":"B","typeparams":[],"annotations":[],"type":"EntityDecl","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"type":"LiteralInteger","i":2},"modifiers":[],"type":"PropertyDecl"},{"spec":[],"ty":{"type":"IntType"},"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k1","expr":{"op":"Plus","type":"BinExp","exp2":{"ident":"b","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"k2","expr":{"op":"Plus","type":"BinExp","exp2":{"ident":"x","type":"IdentExp"},"exp1":{"ident":"k1","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"args":[{"exp":{"ident":"x","type":"IdentExp"},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"g","type":"IdentExp"}},"type":"ExpressionDecl"}],"ident":"h","typeParams":[],"params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"type":"FunDecl"},{"ty":{"type":"IntType"},"assignment":false,"name":"r","expr":{"args":[{"exp":{"type":"LiteralInteger","i":10},"type":"PositionalArgument"}],"type":"FunApplExp","exp1":{"ident":"h","type":"IdentExp"}},"modifiers":[],"type":"PropertyDecl"},{"exp":{"op":"EQ","type":"BinExp","exp2":{"type":"LiteralInteger","i":25},"exp1":{"ident":"r","type":"IdentExp"}},"type":"ConstraintDecl"}],"extending":[{"ident":{"names":["A"],"type":"QualifiedName"},"args":[],"type":"IdentType"}]}],"annotations":[],"type":"Model","imports":[]},"smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun instanceOfB!1 () Int\n  4)\n(define-fun instanceOfA!0 () Int\n  3)\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 0) 0\n  (ite (= x!1 3) 3\n    4)))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-A (mk-A 1))\n  (ite (= x!1 4) (lift-B (mk-B 1 2 25))\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)(r Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (ite (deref-is-A this) (a (deref-A this))\n  (a (deref-B this)))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B.a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B.b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; --- getters for B.r: ---\n\n(define-fun B!r ((this Ref)) Int\n  (r (deref-B this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.f ((this Ref)(x Int)) Int\n  (+ (A.a this)  x)\n)\n\n(define-fun A!f ((this Ref)(x Int)) Int\n  (+ (A!a this)  x)\n)\n\n(define-fun A.g ((this Ref)(x Int)) Int\n  (let ((k (+ (A.f this x) 1)))\n    (+ (+ (+ (A.a this)  (A.f this x)) k) 1))\n)\n\n(define-fun A!g ((this Ref)(x Int)) Int\n  (let ((k (+ (A!f this x) 1)))\n    (+ (+ (+ (A!a this)  (A!f this x)) k) 1))\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.f ((this Ref)(x Int)) Int\n  (+ (B.a this)  x)\n)\n\n(define-fun B!f ((this Ref)(x Int)) Int\n  (+ (B!a this)  x)\n)\n\n(define-fun B.g ((this Ref)(x Int)) Int\n  (let ((k (+ (B.f this x) 1)))\n    (+ (+ (+ (B.a this)  (B.f this x)) k) 1))\n)\n\n(define-fun B!g ((this Ref)(x Int)) Int\n  (let ((k (+ (B!f this x) 1)))\n    (+ (+ (+ (B!a this)  (B!f this x)) k) 1))\n)\n\n(define-fun B.h ((this Ref)(x Int)) Int\n  (let ((k1 (+ (B.a this)  (B.b this) )))\n    (let ((k2 (+ k1 x)))\n      (B.g this x)))\n)\n\n(define-fun B!h ((this Ref)(x Int)) Int\n  (let ((k1 (+ (B!a this)  (B!b this) )))\n    (let ((k2 (+ k1 x)))\n      (B!g this x)))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!a this) 1)\n    (= (B!b this) 2)\n    (= (B!r this) (B!h this 10))\n    (= (B!r this)  25)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (deref-is-TopLevelDeclarations 0))\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n\n"},"inheritance5.k":{"typeChecks":false,"model":"","name":"inheritance5.k","json2":"","json1":"","smtModel":"","smt":""}}