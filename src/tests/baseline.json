{"inheritance12.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"a","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[],"spec":[{"pre":"true","type":"FunSpec","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"NotEQ",{"type":"ElementValue","element":"a"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}}]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"b","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[],"spec":[{"pre":"true","type":"FunSpec","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GTE",{"type":"ElementValue","element":"a"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]}},{"pre":"true","type":"FunSpec","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"ElementValue","element":"x"},{"type":"ElementValue","element":"a"}]}},{"pre":"false","type":"FunSpec","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GTE",{"type":"Expression","operand":[{"type":"ResultExp","element":"ElementValue"}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]}}]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"c","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"a"},{"type":"ElementValue","element":"b"}]},{"type":"ElementValue","element":"c"}]},{"type":"ElementValue","element":"x"}]}}],"spec":[{"pre":"true","type":"FunSpec","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GTE",{"type":"ElementValue","element":"b"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]}},{"pre":"true","type":"FunSpec","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GTE",{"type":"ElementValue","element":"c"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]}},{"pre":"false","type":"FunSpec","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"Expression","operand":[{"type":"ResultExp","element":"ElementValue"}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]}}]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]}]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["C"],"type":"QualifiedName"}]},"name":"c","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"result","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"c"},"f"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"result"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},16]}]}}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"i":1,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[],"spec":[{"pre":"true","type":"FunSpec","exp":{"op":"NotEQ","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"}}]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"i":2,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[],"spec":[{"pre":"true","type":"FunSpec","exp":{"op":"GTE","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"}},{"pre":"true","type":"FunSpec","exp":{"op":"GT","exp2":{"ident":"a","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}},{"pre":"false","type":"FunSpec","exp":{"op":"GTE","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"type":"ResultExp"},"type":"BinExp"}}]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"c","expr":{"i":3,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"ident":"x","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"c","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"b","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"}}],"spec":[{"pre":"true","type":"FunSpec","exp":{"op":"GTE","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"ident":"b","type":"IdentExp"},"type":"BinExp"}},{"pre":"true","type":"FunSpec","exp":{"op":"GTE","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"ident":"c","type":"IdentExp"},"type":"BinExp"}},{"pre":"false","type":"FunSpec","exp":{"op":"GT","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"type":"ResultExp"},"type":"BinExp"}}]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"}]},{"ty":{"args":[],"ident":{"names":["C"],"type":"QualifiedName"},"type":"IdentType"},"name":"c","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"result","expr":{"args":[{"type":"PositionalArgument","exp":{"i":10,"type":"LiteralInteger"}}],"exp1":{"ident":"f","exp":{"ident":"c","type":"IdentExp"},"type":"DotExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":16,"type":"LiteralInteger"},"exp1":{"ident":"result","type":"IdentExp"},"type":"BinExp"}}],"type":"Model"},"typeChecks":true,"name":"inheritance12.k","model":"\nclass A {\n  a:Int = 1\n\n  fun f(x:Int) : Int\n    pre a != 1\n\n}\n\nclass B extending A {\n  b:Int = 2\n\n  fun f(x:Int) : Int\n    pre a >= 0\n    pre x > a\n    post $result >= 0\n\n}\n\nclass C extending B {\n  c:Int = 3\n\n  fun f(x:Int) : Int\n    pre b >= 0\n    pre c >= 0\n    post $result > 0\n  {\n    a + b + c + x\n  }\n}\n\nc:C\n\nresult:Int = c.f(10)\n\nreq result = 16\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (c Ref)(result Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C.a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.b: ---\n\n(define-fun C.b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n(define-fun C!b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.c: ---\n\n(define-fun TopLevelDeclarations!c ((this Ref)) Ref\n  (c (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.result: ---\n\n(define-fun TopLevelDeclarations!result ((this Ref)) Int\n  (result (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(declare-fun A.f (Ref Int) Int)\n\n(define-fun A!f ((this Ref)(x Int)) Int\n  (A.f this x)\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(declare-fun B.f (Ref Int) Int)\n\n(define-fun B!f ((this Ref)(x Int)) Int\n  (B.f this x)\n)\n\n(assert (forall ((this Ref)(x Int))\n  (let (($result (B!f this x)))\n    (=>\n      (and\n        (deref-is-B this)\n        (not (= (B!a this)  1))\n        (>= (B!a this)  0)\n        (> x (B!a this) )\n      )\n      (and\n        (>= $result 0)\n      )\n    )\n  )\n))\n\n; ------------------------\n;   Methods for class C:\n; ------------------------\n\n(define-fun C.f ((this Ref)(x Int)) Int\n  (+ (+ (+ (C.a this)  (C.b this) ) (C.c this) ) x)\n)\n\n(define-fun C!f ((this Ref)(x Int)) Int\n  (+ (+ (+ (C!a this)  (C!b this) ) (C!c this) ) x)\n)\n\n(assert (forall ((this Ref)(x Int))\n  (let (($result (C!f this x)))\n    (=>\n      (and\n        (deref-is-C this)\n        (not (= (C!a this)  1))\n        (>= (C!a this)  0)\n        (> x (C!a this) )\n        (>= (C!b this)  0)\n        (>= (C!c this)  0)\n      )\n      (and\n        (>= $result 0)\n        (> $result 0)\n      )\n    )\n  )\n))\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!a this) 1)\n    (= (B!b this) 2)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (C!a this) 1)\n    (= (C!b this) 2)\n    (= (C!c this) 3)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!result this) (C.f (TopLevelDeclarations!c this)  10))\n    (deref-isa-C (TopLevelDeclarations!c this))\n    (= (TopLevelDeclarations!result this)  16)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun instanceOfC!2 () Int\n  6)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfB!1 () Int\n  5)\n(define-fun instanceOfA!0 () Int\n  4)\n(define-fun k!3!6 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 7 16))\n  (ite (= x!1 4) (lift-A (mk-A 1))\n  (ite (= x!1 5) (lift-B (mk-B 1 2))\n    (lift-C (mk-C 1 2 3))))))\n(define-fun k!5 ((x!1 Int)) Int\n  (ite (= x!1 7) 7\n  (ite (= x!1 6) 6\n  (ite (= x!1 5) 5\n  (ite (= x!1 4) 4\n    0)))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!6 (k!5 x!1)))\n(define-fun B.f ((x!1 Int) (x!2 Int)) Int\n  0)"},"inheritance10.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"b","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"c","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"d","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"e","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"f","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"g","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["C"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"E","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["D"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"F","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["E"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"G","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["F"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"H","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["G"],"type":"QualifiedName"}]}]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["H"],"type":"QualifiedName"}]},"assignment":false,"name":"h","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"H"}]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"h"},"a"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"h"},"b"]}]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"h"},"c"]}]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"h"},"d"]}]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"h"},"e"]}]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"h"},"f"]}]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"h"},"g"]}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},90]}]}}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"b","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"c","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"d","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"e","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"f","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"g","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["C"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"E","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["D"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"F","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["E"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"G","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["F"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"H","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["G"],"type":"QualifiedName"},"type":"IdentType"}]},{"ty":{"args":[],"ident":{"names":["H"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"h","expr":{"args":[],"exp1":{"ident":"H","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":90,"type":"LiteralInteger"},"exp1":{"op":"Plus","exp2":{"ident":"g","exp":{"ident":"h","type":"IdentExp"},"type":"DotExp"},"exp1":{"op":"Plus","exp2":{"ident":"f","exp":{"ident":"h","type":"IdentExp"},"type":"DotExp"},"exp1":{"op":"Plus","exp2":{"ident":"e","exp":{"ident":"h","type":"IdentExp"},"type":"DotExp"},"exp1":{"op":"Plus","exp2":{"ident":"d","exp":{"ident":"h","type":"IdentExp"},"type":"DotExp"},"exp1":{"op":"Plus","exp2":{"ident":"c","exp":{"ident":"h","type":"IdentExp"},"type":"DotExp"},"exp1":{"op":"Plus","exp2":{"ident":"b","exp":{"ident":"h","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"a","exp":{"ident":"h","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"}}],"type":"Model"},"typeChecks":true,"name":"inheritance10.k","model":"\nclass A {\n  a:Int\n  b:Int\n  c:Int\n  d:Int\n  e:Int\n  f:Int\n  g:Int\n}\n\nclass B extending A\n\nclass C extending B\n\nclass D extending C\n\nclass E extending D\n\nclass F extending E\n\nclass G extending F\n\nclass H extending G\n\nh:H = H()\n\nreq h.a + h.b + h.c + h.d + h.e + h.f + h.g = 90\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((D (mk-D (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((E (mk-E (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((F (mk-F (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((G (mk-G (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((H (mk-H (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (h Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-E (sel-E E))\n  (lift-F (sel-F F))\n  (lift-G (sel-G G))\n  (lift-H (sel-H H))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-E ((this Ref)) Bool\n  (is-lift-E (deref this))\n)\n\n(define-fun deref-E ((this Ref)) E\n  (sel-E (deref this))\n)\n\n(define-fun deref-is-F ((this Ref)) Bool\n  (is-lift-F (deref this))\n)\n\n(define-fun deref-F ((this Ref)) F\n  (sel-F (deref this))\n)\n\n(define-fun deref-is-G ((this Ref)) Bool\n  (is-lift-G (deref this))\n)\n\n(define-fun deref-G ((this Ref)) G\n  (sel-G (deref this))\n)\n\n(define-fun deref-is-H ((this Ref)) Bool\n  (is-lift-H (deref this))\n)\n\n(define-fun deref-H ((this Ref)) H\n  (sel-H (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (or\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-E ((this Ref)) Bool\n  (or\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-F ((this Ref)) Bool\n  (or\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-G ((this Ref)) Bool\n  (or\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-H ((this Ref)) Bool\n  (deref-is-H this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class H:\n; ------------------------\n\n; --- getters for H.a: ---\n\n(define-fun H.a ((this Ref)) Int\n  (a (deref-H this))\n)\n\n; --- getters for H.b: ---\n\n(define-fun H.b ((this Ref)) Int\n  (b (deref-H this))\n)\n\n; --- getters for H.c: ---\n\n(define-fun H.c ((this Ref)) Int\n  (c (deref-H this))\n)\n\n; --- getters for H.d: ---\n\n(define-fun H.d ((this Ref)) Int\n  (d (deref-H this))\n)\n\n; --- getters for H.e: ---\n\n(define-fun H.e ((this Ref)) Int\n  (e (deref-H this))\n)\n\n; --- getters for H.f: ---\n\n(define-fun H.f ((this Ref)) Int\n  (f (deref-H this))\n)\n\n; --- getters for H.g: ---\n\n(define-fun H.g ((this Ref)) Int\n  (g (deref-H this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.h: ---\n\n(define-fun TopLevelDeclarations!h ((this Ref)) Ref\n  (h (deref-TopLevelDeclarations this))\n)\n\n; ========================================\n; === Constructor parameter constants: ===\n; ========================================\n\n(declare-const const__1 Int)\n(declare-const const__2 Int)\n(declare-const const__3 Int)\n(declare-const const__4 Int)\n(declare-const const__5 Int)\n(declare-const const__6 Int)\n(declare-const const__7 Int)\n\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; --------------------------\n;   Invariant for class E:\n; --------------------------\n\n(define-fun E.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-E this) (E.inv this))\n))\n\n; --------------------------\n;   Invariant for class F:\n; --------------------------\n\n(define-fun F.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-F this) (F.inv this))\n))\n\n; --------------------------\n;   Invariant for class G:\n; --------------------------\n\n(define-fun G.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-G this) (G.inv this))\n))\n\n; --------------------------\n;   Invariant for class H:\n; --------------------------\n\n(define-fun H.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-H this) (H.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!h this)) (lift-H (mk-H const__1 const__2 const__3 const__4 const__5 const__6 const__7)))\n    (deref-isa-H (TopLevelDeclarations!h this))\n    (= (+ (+ (+ (+ (+ (+ (H.a (TopLevelDeclarations!h this) ) (H.b (TopLevelDeclarations!h this) )) (H.c (TopLevelDeclarations!h this) )) (H.d (TopLevelDeclarations!h this) )) (H.e (TopLevelDeclarations!h this) )) (H.f (TopLevelDeclarations!h this) )) (H.g (TopLevelDeclarations!h this) )) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (exists ((instanceOfE Ref)) (deref-is-E instanceOfE)))\n(assert (exists ((instanceOfF Ref)) (deref-is-F instanceOfF)))\n(assert (exists ((instanceOfG Ref)) (deref-is-G instanceOfG)))\n(assert (exists ((instanceOfH Ref)) (deref-is-H instanceOfH)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun const__5 () Int\n  (- 25566))\n(define-fun instanceOfD!3 () Int\n  4)\n(define-fun const__3 () Int\n  8365)\n(define-fun instanceOfG!6 () Int\n  7)\n(define-fun instanceOfH!7 () Int\n  8)\n(define-fun instanceOfF!5 () Int\n  6)\n(define-fun const__2 () Int\n  8098)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun const__4 () Int\n  2282)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!8))\n(define-fun const__6 () Int\n  449)\n(define-fun const__7 () Int\n  609)\n(define-fun instanceOfE!4 () Int\n  5)\n(define-fun instanceOfC!2 () Int\n  3)\n(define-fun instanceOfB!1 () Int\n  2)\n(define-fun const__1 () Int\n  5853)\n(define-fun k!8!10 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-C (mk-C 23 24 25 26 27 28 29))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 65))\n  (ite (= x!1 4) (lift-D (mk-D 30 31 32 33 34 35 36))\n  (ite (= x!1 8) (lift-H (mk-H 58 59 60 61 62 63 64))\n  (ite (= x!1 65) (lift-H (mk-H 5853 8098 8365 2282 (- 25566) 449 609))\n  (ite (= x!1 6) (lift-F (mk-F 44 45 46 47 48 49 50))\n  (ite (= x!1 5) (lift-E (mk-E 37 38 39 40 41 42 43))\n  (ite (= x!1 1) (lift-A (mk-A 9 10 11 12 13 14 15))\n  (ite (= x!1 2) (lift-B (mk-B 16 17 18 19 20 21 22))\n    (lift-G (mk-G 51 52 53 54 55 56 57))))))))))))\n(define-fun k!9 ((x!1 Int)) Int\n  (ite (= x!1 8) 8\n  (ite (= x!1 65) 65\n  (ite (= x!1 4) 4\n  (ite (= x!1 0) 0\n  (ite (= x!1 7) 7\n  (ite (= x!1 3) 3\n  (ite (= x!1 6) 6\n  (ite (= x!1 5) 5\n  (ite (= x!1 2) 2\n    1))))))))))\n(define-fun k!8 ((x!1 Int)) Any\n  (k!8!10 (k!9 x!1)))"},"inheritance11.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"b","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"c","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"d","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"e","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"f","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"g","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"a"},{"type":"ElementValue","element":"b"}]},{"type":"ElementValue","element":"c"}]},{"type":"ElementValue","element":"d"}]},{"type":"ElementValue","element":"e"}]},{"type":"ElementValue","element":"f"}]},{"type":"ElementValue","element":"g"}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},90]}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["C"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"E","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["D"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"F","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["E"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"G","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["F"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"H","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["G"],"type":"QualifiedName"}]}]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"name":"objectA","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"TypeCastCheckExp","element":"ElementValue"},"false",{"type":"ElementValue","element":"objectA"},{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["H"],"type":"QualifiedName"}]}]}}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"b","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"c","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"d","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"e","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"f","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"g","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":90,"type":"LiteralInteger"},"exp1":{"op":"Plus","exp2":{"ident":"g","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"f","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"e","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"d","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"c","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"b","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["C"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"E","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["D"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"F","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["E"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"G","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["F"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"H","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["G"],"type":"QualifiedName"},"type":"IdentType"}]},{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"name":"objectA","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"cast":"false","ty":{"args":[],"ident":{"names":["H"],"type":"QualifiedName"},"type":"IdentType"},"type":"TypeCastCheckExp","exp":{"ident":"objectA","type":"IdentExp"}}}],"type":"Model"},"typeChecks":true,"name":"inheritance11.k","model":"\nclass A {\n  a:Int\n  b:Int\n  c:Int\n  d:Int\n  e:Int\n  f:Int\n  g:Int\n\n  req a + b + c + d + e + f + g = 90\n}\n\nclass B extending A\n\nclass C extending B\n\nclass D extending C\n\nclass E extending D\n\nclass F extending E\n\nclass G extending F\n\nclass H extending G\n\nobjectA:A\n\nreq objectA is H\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((D (mk-D (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((E (mk-E (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((F (mk-F (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((G (mk-G (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((H (mk-H (a Int)(b Int)(c Int)(d Int)(e Int)(f Int)(g Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (objectA Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-E (sel-E E))\n  (lift-F (sel-F F))\n  (lift-G (sel-G G))\n  (lift-H (sel-H H))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-E ((this Ref)) Bool\n  (is-lift-E (deref this))\n)\n\n(define-fun deref-E ((this Ref)) E\n  (sel-E (deref this))\n)\n\n(define-fun deref-is-F ((this Ref)) Bool\n  (is-lift-F (deref this))\n)\n\n(define-fun deref-F ((this Ref)) F\n  (sel-F (deref this))\n)\n\n(define-fun deref-is-G ((this Ref)) Bool\n  (is-lift-G (deref this))\n)\n\n(define-fun deref-G ((this Ref)) G\n  (sel-G (deref this))\n)\n\n(define-fun deref-is-H ((this Ref)) Bool\n  (is-lift-H (deref this))\n)\n\n(define-fun deref-H ((this Ref)) H\n  (sel-H (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (or\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-E ((this Ref)) Bool\n  (or\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-F ((this Ref)) Bool\n  (or\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-G ((this Ref)) Bool\n  (or\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-H ((this Ref)) Bool\n  (deref-is-H this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; --- getters for A.b: ---\n\n(define-fun A!b ((this Ref)) Int\n  (b (deref-A this))\n)\n\n; --- getters for A.c: ---\n\n(define-fun A!c ((this Ref)) Int\n  (c (deref-A this))\n)\n\n; --- getters for A.d: ---\n\n(define-fun A!d ((this Ref)) Int\n  (d (deref-A this))\n)\n\n; --- getters for A.e: ---\n\n(define-fun A!e ((this Ref)) Int\n  (e (deref-A this))\n)\n\n; --- getters for A.f: ---\n\n(define-fun A!f ((this Ref)) Int\n  (f (deref-A this))\n)\n\n; --- getters for A.g: ---\n\n(define-fun A!g ((this Ref)) Int\n  (g (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; --- getters for B.c: ---\n\n(define-fun B!c ((this Ref)) Int\n  (c (deref-B this))\n)\n\n; --- getters for B.d: ---\n\n(define-fun B!d ((this Ref)) Int\n  (d (deref-B this))\n)\n\n; --- getters for B.e: ---\n\n(define-fun B!e ((this Ref)) Int\n  (e (deref-B this))\n)\n\n; --- getters for B.f: ---\n\n(define-fun B!f ((this Ref)) Int\n  (f (deref-B this))\n)\n\n; --- getters for B.g: ---\n\n(define-fun B!g ((this Ref)) Int\n  (g (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.b: ---\n\n(define-fun C!b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; --- getters for C.d: ---\n\n(define-fun C!d ((this Ref)) Int\n  (d (deref-C this))\n)\n\n; --- getters for C.e: ---\n\n(define-fun C!e ((this Ref)) Int\n  (e (deref-C this))\n)\n\n; --- getters for C.f: ---\n\n(define-fun C!f ((this Ref)) Int\n  (f (deref-C this))\n)\n\n; --- getters for C.g: ---\n\n(define-fun C!g ((this Ref)) Int\n  (g (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.a: ---\n\n(define-fun D!a ((this Ref)) Int\n  (a (deref-D this))\n)\n\n; --- getters for D.b: ---\n\n(define-fun D!b ((this Ref)) Int\n  (b (deref-D this))\n)\n\n; --- getters for D.c: ---\n\n(define-fun D!c ((this Ref)) Int\n  (c (deref-D this))\n)\n\n; --- getters for D.d: ---\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; --- getters for D.e: ---\n\n(define-fun D!e ((this Ref)) Int\n  (e (deref-D this))\n)\n\n; --- getters for D.f: ---\n\n(define-fun D!f ((this Ref)) Int\n  (f (deref-D this))\n)\n\n; --- getters for D.g: ---\n\n(define-fun D!g ((this Ref)) Int\n  (g (deref-D this))\n)\n\n; ------------------------\n;   Getters for class E:\n; ------------------------\n\n; --- getters for E.a: ---\n\n(define-fun E!a ((this Ref)) Int\n  (a (deref-E this))\n)\n\n; --- getters for E.b: ---\n\n(define-fun E!b ((this Ref)) Int\n  (b (deref-E this))\n)\n\n; --- getters for E.c: ---\n\n(define-fun E!c ((this Ref)) Int\n  (c (deref-E this))\n)\n\n; --- getters for E.d: ---\n\n(define-fun E!d ((this Ref)) Int\n  (d (deref-E this))\n)\n\n; --- getters for E.e: ---\n\n(define-fun E!e ((this Ref)) Int\n  (e (deref-E this))\n)\n\n; --- getters for E.f: ---\n\n(define-fun E!f ((this Ref)) Int\n  (f (deref-E this))\n)\n\n; --- getters for E.g: ---\n\n(define-fun E!g ((this Ref)) Int\n  (g (deref-E this))\n)\n\n; ------------------------\n;   Getters for class F:\n; ------------------------\n\n; --- getters for F.a: ---\n\n(define-fun F!a ((this Ref)) Int\n  (a (deref-F this))\n)\n\n; --- getters for F.b: ---\n\n(define-fun F!b ((this Ref)) Int\n  (b (deref-F this))\n)\n\n; --- getters for F.c: ---\n\n(define-fun F!c ((this Ref)) Int\n  (c (deref-F this))\n)\n\n; --- getters for F.d: ---\n\n(define-fun F!d ((this Ref)) Int\n  (d (deref-F this))\n)\n\n; --- getters for F.e: ---\n\n(define-fun F!e ((this Ref)) Int\n  (e (deref-F this))\n)\n\n; --- getters for F.f: ---\n\n(define-fun F!f ((this Ref)) Int\n  (f (deref-F this))\n)\n\n; --- getters for F.g: ---\n\n(define-fun F!g ((this Ref)) Int\n  (g (deref-F this))\n)\n\n; ------------------------\n;   Getters for class G:\n; ------------------------\n\n; --- getters for G.a: ---\n\n(define-fun G!a ((this Ref)) Int\n  (a (deref-G this))\n)\n\n; --- getters for G.b: ---\n\n(define-fun G!b ((this Ref)) Int\n  (b (deref-G this))\n)\n\n; --- getters for G.c: ---\n\n(define-fun G!c ((this Ref)) Int\n  (c (deref-G this))\n)\n\n; --- getters for G.d: ---\n\n(define-fun G!d ((this Ref)) Int\n  (d (deref-G this))\n)\n\n; --- getters for G.e: ---\n\n(define-fun G!e ((this Ref)) Int\n  (e (deref-G this))\n)\n\n; --- getters for G.f: ---\n\n(define-fun G!f ((this Ref)) Int\n  (f (deref-G this))\n)\n\n; --- getters for G.g: ---\n\n(define-fun G!g ((this Ref)) Int\n  (g (deref-G this))\n)\n\n; ------------------------\n;   Getters for class H:\n; ------------------------\n\n; --- getters for H.a: ---\n\n(define-fun H.a ((this Ref)) Int\n  (a (deref-H this))\n)\n\n(define-fun H!a ((this Ref)) Int\n  (a (deref-H this))\n)\n\n; --- getters for H.b: ---\n\n(define-fun H.b ((this Ref)) Int\n  (b (deref-H this))\n)\n\n(define-fun H!b ((this Ref)) Int\n  (b (deref-H this))\n)\n\n; --- getters for H.c: ---\n\n(define-fun H.c ((this Ref)) Int\n  (c (deref-H this))\n)\n\n(define-fun H!c ((this Ref)) Int\n  (c (deref-H this))\n)\n\n; --- getters for H.d: ---\n\n(define-fun H.d ((this Ref)) Int\n  (d (deref-H this))\n)\n\n(define-fun H!d ((this Ref)) Int\n  (d (deref-H this))\n)\n\n; --- getters for H.e: ---\n\n(define-fun H.e ((this Ref)) Int\n  (e (deref-H this))\n)\n\n(define-fun H!e ((this Ref)) Int\n  (e (deref-H this))\n)\n\n; --- getters for H.f: ---\n\n(define-fun H.f ((this Ref)) Int\n  (f (deref-H this))\n)\n\n(define-fun H!f ((this Ref)) Int\n  (f (deref-H this))\n)\n\n; --- getters for H.g: ---\n\n(define-fun H.g ((this Ref)) Int\n  (g (deref-H this))\n)\n\n(define-fun H!g ((this Ref)) Int\n  (g (deref-H this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.objectA: ---\n\n(define-fun TopLevelDeclarations!objectA ((this Ref)) Ref\n  (objectA (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (A!a this)  (A!b this) ) (A!c this) ) (A!d this) ) (A!e this) ) (A!f this) ) (A!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (B!a this)  (B!b this) ) (B!c this) ) (B!d this) ) (B!e this) ) (B!f this) ) (B!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (C!a this)  (C!b this) ) (C!c this) ) (C!d this) ) (C!e this) ) (C!f this) ) (C!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (D!a this)  (D!b this) ) (D!c this) ) (D!d this) ) (D!e this) ) (D!f this) ) (D!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; --------------------------\n;   Invariant for class E:\n; --------------------------\n\n(define-fun E.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (E!a this)  (E!b this) ) (E!c this) ) (E!d this) ) (E!e this) ) (E!f this) ) (E!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-E this) (E.inv this))\n))\n\n; --------------------------\n;   Invariant for class F:\n; --------------------------\n\n(define-fun F.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (F!a this)  (F!b this) ) (F!c this) ) (F!d this) ) (F!e this) ) (F!f this) ) (F!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-F this) (F.inv this))\n))\n\n; --------------------------\n;   Invariant for class G:\n; --------------------------\n\n(define-fun G.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (G!a this)  (G!b this) ) (G!c this) ) (G!d this) ) (G!e this) ) (G!f this) ) (G!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-G this) (G.inv this))\n))\n\n; --------------------------\n;   Invariant for class H:\n; --------------------------\n\n(define-fun H.inv ((this Ref)) Bool\n  (and\n    (= (+ (+ (+ (+ (+ (+ (H!a this)  (H!b this) ) (H!c this) ) (H!d this) ) (H!e this) ) (H!f this) ) (H!g this) ) 90)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-H this) (H.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-A (TopLevelDeclarations!objectA this))\n    (deref-isa-H (TopLevelDeclarations!objectA this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (exists ((instanceOfE Ref)) (deref-is-E instanceOfE)))\n(assert (exists ((instanceOfF Ref)) (deref-is-F instanceOfF)))\n(assert (exists ((instanceOfG Ref)) (deref-is-G instanceOfG)))\n(assert (exists ((instanceOfH Ref)) (deref-is-H instanceOfH)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun instanceOfB!1 () Int\n  2)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun instanceOfH!7 () Int\n  8)\n(define-fun instanceOfD!3 () Int\n  4)\n(define-fun instanceOfG!6 () Int\n  7)\n(define-fun instanceOfE!4 () Int\n  5)\n(define-fun instanceOfF!5 () Int\n  6)\n(define-fun instanceOfC!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!8))\n(define-fun k!8!10 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-C (mk-C (- 28971) 6702 5598 4770 4096 3212 4683))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 9))\n  (ite (= x!1 4) (lift-D (mk-D 6672 7373 5941 2747 (- 39515) 8869 8003))\n  (ite (= x!1 9) (lift-H (mk-H 6811 (- 26401) 2061 3565 5189 119 8746))\n  (ite (= x!1 8) (lift-H (mk-H 4921 (- 26828) 3634 5618 5725 2699 4321))\n  (ite (= x!1 6) (lift-F (mk-F 1391 334 531 (- 15739) 6019 1573 5981))\n  (ite (= x!1 5) (lift-E (mk-E 239 3502 4186 1818 (- 21394) 2804 8935))\n  (ite (= x!1 1) (lift-A (mk-A (- 27042) 4386 2328 7176 1648 2331 9263))\n  (ite (= x!1 2) (lift-B (mk-B (- 26462) 4135 6926 1102 1650 8404 4335))\n    (lift-G (mk-G 7567 624 7065 (- 24395) 2829 4165 2235))))))))))))\n(define-fun k!9 ((x!1 Int)) Int\n  (ite (= x!1 8) 8\n  (ite (= x!1 9) 9\n  (ite (= x!1 4) 4\n  (ite (= x!1 0) 0\n  (ite (= x!1 7) 7\n  (ite (= x!1 3) 3\n  (ite (= x!1 6) 6\n  (ite (= x!1 5) 5\n  (ite (= x!1 2) 2\n    1))))))))))\n(define-fun k!8 ((x!1 Int)) Any\n  (k!8!10 (k!9 x!1)))"},"tc1.k":{"json2":"","json1":"","typeChecks":false,"name":"tc1.k","model":"","smt":"","smtModel":""},"testsmt2.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Duration","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"t1","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"t2","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]},"ident":"before","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Duration"],"type":"QualifiedName"}]},"name":"other","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"t2"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"other"},"t1"]}]}}],"spec":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"t1"},{"type":"ElementValue","element":"t2"}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Event","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Duration"],"type":"QualifiedName"}]},"name":"duration","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"min","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GTE",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Minus",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"duration"},"t2"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"duration"},"t1"]}]},{"type":"ElementValue","element":"min"}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"b","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"a"},"min"]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"b"},"min"]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},20]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"a"},"duration"]},"before"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"b"},"duration"]}]}]}}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Duration","members":[{"ty":{"type":"IntType"},"name":"t1","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"t2","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"BoolType"},"ident":"before","typeParams":[],"type":"FunDecl","params":[{"ty":{"args":[],"ident":{"names":["Duration"],"type":"QualifiedName"},"type":"IdentType"},"name":"other","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"LT","exp2":{"ident":"t1","exp":{"ident":"other","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"t2","type":"IdentExp"},"type":"BinExp"}}],"spec":[]},{"type":"ConstraintDecl","exp":{"op":"LT","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"ident":"t1","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Event","members":[{"ty":{"args":[],"ident":{"names":["Duration"],"type":"QualifiedName"},"type":"IdentType"},"name":"duration","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"min","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"GTE","exp2":{"ident":"min","type":"IdentExp"},"exp1":{"op":"Minus","exp2":{"ident":"t1","exp":{"ident":"duration","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"t2","exp":{"ident":"duration","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"b","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":10,"type":"LiteralInteger"},"exp1":{"ident":"min","exp":{"ident":"a","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":20,"type":"LiteralInteger"},"exp1":{"ident":"min","exp":{"ident":"b","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"ident":"duration","exp":{"ident":"b","type":"IdentExp"},"type":"DotExp"}}],"exp1":{"ident":"before","exp":{"ident":"duration","exp":{"ident":"a","type":"IdentExp"},"type":"DotExp"},"type":"DotExp"},"type":"FunApplExp"}}],"type":"Model"},"typeChecks":true,"name":"testsmt2.k","model":"\nclass Duration {\n  t1:Int\n  t2:Int\n\n  fun before(other:Duration) : Bool\n  {\n    t2 < other.t1\n  }\n\n  req t1 < t2\n}\n\nclass Event {\n  duration:Duration\n  min:Int\n\n  req duration.t2 - duration.t1 >= min\n}\n\na:Event\n\nb:Event\n\nreq a.min = 10\n\nreq b.min = 20\n\nreq a.duration.before(b.duration)\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((Duration (mk-Duration (t1 Int)(t2 Int)))))\n(declare-datatypes () ((Event (mk-Event (duration Ref)(min Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (a Ref)(b Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-Duration (sel-Duration Duration))\n  (lift-Event (sel-Event Event))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-Duration ((this Ref)) Bool\n  (is-lift-Duration (deref this))\n)\n\n(define-fun deref-Duration ((this Ref)) Duration\n  (sel-Duration (deref this))\n)\n\n(define-fun deref-is-Event ((this Ref)) Bool\n  (is-lift-Event (deref this))\n)\n\n(define-fun deref-Event ((this Ref)) Event\n  (sel-Event (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-Duration ((this Ref)) Bool\n  (deref-is-Duration this)\n)\n\n(define-fun deref-isa-Event ((this Ref)) Bool\n  (deref-is-Event this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------\n;   Getters for class Duration:\n; -------------------------------\n\n; --- getters for Duration.t1: ---\n\n(define-fun Duration.t1 ((this Ref)) Int\n  (t1 (deref-Duration this))\n)\n\n(define-fun Duration!t1 ((this Ref)) Int\n  (t1 (deref-Duration this))\n)\n\n; --- getters for Duration.t2: ---\n\n(define-fun Duration.t2 ((this Ref)) Int\n  (t2 (deref-Duration this))\n)\n\n(define-fun Duration!t2 ((this Ref)) Int\n  (t2 (deref-Duration this))\n)\n\n; ----------------------------\n;   Getters for class Event:\n; ----------------------------\n\n; --- getters for Event.duration: ---\n\n(define-fun Event.duration ((this Ref)) Ref\n  (duration (deref-Event this))\n)\n\n(define-fun Event!duration ((this Ref)) Ref\n  (duration (deref-Event this))\n)\n\n; --- getters for Event.min: ---\n\n(define-fun Event.min ((this Ref)) Int\n  (min (deref-Event this))\n)\n\n(define-fun Event!min ((this Ref)) Int\n  (min (deref-Event this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.a: ---\n\n(define-fun TopLevelDeclarations!a ((this Ref)) Ref\n  (a (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.b: ---\n\n(define-fun TopLevelDeclarations!b ((this Ref)) Ref\n  (b (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------\n;   Methods for class Duration:\n; -------------------------------\n\n(define-fun Duration.before ((this Ref)(other Ref)) Bool\n  (< (Duration.t2 this)  (Duration.t1 other))\n)\n\n(define-fun Duration!before ((this Ref)(other Ref)) Bool\n  (< (Duration!t2 this)  (Duration.t1 other))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ---------------------------------\n;   Invariant for class Duration:\n; ---------------------------------\n\n(define-fun Duration.inv ((this Ref)) Bool\n  (and\n    (< (Duration!t1 this)  (Duration!t2 this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Duration this) (Duration.inv this))\n))\n\n; ------------------------------\n;   Invariant for class Event:\n; ------------------------------\n\n(define-fun Event.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Duration (Event!duration this))\n    (>= (- (Duration.t2 (Event!duration this) ) (Duration.t1 (Event!duration this) )) (Event!min this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Event this) (Event.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Event (TopLevelDeclarations!a this))\n    (deref-isa-Event (TopLevelDeclarations!b this))\n    (= (Event.min (TopLevelDeclarations!a this) ) 10)\n    (= (Event.min (TopLevelDeclarations!b this) ) 20)\n    (Duration.before (Event.duration (TopLevelDeclarations!a this) ) (Event.duration (TopLevelDeclarations!b this) ))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfDuration Ref)) (deref-is-Duration instanceOfDuration)))\n(assert (exists ((instanceOfEvent Ref)) (deref-is-Event instanceOfEvent)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun instanceOfDuration!0 () Int\n  2)\n(define-fun instanceOfEvent!1 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 3) 3\n  (ite (= x!1 14) 14\n  (ite (= x!1 4) 4\n  (ite (= x!1 0) 0\n  (ite (= x!1 6) 6\n  (ite (= x!1 5) 5\n  (ite (= x!1 13) 13\n    2))))))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 13) (lift-Duration (mk-Duration 8366 8386))\n  (ite (= x!1 4) (lift-Duration (mk-Duration 8854 8855))\n  (ite (= x!1 2) (lift-Duration (mk-Duration 449 450))\n  (ite (= x!1 3) (lift-Event (mk-Event 4 (- 1795)))\n  (ite (= x!1 5) (lift-Event (mk-Event 14 10))\n  (ite (= x!1 6) (lift-Event (mk-Event 13 20))\n  (ite (= x!1 14) (lift-Duration (mk-Duration 8355 8365))\n    (lift-TopLevelDeclarations (mk-TopLevelDeclarations 5 6))))))))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))"},"testsmt1.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"y","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"CartesianType","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]}]},"name":"z","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"z"},{"type":"Expression","operand":[{"type":"TupleExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]},{"type":"Expression","operand":[{"type":"BooleanLiteral","element":"ElementValue"},true]}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"TupleIndex",{"type":"ElementValue","element":"z"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"TupleIndex",{"type":"ElementValue","element":"z"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]}]}]}},{"ty":{"type":"Expression","operand":[{"type":"CartesianType","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]}]},"ident":"f","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"TupleExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]},{"type":"Expression","operand":[{"type":"BooleanLiteral","element":"ElementValue"},true]}]}}],"spec":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},20]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"QuantifiedExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"Exists","element":"ElementValue"}]},{"bindings":[{"type":"Expression","operand":[{"type":"RngBinding","element":"ElementValue"},{"type":"Expression","operand":[{"type":"TypeCollection","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]}]},{"type":"Expression","operand":[{"type":"IdentPattern","element":"ElementValue"},"i"]}]}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"ElementValue","element":"i"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"x"},{"type":"ElementValue","element":"i"}]},{"type":"ElementValue","element":"y"}]}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"TupleIndex",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"f"}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]},"name":"sat","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"z","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"name":"a","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LTE",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"a"},"x"]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},22]}]}},{"type":"ConstraintDecl","exp":{"type":"ElementValue","element":"sat"}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Implies",{"type":"Expression","operand":[{"type":"UnaryExp","element":"ElementValue"},"Not",{"type":"ElementValue","element":"sat"}]},{"type":"Expression","operand":[{"type":"ParenExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"z"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"a"},"x"]}]}]}]}},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"g","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"l","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"l"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"g"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"k"}]}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}}],"spec":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LTE",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"f"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"z"}]}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},22]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"NotEQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"a"},"x"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"a"},"y"]}]}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"x","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"y","type":"PropertyDecl","modifiers":[]},{"ty":{"types":[{"type":"IntType"},{"type":"BoolType"}],"type":"CartesianType"},"name":"z","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"exps":[{"i":1,"type":"LiteralInteger"},{"b":true,"type":"LiteralBoolean"}],"type":"TupleExp"},"exp1":{"ident":"z","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"And","exp2":{"op":"TupleIndex","exp2":{"i":2,"type":"LiteralInteger"},"exp1":{"ident":"z","type":"IdentExp"},"type":"BinExp"},"exp1":{"op":"EQ","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"op":"TupleIndex","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"z","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"}},{"ty":{"types":[{"type":"IntType"},{"type":"BoolType"}],"type":"CartesianType"},"ident":"f","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"exps":[{"i":1,"type":"LiteralInteger"},{"b":true,"type":"LiteralBoolean"}],"type":"TupleExp"}}],"spec":[]},{"type":"ConstraintDecl","exp":{"op":"GT","exp2":{"i":20,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"bindings":[{"patterns":[{"ident":"i","type":"IdentPattern"}],"collection":{"ty":{"type":"IntType"},"type":"TypeCollection"},"type":"RngBinding"}],"quant":{"type":"Quantifier","element":"Exists"},"exp":{"op":"And","exp2":{"op":"EQ","exp2":{"ident":"y","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"i","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"},"exp1":{"op":"GT","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"ident":"i","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"},"type":"QuantifiedExp"}},{"type":"ConstraintDecl","exp":{"op":"TupleIndex","exp2":{"i":2,"type":"LiteralInteger"},"exp1":{"args":[],"exp1":{"ident":"f","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"BoolType"},"name":"sat","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"z","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"name":"a","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"LTE","exp2":{"i":22,"type":"LiteralInteger"},"exp1":{"ident":"x","exp":{"ident":"a","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"ident":"sat","type":"IdentExp"}},{"type":"ConstraintDecl","exp":{"op":"Implies","exp2":{"exp":{"op":"EQ","exp2":{"ident":"x","exp":{"ident":"a","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"z","type":"IdentExp"},"type":"BinExp"},"type":"ParenExp"},"exp1":{"op":"Not","exp":{"ident":"sat","type":"IdentExp"},"type":"UnaryExp"},"type":"BinExp"}},{"ty":{"type":"IntType"},"ident":"g","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"l","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"l","type":"IdentExp"},"type":"BinExp"}}],"spec":[]},{"ty":{"type":"IntType"},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"args":[{"type":"PositionalArgument","exp":{"ident":"k","type":"IdentExp"}}],"exp1":{"ident":"g","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"}}],"spec":[]},{"type":"ConstraintDecl","exp":{"op":"LTE","exp2":{"i":22,"type":"LiteralInteger"},"exp1":{"args":[{"type":"PositionalArgument","exp":{"ident":"z","type":"IdentExp"}}],"exp1":{"ident":"f","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"NotEQ","exp2":{"ident":"y","exp":{"ident":"a","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"x","exp":{"ident":"a","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt1.k","model":"\nclass A {\n  x:Int\n  y:Int\n  z:Int * Bool\n\n  req z = Tuple(1,true)\n\n  req z # 1 = 1 && z # 2\n\n  fun f : Int * Bool\n  {\n    Tuple(1,true)\n  }\n\n  req x > 20\n\n  req exists i : Int . i > 0 && x + i = y\n\n  req f() # 2\n}\n\nclass B {\n  sat:Bool\n  z:Int\n  a:A\n\n  req a.x <= 22\n\n  req sat\n\n  req !sat => (z = a.x)\n\n  fun g(l:Int) : Int\n  {\n    l + 1\n  }\n\n  fun f(k:Int) : Int\n  {\n    g(k) + 1\n  }\n\n  req f(z) <= 22\n\n  req a.x != a.y\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (x Int)(y Int)(z (Tuple2 Int Bool))))))\n(declare-datatypes () ((B (mk-B (sat Bool)(z Int)(a Ref)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; --- getters for A.y: ---\n\n(define-fun A.y ((this Ref)) Int\n  (y (deref-A this))\n)\n\n(define-fun A!y ((this Ref)) Int\n  (y (deref-A this))\n)\n\n; --- getters for A.z: ---\n\n(define-fun A!z ((this Ref)) (Tuple2 Int Bool)\n  (z (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.sat: ---\n\n(define-fun B!sat ((this Ref)) Bool\n  (sat (deref-B this))\n)\n\n; --- getters for B.z: ---\n\n(define-fun B!z ((this Ref)) Int\n  (z (deref-B this))\n)\n\n; --- getters for B.a: ---\n\n(define-fun B!a ((this Ref)) Ref\n  (a (deref-B this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.f ((this Ref)) (Tuple2 Int Bool)\n  (mk-Tuple2 1 true)\n)\n\n(define-fun A!f ((this Ref)) (Tuple2 Int Bool)\n  (mk-Tuple2 1 true)\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.g ((this Ref)(l Int)) Int\n  (+ l 1)\n)\n\n(define-fun B!g ((this Ref)(l Int)) Int\n  (+ l 1)\n)\n\n(define-fun B.f ((this Ref)(k Int)) Int\n  (+ (B.g this k) 1)\n)\n\n(define-fun B!f ((this Ref)(k Int)) Int\n  (+ (B!g this k) 1)\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!z this)  (mk-Tuple2 1 true))\n    (and (= (_1 (A!z this) ) 1) (_2 (A!z this) ))\n    (> (A!x this)  20)\n    (exists ((i Int)) (and (> i 0) (= (+ (A!x this)  i) (A!y this) )))\n    (_2 (A!f this ))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (deref-isa-A (B!a this))\n    (<= (A.x (B!a this) ) 22)\n    (B!sat this) \n    (=> (not (B!sat this) ) (= (B!z this)  (A.x (B!a this) )))\n    (<= (B!f this (B!z this) ) 22)\n    (not (= (A.x (B!a this) ) (A.y (B!a this) )))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfB!2 () Int\n  3)\n(define-fun instanceOfA!1 () Int\n  2)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-B (mk-B true (- 18) 4))\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 4) (lift-A (mk-A 21 1258 (mk-Tuple2 1 true)))\n    (lift-A (mk-A 7740 7741 (mk-Tuple2 1 true)))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 4) 4\n  (ite (= x!1 3) 3\n  (ite (= x!1 2) 2\n    0))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))\n(define-fun i!0!6 ((x!1 Int)) Int\n  (ite (= x!1 4) 1237\n    1))\n(define-fun i!0 ((x!1 Int)) Int\n  (i!0!6 (k!4 x!1)))"},"is.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Fruit","members":[{"ty":{"type":"Expression","operand":[{"type":"RealType","element":"ElementValue"}]},"name":"mass","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"CitrusFruit","members":[{"ty":{"type":"Expression","operand":[{"type":"RealType","element":"ElementValue"}]},"name":"vitC","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Fruit"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"Legume","members":[{"ty":{"type":"Expression","operand":[{"type":"RealType","element":"ElementValue"}]},"name":"protein","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Fruit"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"Berry","members":[],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Fruit"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"SeedyFruit","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"seeds","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Fruit"],"type":"QualifiedName"}]},{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["CitrusFruit"],"type":"QualifiedName"}]}]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["CitrusFruit"],"type":"QualifiedName"}]},"name":"apple","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Legume"],"type":"QualifiedName"}]},"name":"peanut","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"TypeCastCheckExp","element":"ElementValue"},"false",{"type":"ElementValue","element":"apple"},{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["SeedyFruit"],"type":"QualifiedName"}]}]}}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Fruit","members":[{"ty":{"type":"RealType"},"name":"mass","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"CitrusFruit","members":[{"ty":{"type":"RealType"},"name":"vitC","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["Fruit"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"Legume","members":[{"ty":{"type":"RealType"},"name":"protein","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["Fruit"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"Berry","members":[],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["Fruit"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"SeedyFruit","members":[{"ty":{"type":"IntType"},"name":"seeds","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["Fruit"],"type":"QualifiedName"},"type":"IdentType"},{"args":[],"ident":{"names":["CitrusFruit"],"type":"QualifiedName"},"type":"IdentType"}]},{"ty":{"args":[],"ident":{"names":["CitrusFruit"],"type":"QualifiedName"},"type":"IdentType"},"name":"apple","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Legume"],"type":"QualifiedName"},"type":"IdentType"},"name":"peanut","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"cast":"false","ty":{"args":[],"ident":{"names":["SeedyFruit"],"type":"QualifiedName"},"type":"IdentType"},"type":"TypeCastCheckExp","exp":{"ident":"apple","type":"IdentExp"}}}],"type":"Model"},"typeChecks":true,"name":"is.k","model":"\nclass Fruit {\n  mass:Real\n}\n\nclass CitrusFruit extending Fruit {\n  vitC:Real\n}\n\nclass Legume extending Fruit {\n  protein:Real\n}\n\nclass Berry extending Fruit\n\nclass SeedyFruit extending Fruit,CitrusFruit {\n  seeds:Int\n}\n\napple:CitrusFruit\n\npeanut:Legume\n\nreq apple is SeedyFruit\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((Fruit (mk-Fruit (mass Real)))))\n(declare-datatypes () ((CitrusFruit (mk-CitrusFruit (mass Real)(vitC Real)))))\n(declare-datatypes () ((Legume (mk-Legume (mass Real)(protein Real)))))\n(declare-datatypes () ((Berry (mk-Berry (mass Real)))))\n(declare-datatypes () ((SeedyFruit (mk-SeedyFruit (mass Real)(vitC Real)(seeds Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (apple Ref)(peanut Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-Fruit (sel-Fruit Fruit))\n  (lift-CitrusFruit (sel-CitrusFruit CitrusFruit))\n  (lift-Legume (sel-Legume Legume))\n  (lift-Berry (sel-Berry Berry))\n  (lift-SeedyFruit (sel-SeedyFruit SeedyFruit))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-Fruit ((this Ref)) Bool\n  (is-lift-Fruit (deref this))\n)\n\n(define-fun deref-Fruit ((this Ref)) Fruit\n  (sel-Fruit (deref this))\n)\n\n(define-fun deref-is-CitrusFruit ((this Ref)) Bool\n  (is-lift-CitrusFruit (deref this))\n)\n\n(define-fun deref-CitrusFruit ((this Ref)) CitrusFruit\n  (sel-CitrusFruit (deref this))\n)\n\n(define-fun deref-is-Legume ((this Ref)) Bool\n  (is-lift-Legume (deref this))\n)\n\n(define-fun deref-Legume ((this Ref)) Legume\n  (sel-Legume (deref this))\n)\n\n(define-fun deref-is-Berry ((this Ref)) Bool\n  (is-lift-Berry (deref this))\n)\n\n(define-fun deref-Berry ((this Ref)) Berry\n  (sel-Berry (deref this))\n)\n\n(define-fun deref-is-SeedyFruit ((this Ref)) Bool\n  (is-lift-SeedyFruit (deref this))\n)\n\n(define-fun deref-SeedyFruit ((this Ref)) SeedyFruit\n  (sel-SeedyFruit (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-Fruit ((this Ref)) Bool\n  (or\n    (deref-is-Fruit this)\n    (deref-is-CitrusFruit this)\n    (deref-is-Legume this)\n    (deref-is-Berry this)\n    (deref-is-SeedyFruit this)\n  )\n)\n\n(define-fun deref-isa-CitrusFruit ((this Ref)) Bool\n  (or\n    (deref-is-CitrusFruit this)\n    (deref-is-SeedyFruit this)\n  )\n)\n\n(define-fun deref-isa-Legume ((this Ref)) Bool\n  (deref-is-Legume this)\n)\n\n(define-fun deref-isa-Berry ((this Ref)) Bool\n  (deref-is-Berry this)\n)\n\n(define-fun deref-isa-SeedyFruit ((this Ref)) Bool\n  (deref-is-SeedyFruit this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.apple: ---\n\n(define-fun TopLevelDeclarations!apple ((this Ref)) Ref\n  (apple (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.peanut: ---\n\n(define-fun TopLevelDeclarations!peanut ((this Ref)) Ref\n  (peanut (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ------------------------------\n;   Invariant for class Fruit:\n; ------------------------------\n\n(define-fun Fruit.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Fruit this) (Fruit.inv this))\n))\n\n; ------------------------------------\n;   Invariant for class CitrusFruit:\n; ------------------------------------\n\n(define-fun CitrusFruit.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-CitrusFruit this) (CitrusFruit.inv this))\n))\n\n; -------------------------------\n;   Invariant for class Legume:\n; -------------------------------\n\n(define-fun Legume.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Legume this) (Legume.inv this))\n))\n\n; ------------------------------\n;   Invariant for class Berry:\n; ------------------------------\n\n(define-fun Berry.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Berry this) (Berry.inv this))\n))\n\n; -----------------------------------\n;   Invariant for class SeedyFruit:\n; -----------------------------------\n\n(define-fun SeedyFruit.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-SeedyFruit this) (SeedyFruit.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-CitrusFruit (TopLevelDeclarations!apple this))\n    (deref-isa-Legume (TopLevelDeclarations!peanut this))\n    (deref-isa-SeedyFruit (TopLevelDeclarations!apple this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfFruit Ref)) (deref-is-Fruit instanceOfFruit)))\n(assert (exists ((instanceOfCitrusFruit Ref)) (deref-is-CitrusFruit instanceOfCitrusFruit)))\n(assert (exists ((instanceOfLegume Ref)) (deref-is-Legume instanceOfLegume)))\n(assert (exists ((instanceOfBerry Ref)) (deref-is-Berry instanceOfBerry)))\n(assert (exists ((instanceOfSeedyFruit Ref)) (deref-is-SeedyFruit instanceOfSeedyFruit)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun instanceOfSeedyFruit!4 () Int\n  5)\n(define-fun instanceOfCitrusFruit!1 () Int\n  2)\n(define-fun instanceOfLegume!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!5))\n(define-fun instanceOfFruit!0 () Int\n  1)\n(define-fun instanceOfBerry!3 () Int\n  4)\n(define-fun k!6 ((x!1 Int)) Int\n  (ite (= x!1 3) 3\n  (ite (= x!1 7) 7\n  (ite (= x!1 1) 1\n  (ite (= x!1 0) 0\n  (ite (= x!1 4) 4\n  (ite (= x!1 8) 8\n  (ite (= x!1 5) 5\n    2))))))))\n(define-fun k!5!7 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-Legume (mk-Legume 3.0 4.0))\n  (ite (= x!1 4) (lift-Berry (mk-Berry 5.0))\n  (ite (= x!1 5) (lift-SeedyFruit (mk-SeedyFruit 6.0 7.0 6))\n  (ite (= x!1 8) (lift-Legume (mk-Legume 10.0 11.0))\n  (ite (= x!1 1) (lift-Fruit (mk-Fruit 0.0))\n  (ite (= x!1 2) (lift-CitrusFruit (mk-CitrusFruit 1.0 2.0))\n  (ite (= x!1 7) (lift-SeedyFruit (mk-SeedyFruit 8.0 9.0 9))\n    (lift-TopLevelDeclarations (mk-TopLevelDeclarations 7 8))))))))))\n(define-fun k!5 ((x!1 Int)) Any\n  (k!5!7 (k!6 x!1)))"},"testsmt6.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Event","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"id","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"State","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"id","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"RocketMachine","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["State"],"type":"QualifiedName"}]},"name":"off","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["State"],"type":"QualifiedName"}]},"name":"ready","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["State"],"type":"QualifiedName"}]},"name":"firing","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"turn_on","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"fire","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"turn_off","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"NotEQ",{"type":"ElementValue","element":"off"},{"type":"ElementValue","element":"ready"}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"NotEQ",{"type":"ElementValue","element":"off"},{"type":"ElementValue","element":"firing"}]}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"NotEQ",{"type":"ElementValue","element":"firing"},{"type":"ElementValue","element":"ready"}]}]}},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["State"],"type":"QualifiedName"}]},"ident":"move","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["State"],"type":"QualifiedName"}]},"name":"s","type":"Param"},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"e","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"IfExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"s"},{"type":"ElementValue","element":"off"}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"e"},{"type":"ElementValue","element":"turn_on"}]}]},{"type":"ElementValue","element":"ready"},{"type":"Expression","operand":[{"type":"IfExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"s"},{"type":"ElementValue","element":"ready"}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"e"},{"type":"ElementValue","element":"fire"}]}]},{"type":"ElementValue","element":"firing"},{"type":"Expression","operand":[{"type":"IfExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"s"},{"type":"ElementValue","element":"firing"}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"e"},{"type":"ElementValue","element":"turn_off"}]}]},{"type":"ElementValue","element":"off"},{"type":"ElementValue","element":"s"}]}]}]}}],"spec":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"move"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"off"}]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"turn_on"}]}]},{"type":"ElementValue","element":"ready"}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"move"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"ready"}]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"fire"}]}]},{"type":"ElementValue","element":"firing"}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"move"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"firing"}]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"turn_off"}]}]},{"type":"ElementValue","element":"off"}]}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Event","members":[{"ty":{"type":"IntType"},"name":"id","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"State","members":[{"ty":{"type":"IntType"},"name":"id","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"RocketMachine","members":[{"ty":{"args":[],"ident":{"names":["State"],"type":"QualifiedName"},"type":"IdentType"},"name":"off","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["State"],"type":"QualifiedName"},"type":"IdentType"},"name":"ready","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["State"],"type":"QualifiedName"},"type":"IdentType"},"name":"firing","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"turn_on","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"fire","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"turn_off","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"And","exp2":{"op":"NotEQ","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"ident":"firing","type":"IdentExp"},"type":"BinExp"},"exp1":{"op":"And","exp2":{"op":"NotEQ","exp2":{"ident":"firing","type":"IdentExp"},"exp1":{"ident":"off","type":"IdentExp"},"type":"BinExp"},"exp1":{"op":"NotEQ","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"ident":"off","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"}},{"ty":{"args":[],"ident":{"names":["State"],"type":"QualifiedName"},"type":"IdentType"},"ident":"move","typeParams":[],"type":"FunDecl","params":[{"ty":{"args":[],"ident":{"names":["State"],"type":"QualifiedName"},"type":"IdentType"},"name":"s","type":"Param"},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"e","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"trueBranch":{"ident":"ready","type":"IdentExp"},"falseBranch":{"trueBranch":{"ident":"firing","type":"IdentExp"},"falseBranch":{"trueBranch":{"ident":"off","type":"IdentExp"},"falseBranch":{"ident":"s","type":"IdentExp"},"type":"IfExp","cond":{"op":"And","exp2":{"op":"EQ","exp2":{"ident":"turn_off","type":"IdentExp"},"exp1":{"ident":"e","type":"IdentExp"},"type":"BinExp"},"exp1":{"op":"EQ","exp2":{"ident":"firing","type":"IdentExp"},"exp1":{"ident":"s","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"}},"type":"IfExp","cond":{"op":"And","exp2":{"op":"EQ","exp2":{"ident":"fire","type":"IdentExp"},"exp1":{"ident":"e","type":"IdentExp"},"type":"BinExp"},"exp1":{"op":"EQ","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"ident":"s","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"}},"type":"IfExp","cond":{"op":"And","exp2":{"op":"EQ","exp2":{"ident":"turn_on","type":"IdentExp"},"exp1":{"ident":"e","type":"IdentExp"},"type":"BinExp"},"exp1":{"op":"EQ","exp2":{"ident":"off","type":"IdentExp"},"exp1":{"ident":"s","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"}}}],"spec":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"ready","type":"IdentExp"},"exp1":{"args":[{"type":"PositionalArgument","exp":{"ident":"off","type":"IdentExp"}},{"type":"PositionalArgument","exp":{"ident":"turn_on","type":"IdentExp"}}],"exp1":{"ident":"move","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"firing","type":"IdentExp"},"exp1":{"args":[{"type":"PositionalArgument","exp":{"ident":"ready","type":"IdentExp"}},{"type":"PositionalArgument","exp":{"ident":"fire","type":"IdentExp"}}],"exp1":{"ident":"move","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"off","type":"IdentExp"},"exp1":{"args":[{"type":"PositionalArgument","exp":{"ident":"firing","type":"IdentExp"}},{"type":"PositionalArgument","exp":{"ident":"turn_off","type":"IdentExp"}}],"exp1":{"ident":"move","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt6.k","model":"\nclass Event {\n  id:Int\n}\n\nclass State {\n  id:Int\n}\n\nclass RocketMachine {\n  off:State\n  ready:State\n  firing:State\n  turn_on:Event\n  fire:Event\n  turn_off:Event\n\n  req off != ready && off != firing && firing != ready\n\n  fun move(s:State,e:Event) : State\n  {\n    if s = off && e = turn_on then\n      ready\n    else\n      if s = ready && e = fire then\n        firing\n      else\n        if s = firing && e = turn_off then\n          off\n        else\n          s\n  }\n\n  req move(off,turn_on) = ready\n\n  req move(ready,fire) = firing\n\n  req move(firing,turn_off) = off\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((Event (mk-Event (id Int)))))\n(declare-datatypes () ((State (mk-State (id Int)))))\n(declare-datatypes () ((RocketMachine (mk-RocketMachine (off Ref)(ready Ref)(firing Ref)(turn_on Ref)(fire Ref)(turn_off Ref)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-Event (sel-Event Event))\n  (lift-State (sel-State State))\n  (lift-RocketMachine (sel-RocketMachine RocketMachine))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-Event ((this Ref)) Bool\n  (is-lift-Event (deref this))\n)\n\n(define-fun deref-Event ((this Ref)) Event\n  (sel-Event (deref this))\n)\n\n(define-fun deref-is-State ((this Ref)) Bool\n  (is-lift-State (deref this))\n)\n\n(define-fun deref-State ((this Ref)) State\n  (sel-State (deref this))\n)\n\n(define-fun deref-is-RocketMachine ((this Ref)) Bool\n  (is-lift-RocketMachine (deref this))\n)\n\n(define-fun deref-RocketMachine ((this Ref)) RocketMachine\n  (sel-RocketMachine (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-Event ((this Ref)) Bool\n  (deref-is-Event this)\n)\n\n(define-fun deref-isa-State ((this Ref)) Bool\n  (deref-is-State this)\n)\n\n(define-fun deref-isa-RocketMachine ((this Ref)) Bool\n  (deref-is-RocketMachine this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------------------\n;   Getters for class RocketMachine:\n; ------------------------------------\n\n; --- getters for RocketMachine.off: ---\n\n(define-fun RocketMachine.off ((this Ref)) Ref\n  (off (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!off ((this Ref)) Ref\n  (off (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.ready: ---\n\n(define-fun RocketMachine.ready ((this Ref)) Ref\n  (ready (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!ready ((this Ref)) Ref\n  (ready (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.firing: ---\n\n(define-fun RocketMachine.firing ((this Ref)) Ref\n  (firing (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!firing ((this Ref)) Ref\n  (firing (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.turn_on: ---\n\n(define-fun RocketMachine.turn_on ((this Ref)) Ref\n  (turn_on (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!turn_on ((this Ref)) Ref\n  (turn_on (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.fire: ---\n\n(define-fun RocketMachine.fire ((this Ref)) Ref\n  (fire (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!fire ((this Ref)) Ref\n  (fire (deref-RocketMachine this))\n)\n\n; --- getters for RocketMachine.turn_off: ---\n\n(define-fun RocketMachine.turn_off ((this Ref)) Ref\n  (turn_off (deref-RocketMachine this))\n)\n\n(define-fun RocketMachine!turn_off ((this Ref)) Ref\n  (turn_off (deref-RocketMachine this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------------------\n;   Methods for class RocketMachine:\n; ------------------------------------\n\n(define-fun RocketMachine.move ((this Ref)(s Ref)(e Ref)) Ref\n  (ite (and (= s (RocketMachine.off this) ) (= e (RocketMachine.turn_on this) )) (RocketMachine.ready this)  (ite (and (= s (RocketMachine.ready this) ) (= e (RocketMachine.fire this) )) (RocketMachine.firing this)  (ite (and (= s (RocketMachine.firing this) ) (= e (RocketMachine.turn_off this) )) (RocketMachine.off this)  s)))\n)\n\n(define-fun RocketMachine!move ((this Ref)(s Ref)(e Ref)) Ref\n  (ite (and (= s (RocketMachine!off this) ) (= e (RocketMachine!turn_on this) )) (RocketMachine!ready this)  (ite (and (= s (RocketMachine!ready this) ) (= e (RocketMachine!fire this) )) (RocketMachine!firing this)  (ite (and (= s (RocketMachine!firing this) ) (= e (RocketMachine!turn_off this) )) (RocketMachine!off this)  s)))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ------------------------------\n;   Invariant for class Event:\n; ------------------------------\n\n(define-fun Event.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Event this) (Event.inv this))\n))\n\n; ------------------------------\n;   Invariant for class State:\n; ------------------------------\n\n(define-fun State.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-State this) (State.inv this))\n))\n\n; --------------------------------------\n;   Invariant for class RocketMachine:\n; --------------------------------------\n\n(define-fun RocketMachine.inv ((this Ref)) Bool\n  (and\n    (deref-isa-State (RocketMachine!off this))\n    (deref-isa-State (RocketMachine!ready this))\n    (deref-isa-State (RocketMachine!firing this))\n    (deref-isa-Event (RocketMachine!turn_on this))\n    (deref-isa-Event (RocketMachine!fire this))\n    (deref-isa-Event (RocketMachine!turn_off this))\n    (and (and (not (= (RocketMachine!off this)  (RocketMachine!ready this) )) (not (= (RocketMachine!off this)  (RocketMachine!firing this) ))) (not (= (RocketMachine!firing this)  (RocketMachine!ready this) )))\n    (= (RocketMachine!move this (RocketMachine!off this)  (RocketMachine!turn_on this) ) (RocketMachine!ready this) )\n    (= (RocketMachine!move this (RocketMachine!ready this)  (RocketMachine!fire this) ) (RocketMachine!firing this) )\n    (= (RocketMachine!move this (RocketMachine!firing this)  (RocketMachine!turn_off this) ) (RocketMachine!off this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-RocketMachine this) (RocketMachine.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfEvent Ref)) (deref-is-Event instanceOfEvent)))\n(assert (exists ((instanceOfState Ref)) (deref-is-State instanceOfState)))\n(assert (exists ((instanceOfRocketMachine Ref)) (deref-is-RocketMachine instanceOfRocketMachine)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun instanceOfEvent!0 () Int\n  1)\n(define-fun instanceOfRocketMachine!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfState!1 () Int\n  2)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 10) (lift-Event (mk-Event 13))\n  (ite (= x!1 6) (lift-State (mk-State 17))\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 1) (lift-Event (mk-Event 4))\n  (ite (= x!1 11) (lift-Event (mk-Event 12))\n  (ite (= x!1 3) (lift-RocketMachine (mk-RocketMachine 6 7 8 9 10 11))\n  (ite (= x!1 9) (lift-Event (mk-Event 14))\n  (ite (= x!1 7) (lift-State (mk-State 16))\n  (ite (= x!1 8) (lift-State (mk-State 15))\n    (lift-State (mk-State 5))))))))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 8) 8\n  (ite (= x!1 10) 10\n  (ite (= x!1 0) 0\n  (ite (= x!1 1) 1\n  (ite (= x!1 3) 3\n  (ite (= x!1 9) 9\n  (ite (= x!1 6) 6\n  (ite (= x!1 2) 2\n  (ite (= x!1 11) 11\n    7))))))))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))"},"testsmt5.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Event","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"t1","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"t2","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]},"ident":"meets","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"other","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"t2"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"other"},"t1"]}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]},"ident":"before","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"other","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"t2"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"other"},"t1"]}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]},"ident":"contains","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"other","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"t1"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"other"},"t1"]}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"other"},"t2"]},{"type":"ElementValue","element":"t2"}]}]}}],"spec":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"t1"},{"type":"ElementValue","element":"t2"}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Minus",{"type":"ElementValue","element":"t2"},{"type":"ElementValue","element":"t1"}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Schedule","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"b","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"c","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"d","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"a"},"meets"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"b"}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"b"},"before"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"c"}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"c"},"contains"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"d"}]}]}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Event","members":[{"ty":{"type":"IntType"},"name":"t1","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"t2","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"BoolType"},"ident":"meets","typeParams":[],"type":"FunDecl","params":[{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"other","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"EQ","exp2":{"ident":"t1","exp":{"ident":"other","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"t2","type":"IdentExp"},"type":"BinExp"}}],"spec":[]},{"ty":{"type":"BoolType"},"ident":"before","typeParams":[],"type":"FunDecl","params":[{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"other","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"LT","exp2":{"ident":"t1","exp":{"ident":"other","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"t2","type":"IdentExp"},"type":"BinExp"}}],"spec":[]},{"ty":{"type":"BoolType"},"ident":"contains","typeParams":[],"type":"FunDecl","params":[{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"other","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"And","exp2":{"op":"LT","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"ident":"t2","exp":{"ident":"other","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"},"exp1":{"op":"LT","exp2":{"ident":"t1","exp":{"ident":"other","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"t1","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"}}],"spec":[]},{"type":"ConstraintDecl","exp":{"op":"LT","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"ident":"t1","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"GT","exp2":{"i":10,"type":"LiteralInteger"},"exp1":{"op":"Minus","exp2":{"ident":"t1","type":"IdentExp"},"exp1":{"ident":"t2","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Schedule","members":[{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"b","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"c","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"d","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"ident":"b","type":"IdentExp"}}],"exp1":{"ident":"meets","exp":{"ident":"a","type":"IdentExp"},"type":"DotExp"},"type":"FunApplExp"}},{"type":"ConstraintDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"ident":"c","type":"IdentExp"}}],"exp1":{"ident":"before","exp":{"ident":"b","type":"IdentExp"},"type":"DotExp"},"type":"FunApplExp"}},{"type":"ConstraintDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"ident":"d","type":"IdentExp"}}],"exp1":{"ident":"contains","exp":{"ident":"c","type":"IdentExp"},"type":"DotExp"},"type":"FunApplExp"}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt5.k","model":"\nclass Event {\n  t1:Int\n  t2:Int\n\n  fun meets(other:Event) : Bool\n  {\n    t2 = other.t1\n  }\n\n  fun before(other:Event) : Bool\n  {\n    t2 < other.t1\n  }\n\n  fun contains(other:Event) : Bool\n  {\n    t1 < other.t1 && other.t2 < t2\n  }\n\n  req t1 < t2\n\n  req t2 - t1 > 10\n}\n\nclass Schedule {\n  a:Event\n  b:Event\n  c:Event\n  d:Event\n\n  req a.meets(b)\n\n  req b.before(c)\n\n  req c.contains(d)\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((Event (mk-Event (t1 Int)(t2 Int)))))\n(declare-datatypes () ((Schedule (mk-Schedule (a Ref)(b Ref)(c Ref)(d Ref)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-Event (sel-Event Event))\n  (lift-Schedule (sel-Schedule Schedule))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-Event ((this Ref)) Bool\n  (is-lift-Event (deref this))\n)\n\n(define-fun deref-Event ((this Ref)) Event\n  (sel-Event (deref this))\n)\n\n(define-fun deref-is-Schedule ((this Ref)) Bool\n  (is-lift-Schedule (deref this))\n)\n\n(define-fun deref-Schedule ((this Ref)) Schedule\n  (sel-Schedule (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-Event ((this Ref)) Bool\n  (deref-is-Event this)\n)\n\n(define-fun deref-isa-Schedule ((this Ref)) Bool\n  (deref-is-Schedule this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ----------------------------\n;   Getters for class Event:\n; ----------------------------\n\n; --- getters for Event.t1: ---\n\n(define-fun Event.t1 ((this Ref)) Int\n  (t1 (deref-Event this))\n)\n\n(define-fun Event!t1 ((this Ref)) Int\n  (t1 (deref-Event this))\n)\n\n; --- getters for Event.t2: ---\n\n(define-fun Event.t2 ((this Ref)) Int\n  (t2 (deref-Event this))\n)\n\n(define-fun Event!t2 ((this Ref)) Int\n  (t2 (deref-Event this))\n)\n\n; -------------------------------\n;   Getters for class Schedule:\n; -------------------------------\n\n; --- getters for Schedule.a: ---\n\n(define-fun Schedule!a ((this Ref)) Ref\n  (a (deref-Schedule this))\n)\n\n; --- getters for Schedule.b: ---\n\n(define-fun Schedule!b ((this Ref)) Ref\n  (b (deref-Schedule this))\n)\n\n; --- getters for Schedule.c: ---\n\n(define-fun Schedule!c ((this Ref)) Ref\n  (c (deref-Schedule this))\n)\n\n; --- getters for Schedule.d: ---\n\n(define-fun Schedule!d ((this Ref)) Ref\n  (d (deref-Schedule this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ----------------------------\n;   Methods for class Event:\n; ----------------------------\n\n(define-fun Event.meets ((this Ref)(other Ref)) Bool\n  (= (Event.t2 this)  (Event.t1 other))\n)\n\n(define-fun Event!meets ((this Ref)(other Ref)) Bool\n  (= (Event!t2 this)  (Event.t1 other))\n)\n\n(define-fun Event.before ((this Ref)(other Ref)) Bool\n  (< (Event.t2 this)  (Event.t1 other))\n)\n\n(define-fun Event!before ((this Ref)(other Ref)) Bool\n  (< (Event!t2 this)  (Event.t1 other))\n)\n\n(define-fun Event.contains ((this Ref)(other Ref)) Bool\n  (and (< (Event.t1 this)  (Event.t1 other)) (< (Event.t2 other) (Event.t2 this) ))\n)\n\n(define-fun Event!contains ((this Ref)(other Ref)) Bool\n  (and (< (Event!t1 this)  (Event.t1 other)) (< (Event.t2 other) (Event!t2 this) ))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ------------------------------\n;   Invariant for class Event:\n; ------------------------------\n\n(define-fun Event.inv ((this Ref)) Bool\n  (and\n    (< (Event!t1 this)  (Event!t2 this) )\n    (> (- (Event!t2 this)  (Event!t1 this) ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Event this) (Event.inv this))\n))\n\n; ---------------------------------\n;   Invariant for class Schedule:\n; ---------------------------------\n\n(define-fun Schedule.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Event (Schedule!a this))\n    (deref-isa-Event (Schedule!b this))\n    (deref-isa-Event (Schedule!c this))\n    (deref-isa-Event (Schedule!d this))\n    (Event.meets (Schedule!a this)  (Schedule!b this) )\n    (Event.before (Schedule!b this)  (Schedule!c this) )\n    (Event.contains (Schedule!c this)  (Schedule!d this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Schedule this) (Schedule.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfEvent Ref)) (deref-is-Event instanceOfEvent)))\n(assert (exists ((instanceOfSchedule Ref)) (deref-is-Schedule instanceOfSchedule)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun instanceOfEvent!0 () Int\n  1)\n(define-fun instanceOfSchedule!1 () Int\n  2)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 4) 4\n  (ite (= x!1 5) 5\n  (ite (= x!1 6) 6\n  (ite (= x!1 2) 2\n  (ite (= x!1 3) 3\n  (ite (= x!1 0) 0\n    1)))))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 2) (lift-Schedule (mk-Schedule 3 4 5 6))\n  (ite (= x!1 6) (lift-Event (mk-Event 2438 2449))\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 5) (lift-Event (mk-Event 2437 2450))\n  (ite (= x!1 3) (lift-Event (mk-Event 2414 2425))\n  (ite (= x!1 1) (lift-Event (mk-Event 8844 8855))\n    (lift-Event (mk-Event 2425 2436)))))))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))"},"testsmt4.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Event","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"t1","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"t2","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"t1"},{"type":"ElementValue","element":"t2"}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Minus",{"type":"ElementValue","element":"t2"},{"type":"ElementValue","element":"t1"}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Schedule","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"b","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"c","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"d","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]},"ident":"before","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"e1","type":"Param"},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"e2","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"e1"},"t2"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"e2"},"t1"]}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]},"ident":"meets","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"e1","type":"Param"},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"e2","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"e1"},"t2"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"e2"},"t1"]}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]},"ident":"contains","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"e1","type":"Param"},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Event"],"type":"QualifiedName"}]},"name":"e2","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"e1"},"t1"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"e2"},"t1"]}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"e2"},"t2"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"e1"},"t2"]}]}]}}],"spec":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"meets"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"a"}]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"b"}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"before"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"b"}]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"c"}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"contains"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"c"}]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"d"}]}]}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Event","members":[{"ty":{"type":"IntType"},"name":"t1","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"t2","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"LT","exp2":{"ident":"t2","type":"IdentExp"},"exp1":{"ident":"t1","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"LT","exp2":{"i":10,"type":"LiteralInteger"},"exp1":{"op":"Minus","exp2":{"ident":"t1","type":"IdentExp"},"exp1":{"ident":"t2","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Schedule","members":[{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"b","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"c","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"d","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"BoolType"},"ident":"before","typeParams":[],"type":"FunDecl","params":[{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"e1","type":"Param"},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"e2","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"LT","exp2":{"ident":"t1","exp":{"ident":"e2","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"t2","exp":{"ident":"e1","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}}],"spec":[]},{"ty":{"type":"BoolType"},"ident":"meets","typeParams":[],"type":"FunDecl","params":[{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"e1","type":"Param"},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"e2","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"EQ","exp2":{"ident":"t1","exp":{"ident":"e2","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"t2","exp":{"ident":"e1","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}}],"spec":[]},{"ty":{"type":"BoolType"},"ident":"contains","typeParams":[],"type":"FunDecl","params":[{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"e1","type":"Param"},{"ty":{"args":[],"ident":{"names":["Event"],"type":"QualifiedName"},"type":"IdentType"},"name":"e2","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"And","exp2":{"op":"LT","exp2":{"ident":"t2","exp":{"ident":"e1","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"t2","exp":{"ident":"e2","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"},"exp1":{"op":"LT","exp2":{"ident":"t1","exp":{"ident":"e2","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"t1","exp":{"ident":"e1","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"},"type":"BinExp"}}],"spec":[]},{"type":"ConstraintDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"ident":"a","type":"IdentExp"}},{"type":"PositionalArgument","exp":{"ident":"b","type":"IdentExp"}}],"exp1":{"ident":"meets","type":"IdentExp"},"type":"FunApplExp"}},{"type":"ConstraintDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"ident":"b","type":"IdentExp"}},{"type":"PositionalArgument","exp":{"ident":"c","type":"IdentExp"}}],"exp1":{"ident":"before","type":"IdentExp"},"type":"FunApplExp"}},{"type":"ConstraintDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"ident":"c","type":"IdentExp"}},{"type":"PositionalArgument","exp":{"ident":"d","type":"IdentExp"}}],"exp1":{"ident":"contains","type":"IdentExp"},"type":"FunApplExp"}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt4.k","model":"\nclass Event {\n  t1:Int\n  t2:Int\n\n  req t1 < t2\n\n  req t2 - t1 < 10\n}\n\nclass Schedule {\n  a:Event\n  b:Event\n  c:Event\n  d:Event\n\n  fun before(e1:Event,e2:Event) : Bool\n  {\n    e1.t2 < e2.t1\n  }\n\n  fun meets(e1:Event,e2:Event) : Bool\n  {\n    e1.t2 = e2.t1\n  }\n\n  fun contains(e1:Event,e2:Event) : Bool\n  {\n    e1.t1 < e2.t1 && e2.t2 < e1.t2\n  }\n\n  req meets(a,b)\n\n  req before(b,c)\n\n  req contains(c,d)\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((Event (mk-Event (t1 Int)(t2 Int)))))\n(declare-datatypes () ((Schedule (mk-Schedule (a Ref)(b Ref)(c Ref)(d Ref)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-Event (sel-Event Event))\n  (lift-Schedule (sel-Schedule Schedule))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-Event ((this Ref)) Bool\n  (is-lift-Event (deref this))\n)\n\n(define-fun deref-Event ((this Ref)) Event\n  (sel-Event (deref this))\n)\n\n(define-fun deref-is-Schedule ((this Ref)) Bool\n  (is-lift-Schedule (deref this))\n)\n\n(define-fun deref-Schedule ((this Ref)) Schedule\n  (sel-Schedule (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-Event ((this Ref)) Bool\n  (deref-is-Event this)\n)\n\n(define-fun deref-isa-Schedule ((this Ref)) Bool\n  (deref-is-Schedule this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ----------------------------\n;   Getters for class Event:\n; ----------------------------\n\n; --- getters for Event.t1: ---\n\n(define-fun Event.t1 ((this Ref)) Int\n  (t1 (deref-Event this))\n)\n\n(define-fun Event!t1 ((this Ref)) Int\n  (t1 (deref-Event this))\n)\n\n; --- getters for Event.t2: ---\n\n(define-fun Event.t2 ((this Ref)) Int\n  (t2 (deref-Event this))\n)\n\n(define-fun Event!t2 ((this Ref)) Int\n  (t2 (deref-Event this))\n)\n\n; -------------------------------\n;   Getters for class Schedule:\n; -------------------------------\n\n; --- getters for Schedule.a: ---\n\n(define-fun Schedule!a ((this Ref)) Ref\n  (a (deref-Schedule this))\n)\n\n; --- getters for Schedule.b: ---\n\n(define-fun Schedule!b ((this Ref)) Ref\n  (b (deref-Schedule this))\n)\n\n; --- getters for Schedule.c: ---\n\n(define-fun Schedule!c ((this Ref)) Ref\n  (c (deref-Schedule this))\n)\n\n; --- getters for Schedule.d: ---\n\n(define-fun Schedule!d ((this Ref)) Ref\n  (d (deref-Schedule this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------\n;   Methods for class Schedule:\n; -------------------------------\n\n(define-fun Schedule.before ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (< (Event.t2 e1) (Event.t1 e2))\n)\n\n(define-fun Schedule!before ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (< (Event.t2 e1) (Event.t1 e2))\n)\n\n(define-fun Schedule.meets ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (= (Event.t2 e1) (Event.t1 e2))\n)\n\n(define-fun Schedule!meets ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (= (Event.t2 e1) (Event.t1 e2))\n)\n\n(define-fun Schedule.contains ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (and (< (Event.t1 e1) (Event.t1 e2)) (< (Event.t2 e2) (Event.t2 e1)))\n)\n\n(define-fun Schedule!contains ((this Ref)(e1 Ref)(e2 Ref)) Bool\n  (and (< (Event.t1 e1) (Event.t1 e2)) (< (Event.t2 e2) (Event.t2 e1)))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; ------------------------------\n;   Invariant for class Event:\n; ------------------------------\n\n(define-fun Event.inv ((this Ref)) Bool\n  (and\n    (< (Event!t1 this)  (Event!t2 this) )\n    (< (- (Event!t2 this)  (Event!t1 this) ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Event this) (Event.inv this))\n))\n\n; ---------------------------------\n;   Invariant for class Schedule:\n; ---------------------------------\n\n(define-fun Schedule.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Event (Schedule!a this))\n    (deref-isa-Event (Schedule!b this))\n    (deref-isa-Event (Schedule!c this))\n    (deref-isa-Event (Schedule!d this))\n    (Schedule!meets this (Schedule!a this)  (Schedule!b this) )\n    (Schedule!before this (Schedule!b this)  (Schedule!c this) )\n    (Schedule!contains this (Schedule!c this)  (Schedule!d this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Schedule this) (Schedule.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfEvent Ref)) (deref-is-Event instanceOfEvent)))\n(assert (exists ((instanceOfSchedule Ref)) (deref-is-Schedule instanceOfSchedule)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun instanceOfEvent!0 () Int\n  2)\n(define-fun instanceOfSchedule!1 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 5) 5\n  (ite (= x!1 6) 6\n  (ite (= x!1 7) 7\n  (ite (= x!1 3) 3\n  (ite (= x!1 4) 4\n  (ite (= x!1 0) 0\n    2)))))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-Schedule (mk-Schedule 4 5 6 7))\n  (ite (= x!1 7) (lift-Event (mk-Event 2438 2439))\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 6) (lift-Event (mk-Event 2437 2440))\n  (ite (= x!1 4) (lift-Event (mk-Event 2434 2435))\n  (ite (= x!1 2) (lift-Event (mk-Event 1795 1796))\n    (lift-Event (mk-Event 2435 2436)))))))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))"},"testsmt3.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"x","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"y","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"sum","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"x"},{"type":"ElementValue","element":"y"}]}}],"spec":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"x"},{"type":"ElementValue","element":"y"}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"z","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"name":"a1","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"assignment":false,"name":"a2","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"A"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"y",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},17]}]}]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"assignment":false,"name":"a3","expr":{"type":"Expression","operand":[{"type":"IfExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"ElementValue","element":"z"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]}]},{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"A"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"y",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"z"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},9]}]}]}]},{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"A"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"y",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},33]}]}]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"a1"},"y"]},{"type":"ElementValue","element":"z"}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"y"},{"type":"ElementValue","element":"z"}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"ElementValue","element":"sum"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"assignment":false,"name":"inst1A","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"A"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"x",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"y",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]}]}]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"assignment":false,"name":"inst2A","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"A"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"y",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]}]}]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]},"assignment":false,"name":"inst1B","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"B"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"a1",{"type":"ElementValue","element":"inst1A"}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"z",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},200]}]}]},"type":"PropertyDecl","modifiers":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"x","expr":{"i":1,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"y","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"sum","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"ident":"y","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}}],"spec":[]},{"type":"ConstraintDecl","exp":{"op":"LT","exp2":{"ident":"y","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"name":"z","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"name":"a1","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"a2","expr":{"args":[{"ident":"y","type":"NamedArgument","exp":{"i":17,"type":"LiteralInteger"}}],"exp1":{"ident":"A","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"a3","expr":{"trueBranch":{"args":[{"ident":"y","type":"NamedArgument","exp":{"op":"Plus","exp2":{"i":9,"type":"LiteralInteger"},"exp1":{"ident":"z","type":"IdentExp"},"type":"BinExp"}}],"exp1":{"ident":"A","type":"IdentExp"},"type":"FunApplExp"},"falseBranch":{"args":[{"ident":"y","type":"NamedArgument","exp":{"i":33,"type":"LiteralInteger"}}],"exp1":{"ident":"A","type":"IdentExp"},"type":"FunApplExp"},"type":"IfExp","cond":{"op":"GT","exp2":{"i":3,"type":"LiteralInteger"},"exp1":{"ident":"z","type":"IdentExp"},"type":"BinExp"}},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"LT","exp2":{"ident":"z","type":"IdentExp"},"exp1":{"ident":"y","exp":{"ident":"a1","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"LT","exp2":{"ident":"z","type":"IdentExp"},"exp1":{"ident":"y","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"GT","exp2":{"i":10,"type":"LiteralInteger"},"exp1":{"ident":"sum","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"inst1A","expr":{"args":[{"ident":"x","type":"NamedArgument","exp":{"i":1,"type":"LiteralInteger"}},{"ident":"y","type":"NamedArgument","exp":{"i":2,"type":"LiteralInteger"}}],"exp1":{"ident":"A","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"inst2A","expr":{"args":[{"ident":"y","type":"NamedArgument","exp":{"i":2,"type":"LiteralInteger"}}],"exp1":{"ident":"A","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"inst1B","expr":{"args":[{"ident":"a1","type":"NamedArgument","exp":{"ident":"inst1A","type":"IdentExp"}},{"ident":"z","type":"NamedArgument","exp":{"i":200,"type":"LiteralInteger"}}],"exp1":{"ident":"B","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt3.k","model":"\nclass A {\n  x:Int = 1\n  y:Int\n\n  fun sum : Int\n  {\n    x + y\n  }\n\n  req x < y\n}\n\nclass B extending A {\n  z:Int\n  a1:A\n  a2:A = A(y :: 17)\n  a3:A = if z > 3 then\n    A(y :: z + 9)\n  else\n    A(y :: 33)\n\n  req a1.y < z\n\n  req y < z\n\n  req sum > 10\n}\n\ninst1A:A = A(x :: 1,y :: 2)\n\ninst2A:A = A(y :: 2)\n\ninst1B:B = B(a1 :: inst1A,z :: 200)\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (x Int)(y Int)))))\n(declare-datatypes () ((B (mk-B (x Int)(y Int)(z Int)(a1 Ref)(a2 Ref)(a3 Ref)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (inst1A Ref)(inst2A Ref)(inst1B Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (ite (deref-is-A this) (x (deref-A this))\n  (x (deref-B this)))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; --- getters for A.y: ---\n\n(define-fun A.y ((this Ref)) Int\n  (ite (deref-is-A this) (y (deref-A this))\n  (y (deref-B this)))\n)\n\n(define-fun A!y ((this Ref)) Int\n  (y (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B.x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.y: ---\n\n(define-fun B.y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n(define-fun B!y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n; --- getters for B.z: ---\n\n(define-fun B!z ((this Ref)) Int\n  (z (deref-B this))\n)\n\n; --- getters for B.a1: ---\n\n(define-fun B!a1 ((this Ref)) Ref\n  (a1 (deref-B this))\n)\n\n; --- getters for B.a2: ---\n\n(define-fun B!a2 ((this Ref)) Ref\n  (a2 (deref-B this))\n)\n\n; --- getters for B.a3: ---\n\n(define-fun B!a3 ((this Ref)) Ref\n  (a3 (deref-B this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.inst1A: ---\n\n(define-fun TopLevelDeclarations!inst1A ((this Ref)) Ref\n  (inst1A (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.inst2A: ---\n\n(define-fun TopLevelDeclarations!inst2A ((this Ref)) Ref\n  (inst2A (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.inst1B: ---\n\n(define-fun TopLevelDeclarations!inst1B ((this Ref)) Ref\n  (inst1B (deref-TopLevelDeclarations this))\n)\n\n; ========================================\n; === Constructor parameter constants: ===\n; ========================================\n\n(declare-const const__1 Int)\n(declare-const const__2 Int)\n(declare-const const__3 Int)\n(declare-const const__4 Int)\n(declare-const const__5 Int)\n(declare-const const__6 Int)\n(declare-const const__7 Ref)\n(declare-const const__8 Ref)\n\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.sum ((this Ref)) Int\n  (+ (A.x this)  (A.y this) )\n)\n\n(define-fun A!sum ((this Ref)) Int\n  (+ (A!x this)  (A!y this) )\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.sum ((this Ref)) Int\n  (+ (B.x this)  (B.y this) )\n)\n\n(define-fun B!sum ((this Ref)) Int\n  (+ (B!x this)  (B!y this) )\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!x this) 1)\n    (< (A!x this)  (A!y this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!x this) 1)\n    (= (deref (B!a2 this)) (lift-A (mk-A const__1 17)))\n    (= (deref (B!a3 this)) (ite (> (B!z this)  3) (lift-A (mk-A const__2 (+ (B!z this)  9))) (lift-A (mk-A const__3 33))))\n    (deref-isa-A (B!a1 this))\n    (deref-isa-A (B!a2 this))\n    (deref-isa-A (B!a3 this))\n    (< (B!x this)  (B!y this) )\n    (< (A.y (B!a1 this) ) (B!z this) )\n    (< (B!y this)  (B!z this) )\n    (> (B!sum this)  10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!inst1A this)) (lift-A (mk-A 1 2)))\n    (= (deref (TopLevelDeclarations!inst2A this)) (lift-A (mk-A const__4 2)))\n    (= (deref (TopLevelDeclarations!inst1B this)) (lift-B (mk-B const__5 const__6 200 (TopLevelDeclarations!inst1A this)  const__7 const__8)))\n    (deref-isa-A (TopLevelDeclarations!inst1A this))\n    (deref-isa-A (TopLevelDeclarations!inst2A this))\n    (deref-isa-B (TopLevelDeclarations!inst1B this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun const__4 () Int\n  1)\n(define-fun const__5 () Int\n  1)\n(define-fun instanceOfB!1 () Int\n  4)\n(define-fun instanceOfA!0 () Int\n  3)\n(define-fun const__6 () Int\n  27)\n(define-fun const__7 () Int\n  19)\n(define-fun const__8 () Int\n  21)\n(define-fun const__3 () Int\n  15)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun const__2 () Int\n  1)\n(define-fun const__1 () Int\n  1)\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 21) 21\n  (ite (= x!1 12) 12\n  (ite (= x!1 13) 13\n  (ite (= x!1 7) 7\n  (ite (= x!1 0) 0\n  (ite (= x!1 19) 19\n  (ite (= x!1 6) 6\n  (ite (= x!1 5) 5\n  (ite (= x!1 4) 4\n  (ite (= x!1 3) 3\n    14)))))))))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 7) (lift-A (mk-A 1 20))\n  (ite (= x!1 12) (lift-A (mk-A 1 2))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 12 13 14))\n  (ite (= x!1 14) (lift-B (mk-B 1 27 200 12 19 21))\n  (ite (= x!1 21) (lift-A (mk-A 1 209))\n  (ite (= x!1 13) (lift-A (mk-A 1 2))\n  (ite (= x!1 5) (lift-A (mk-A 1 9))\n  (ite (= x!1 3) (lift-A (mk-A 1 2439))\n  (ite (= x!1 4) (lift-B (mk-B 1 10 11 5 6 7))\n    (lift-A (mk-A 1 17))))))))))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))"},"testsmt9.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"y","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"name":"a","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"y"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}]}}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"x","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"GT","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"name":"y","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"name":"a","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"},"exp1":{"ident":"y","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]}],"type":"Model"},"typeChecks":true,"name":"testsmt9.k","model":"\nclass A {\n  x:Int\n\n  req x > 0\n}\n\nclass B extending A {\n  y:Int\n  a:A\n\n  req y = x + 1\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (x Int)))))\n(declare-datatypes () ((B (mk-B (x Int)(y Int)(a Ref)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (ite (deref-is-A this) (x (deref-A this))\n  (x (deref-B this)))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B.x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.y: ---\n\n(define-fun B.y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n(define-fun B!y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n; --- getters for B.a: ---\n\n(define-fun B.a ((this Ref)) Ref\n  (a (deref-B this))\n)\n\n(define-fun B!a ((this Ref)) Ref\n  (a (deref-B this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (> (A!x this)  0)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (deref-isa-A (B!a this))\n    (> (B!x this)  0)\n    (= (B!y this)  (+ (B!x this)  1))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun instanceOfB!1 () Int\n  4)\n(define-fun instanceOfA!0 () Int\n  3)\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 5) 5\n  (ite (= x!1 11) 11\n  (ite (= x!1 13) 13\n  (ite (= x!1 15) 15\n  (ite (= x!1 0) 0\n  (ite (= x!1 17) 17\n  (ite (= x!1 19) 19\n  (ite (= x!1 21) 21\n  (ite (= x!1 9) 9\n  (ite (= x!1 4) 4\n  (ite (= x!1 7) 7\n    3))))))))))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 9) (lift-B (mk-B 8366 8367 11))\n  (ite (= x!1 21) (lift-A (mk-A 6284))\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 13) (lift-B (mk-B 5854 5855 15))\n  (ite (= x!1 17) (lift-B (mk-B 536 537 19))\n  (ite (= x!1 11) (lift-B (mk-B 450 451 13))\n  (ite (= x!1 5) (lift-B (mk-B 1237 1238 7))\n  (ite (= x!1 19) (lift-B (mk-B 8946 8947 21))\n  (ite (= x!1 3) (lift-A (mk-A 39))\n  (ite (= x!1 4) (lift-B (mk-B 1 2 5))\n  (ite (= x!1 7) (lift-B (mk-B 8856 8857 9))\n    (lift-B (mk-B 1143 1144 17))))))))))))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))"},"testsmt8.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Person","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"age","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"getAge","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"type":"ElementValue","element":"age"}}],"spec":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"getAge"}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},18]}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Employee","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Person"],"type":"QualifiedName"}]},"name":"boss","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Employee"],"type":"QualifiedName"}]},"name":"officemate","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"BoolType","element":"ElementValue"}]},"ident":"avoid","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Employee"],"type":"QualifiedName"}]},"name":"p","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"NotEQ",{"type":"ElementValue","element":"officemate"},{"type":"ElementValue","element":"p"}]}}],"spec":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"boss"},"age"]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},30]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"ThisLiteral","element":"ElementValue"}]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"officemate"},"officemate"]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"avoid"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"boss"}]}]}}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Person"],"type":"QualifiedName"}]}]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Person","members":[{"ty":{"type":"IntType"},"name":"age","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"getAge","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"ident":"age","type":"IdentExp"}}],"spec":[]},{"type":"ConstraintDecl","exp":{"op":"GT","exp2":{"i":18,"type":"LiteralInteger"},"exp1":{"args":[],"exp1":{"ident":"getAge","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Employee","members":[{"ty":{"args":[],"ident":{"names":["Person"],"type":"QualifiedName"},"type":"IdentType"},"name":"boss","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Employee"],"type":"QualifiedName"},"type":"IdentType"},"name":"officemate","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"BoolType"},"ident":"avoid","typeParams":[],"type":"FunDecl","params":[{"ty":{"args":[],"ident":{"names":["Employee"],"type":"QualifiedName"},"type":"IdentType"},"name":"p","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"NotEQ","exp2":{"ident":"p","type":"IdentExp"},"exp1":{"ident":"officemate","type":"IdentExp"},"type":"BinExp"}}],"spec":[]},{"type":"ConstraintDecl","exp":{"op":"GT","exp2":{"i":30,"type":"LiteralInteger"},"exp1":{"ident":"age","exp":{"ident":"boss","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"officemate","exp":{"ident":"officemate","type":"IdentExp"},"type":"DotExp"},"exp1":{"type":"ThisLiteral"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"ident":"boss","type":"IdentExp"}}],"exp1":{"ident":"avoid","type":"IdentExp"},"type":"FunApplExp"}}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["Person"],"type":"QualifiedName"},"type":"IdentType"}]}],"type":"Model"},"typeChecks":true,"name":"testsmt8.k","model":"\nclass Person {\n  age:Int\n\n  fun getAge : Int\n  {\n    age\n  }\n\n  req getAge() > 18\n}\n\nclass Employee extending Person {\n  boss:Person\n  officemate:Employee\n\n  fun avoid(p:Employee) : Bool\n  {\n    officemate != p\n  }\n\n  req boss.age > 30\n\n  req this = officemate.officemate\n\n  req avoid(boss)\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((Person (mk-Person (age Int)))))\n(declare-datatypes () ((Employee (mk-Employee (age Int)(boss Ref)(officemate Ref)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-Person (sel-Person Person))\n  (lift-Employee (sel-Employee Employee))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-Person ((this Ref)) Bool\n  (is-lift-Person (deref this))\n)\n\n(define-fun deref-Person ((this Ref)) Person\n  (sel-Person (deref this))\n)\n\n(define-fun deref-is-Employee ((this Ref)) Bool\n  (is-lift-Employee (deref this))\n)\n\n(define-fun deref-Employee ((this Ref)) Employee\n  (sel-Employee (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-Person ((this Ref)) Bool\n  (or\n    (deref-is-Person this)\n    (deref-is-Employee this)\n  )\n)\n\n(define-fun deref-isa-Employee ((this Ref)) Bool\n  (deref-is-Employee this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -----------------------------\n;   Getters for class Person:\n; -----------------------------\n\n; --- getters for Person.age: ---\n\n(define-fun Person.age ((this Ref)) Int\n  (ite (deref-is-Person this) (age (deref-Person this))\n  (age (deref-Employee this)))\n)\n\n(define-fun Person!age ((this Ref)) Int\n  (age (deref-Person this))\n)\n\n; -------------------------------\n;   Getters for class Employee:\n; -------------------------------\n\n; --- getters for Employee.age: ---\n\n(define-fun Employee.age ((this Ref)) Int\n  (age (deref-Employee this))\n)\n\n(define-fun Employee!age ((this Ref)) Int\n  (age (deref-Employee this))\n)\n\n; --- getters for Employee.boss: ---\n\n(define-fun Employee!boss ((this Ref)) Ref\n  (boss (deref-Employee this))\n)\n\n; --- getters for Employee.officemate: ---\n\n(define-fun Employee.officemate ((this Ref)) Ref\n  (officemate (deref-Employee this))\n)\n\n(define-fun Employee!officemate ((this Ref)) Ref\n  (officemate (deref-Employee this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -----------------------------\n;   Methods for class Person:\n; -----------------------------\n\n(define-fun Person.getAge ((this Ref)) Int\n  (Person.age this) \n)\n\n(define-fun Person!getAge ((this Ref)) Int\n  (Person!age this) \n)\n\n; -------------------------------\n;   Methods for class Employee:\n; -------------------------------\n\n(define-fun Employee.getAge ((this Ref)) Int\n  (Employee.age this) \n)\n\n(define-fun Employee!getAge ((this Ref)) Int\n  (Employee!age this) \n)\n\n(define-fun Employee.avoid ((this Ref)(p Ref)) Bool\n  (not (= (Employee.officemate this)  p))\n)\n\n(define-fun Employee!avoid ((this Ref)(p Ref)) Bool\n  (not (= (Employee!officemate this)  p))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; -------------------------------\n;   Invariant for class Person:\n; -------------------------------\n\n(define-fun Person.inv ((this Ref)) Bool\n  (and\n    (> (Person!getAge this ) 18)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Person this) (Person.inv this))\n))\n\n; ---------------------------------\n;   Invariant for class Employee:\n; ---------------------------------\n\n(define-fun Employee.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Person (Employee!boss this))\n    (deref-isa-Employee (Employee!officemate this))\n    (> (Employee!getAge this ) 18)\n    (> (Person.age (Employee!boss this) ) 30)\n    (= this (Employee.officemate (Employee!officemate this) ))\n    (Employee!avoid this (Employee!boss this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Employee this) (Employee.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfPerson Ref)) (deref-is-Person instanceOfPerson)))\n(assert (exists ((instanceOfEmployee Ref)) (deref-is-Employee instanceOfEmployee)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!2 TopLevelDeclarations!val!8 TopLevelDeclarations!val!18 TopLevelDeclarations!val!24 TopLevelDeclarations!val!5 TopLevelDeclarations!val!6 TopLevelDeclarations!val!4 TopLevelDeclarations!val!14 TopLevelDeclarations!val!51 TopLevelDeclarations!val!22 TopLevelDeclarations!val!46 TopLevelDeclarations!val!52 TopLevelDeclarations!val!39 TopLevelDeclarations!val!0 TopLevelDeclarations!val!29 TopLevelDeclarations!val!20 TopLevelDeclarations!val!27 TopLevelDeclarations!val!34 TopLevelDeclarations!val!16 TopLevelDeclarations!val!23 TopLevelDeclarations!val!36 TopLevelDeclarations!val!26 TopLevelDeclarations!val!37 TopLevelDeclarations!val!9 TopLevelDeclarations!val!48 TopLevelDeclarations!val!7 TopLevelDeclarations!val!44 TopLevelDeclarations!val!31 TopLevelDeclarations!val!50 TopLevelDeclarations!val!32 TopLevelDeclarations!val!30 TopLevelDeclarations!val!13 TopLevelDeclarations!val!3 TopLevelDeclarations!val!15 TopLevelDeclarations!val!53 TopLevelDeclarations!val!12 TopLevelDeclarations!val!28 TopLevelDeclarations!val!45 TopLevelDeclarations!val!49 TopLevelDeclarations!val!10 TopLevelDeclarations!val!11 TopLevelDeclarations!val!47 TopLevelDeclarations!val!19 TopLevelDeclarations!val!40 TopLevelDeclarations!val!33 TopLevelDeclarations!val!25 TopLevelDeclarations!val!41 TopLevelDeclarations!val!42 TopLevelDeclarations!val!35 TopLevelDeclarations!val!43 TopLevelDeclarations!val!38 TopLevelDeclarations!val!1 TopLevelDeclarations!val!21 TopLevelDeclarations!val!17 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!2 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!8 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!18 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!24 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!5 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!6 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!4 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!14 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!51 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!22 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!46 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!52 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!39 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!29 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!20 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!27 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!34 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!16 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!23 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!36 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!26 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!37 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!9 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!48 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!7 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!44 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!31 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!50 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!32 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!30 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!13 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!3 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!15 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!53 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!12 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!28 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!45 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!49 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!10 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!11 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!47 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!19 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!40 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!33 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!25 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!41 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!42 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!35 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!43 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!38 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!1 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!21 () TopLevelDeclarations)\n(declare-fun TopLevelDeclarations!val!17 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations))\n        (or (= x TopLevelDeclarations!val!2)\n            (= x TopLevelDeclarations!val!8)\n            (= x TopLevelDeclarations!val!18)\n            (= x TopLevelDeclarations!val!24)\n            (= x TopLevelDeclarations!val!5)\n            (= x TopLevelDeclarations!val!6)\n            (= x TopLevelDeclarations!val!4)\n            (= x TopLevelDeclarations!val!14)\n            (= x TopLevelDeclarations!val!51)\n            (= x TopLevelDeclarations!val!22)\n            (= x TopLevelDeclarations!val!46)\n            (= x TopLevelDeclarations!val!52)\n            (= x TopLevelDeclarations!val!39)\n            (= x TopLevelDeclarations!val!0)\n            (= x TopLevelDeclarations!val!29)\n            (= x TopLevelDeclarations!val!20)\n            (= x TopLevelDeclarations!val!27)\n            (= x TopLevelDeclarations!val!34)\n            (= x TopLevelDeclarations!val!16)\n            (= x TopLevelDeclarations!val!23)\n            (= x TopLevelDeclarations!val!36)\n            (= x TopLevelDeclarations!val!26)\n            (= x TopLevelDeclarations!val!37)\n            (= x TopLevelDeclarations!val!9)\n            (= x TopLevelDeclarations!val!48)\n            (= x TopLevelDeclarations!val!7)\n            (= x TopLevelDeclarations!val!44)\n            (= x TopLevelDeclarations!val!31)\n            (= x TopLevelDeclarations!val!50)\n            (= x TopLevelDeclarations!val!32)\n            (= x TopLevelDeclarations!val!30)\n            (= x TopLevelDeclarations!val!13)\n            (= x TopLevelDeclarations!val!3)\n            (= x TopLevelDeclarations!val!15)\n            (= x TopLevelDeclarations!val!53)\n            (= x TopLevelDeclarations!val!12)\n            (= x TopLevelDeclarations!val!28)\n            (= x TopLevelDeclarations!val!45)\n            (= x TopLevelDeclarations!val!49)\n            (= x TopLevelDeclarations!val!10)\n            (= x TopLevelDeclarations!val!11)\n            (= x TopLevelDeclarations!val!47)\n            (= x TopLevelDeclarations!val!19)\n            (= x TopLevelDeclarations!val!40)\n            (= x TopLevelDeclarations!val!33)\n            (= x TopLevelDeclarations!val!25)\n            (= x TopLevelDeclarations!val!41)\n            (= x TopLevelDeclarations!val!42)\n            (= x TopLevelDeclarations!val!35)\n            (= x TopLevelDeclarations!val!43)\n            (= x TopLevelDeclarations!val!38)\n            (= x TopLevelDeclarations!val!1)\n            (= x TopLevelDeclarations!val!21)\n            (= x TopLevelDeclarations!val!17)))\n;; -----------\n(define-fun instanceOfEmployee!1 () Int\n  4)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!12))\n(define-fun instanceOfPerson!0 () Int\n  1)\n(define-fun k!12 ((x!1 Int)) Any\n  (ite (= x!1 62) (lift-Employee (mk-Employee 1524 63 64))\n  (ite (= x!1 51) (lift-TopLevelDeclarations TopLevelDeclarations!val!21)\n  (ite (= x!1 84) (lift-TopLevelDeclarations TopLevelDeclarations!val!39)\n  (ite (= x!1 8) (lift-TopLevelDeclarations TopLevelDeclarations!val!51)\n  (ite (= x!1 46) (lift-TopLevelDeclarations TopLevelDeclarations!val!53)\n  (ite (= x!1 68) (lift-Person (mk-Person 4003))\n  (ite (= x!1 63) (lift-Employee (mk-Employee 9162 69 70))\n  (ite (= x!1 55) (lift-TopLevelDeclarations TopLevelDeclarations!val!42)\n  (ite (= x!1 53) (lift-TopLevelDeclarations TopLevelDeclarations!val!44)\n  (ite (= x!1 58) (lift-Employee (mk-Employee 5346 59 2))\n  (ite (= x!1 32) (lift-TopLevelDeclarations TopLevelDeclarations!val!15)\n  (ite (= x!1 20) (lift-TopLevelDeclarations TopLevelDeclarations!val!47)\n  (ite (= x!1 4) (lift-Employee (mk-Employee 19 2 3))\n  (ite (= x!1 79) (lift-Employee (mk-Employee 8873 80 72))\n  (ite (= x!1 18) (lift-TopLevelDeclarations TopLevelDeclarations!val!19)\n  (ite (= x!1 38) (lift-TopLevelDeclarations TopLevelDeclarations!val!6)\n  (ite (= x!1 43) (lift-TopLevelDeclarations TopLevelDeclarations!val!4)\n  (ite (= x!1 30) (lift-TopLevelDeclarations TopLevelDeclarations!val!32)\n  (ite (= x!1 76) (lift-Employee (mk-Employee 6407 77 66))\n  (ite (= x!1 75) (lift-Person (mk-Person 750))\n  (ite (= x!1 12) (lift-TopLevelDeclarations TopLevelDeclarations!val!9)\n  (ite (= x!1 33) (lift-TopLevelDeclarations TopLevelDeclarations!val!2)\n  (ite (= x!1 5) (lift-Employee (mk-Employee 2271 60 61))\n  (ite (= x!1 85) (lift-TopLevelDeclarations TopLevelDeclarations!val!45)\n  (ite (= x!1 24) (lift-TopLevelDeclarations TopLevelDeclarations!val!30)\n  (ite (= x!1 11) (lift-TopLevelDeclarations TopLevelDeclarations!val!37)\n  (ite (= x!1 29) (lift-TopLevelDeclarations TopLevelDeclarations!val!27)\n  (ite (= x!1 34) (lift-TopLevelDeclarations TopLevelDeclarations!val!34)\n  (ite (= x!1 52) (lift-TopLevelDeclarations TopLevelDeclarations!val!31)\n  (ite (= x!1 56) (lift-TopLevelDeclarations TopLevelDeclarations!val!52)\n  (ite (= x!1 64) (lift-Employee (mk-Employee 8591 65 62))\n  (ite (= x!1 45) (lift-TopLevelDeclarations TopLevelDeclarations!val!50)\n  (ite (= x!1 26) (lift-TopLevelDeclarations TopLevelDeclarations!val!10)\n  (ite (= x!1 70) (lift-Employee (mk-Employee 1929 71 63))\n  (ite (= x!1 16) (lift-TopLevelDeclarations TopLevelDeclarations!val!18)\n  (ite (= x!1 35) (lift-TopLevelDeclarations TopLevelDeclarations!val!11)\n  (ite (= x!1 6) (lift-TopLevelDeclarations TopLevelDeclarations!val!16)\n  (ite (= x!1 61) (lift-Employee (mk-Employee 2761 62 5))\n  (ite (= x!1 9) (lift-TopLevelDeclarations TopLevelDeclarations!val!1)\n  (ite (= x!1 42) (lift-TopLevelDeclarations TopLevelDeclarations!val!8)\n  (ite (= x!1 49) (lift-TopLevelDeclarations TopLevelDeclarations!val!25)\n  (ite (= x!1 10) (lift-TopLevelDeclarations TopLevelDeclarations!val!7)\n  (ite (= x!1 66) (lift-Employee (mk-Employee 8499 75 76))\n  (ite (= x!1 14) (lift-TopLevelDeclarations TopLevelDeclarations!val!12)\n  (ite (= x!1 13) (lift-TopLevelDeclarations TopLevelDeclarations!val!38)\n  (ite (= x!1 67) (lift-Employee (mk-Employee 3038 68 65))\n  (ite (= x!1 65) (lift-Employee (mk-Employee 8680 66 67))\n  (ite (= x!1 15) (lift-TopLevelDeclarations TopLevelDeclarations!val!48)\n  (ite (= x!1 60) (lift-Person (mk-Person 6789))\n  (ite (= x!1 41) (lift-TopLevelDeclarations TopLevelDeclarations!val!49)\n  (ite (= x!1 48) (lift-TopLevelDeclarations TopLevelDeclarations!val!35)\n  (ite (= x!1 1) (lift-Person (mk-Person 8475))\n  (ite (= x!1 73) (lift-Employee (mk-Employee 3493 74 69))\n  (ite (= x!1 69) (lift-Employee (mk-Employee 851 72 73))\n  (ite (= x!1 57) (lift-Person (mk-Person 5110))\n  (ite (= x!1 28) (lift-TopLevelDeclarations TopLevelDeclarations!val!5)\n  (ite (= x!1 22) (lift-TopLevelDeclarations TopLevelDeclarations!val!17)\n  (ite (= x!1 72) (lift-Employee (mk-Employee 2184 78 79))\n  (ite (= x!1 3) (lift-Employee (mk-Employee 1342 5 4))\n  (ite (= x!1 82) (lift-TopLevelDeclarations TopLevelDeclarations!val!41)\n  (ite (= x!1 77) (lift-Person (mk-Person 1284))\n  (ite (= x!1 17) (lift-TopLevelDeclarations TopLevelDeclarations!val!36)\n  (ite (= x!1 50) (lift-TopLevelDeclarations TopLevelDeclarations!val!43)\n  (ite (= x!1 37) (lift-TopLevelDeclarations TopLevelDeclarations!val!40)\n  (ite (= x!1 7) (lift-TopLevelDeclarations TopLevelDeclarations!val!23)\n  (ite (= x!1 21) (lift-TopLevelDeclarations TopLevelDeclarations!val!3)\n  (ite (= x!1 36) (lift-TopLevelDeclarations TopLevelDeclarations!val!24)\n  (ite (= x!1 2) (lift-Employee (mk-Employee 31 57 58))\n  (ite (= x!1 59) (lift-Person (mk-Person 143))\n  (ite (= x!1 80) (lift-Person (mk-Person 6523))\n  (ite (= x!1 23) (lift-TopLevelDeclarations TopLevelDeclarations!val!26)\n  (ite (= x!1 44) (lift-TopLevelDeclarations TopLevelDeclarations!val!33)\n  (ite (= x!1 39) (lift-TopLevelDeclarations TopLevelDeclarations!val!14)\n  (ite (= x!1 78) (lift-Person (mk-Person 3478))\n  (ite (= x!1 25) (lift-TopLevelDeclarations TopLevelDeclarations!val!13)\n  (ite (= x!1 81) (lift-TopLevelDeclarations TopLevelDeclarations!val!28)\n  (ite (= x!1 74) (lift-Person (mk-Person 6467))\n  (ite (= x!1 71) (lift-Person (mk-Person 1482))\n  (ite (= x!1 40) (lift-TopLevelDeclarations TopLevelDeclarations!val!46)\n  (ite (= x!1 47) (lift-TopLevelDeclarations TopLevelDeclarations!val!20)\n  (ite (= x!1 27) (lift-TopLevelDeclarations TopLevelDeclarations!val!29)\n  (ite (= x!1 54) (lift-TopLevelDeclarations TopLevelDeclarations!val!22)\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))"},"testsmt7.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"a","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"a"},{"type":"ElementValue","element":"k"}]}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"name":"iA","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"b","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"g","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"iA"},"f"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"iA"},"a"]},{"type":"ElementValue","element":"b"}]},{"type":"ElementValue","element":"k"}]}]}]}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"name":"iA","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"c","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"h","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"iA"},"f"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"iA"},"a"]},{"type":"ElementValue","element":"c"}]},{"type":"ElementValue","element":"k"}]}]}]}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]},"name":"iB","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["C"],"type":"QualifiedName"}]},"name":"iC","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"d","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},4]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"iB"},"iA"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"iC"},"iA"]}]}},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"i","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"iB"},"iA"]},"a"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"iB"},"b"]}]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"iC"},"c"]}]},{"type":"ElementValue","element":"d"}]},{"type":"ElementValue","element":"k"}]}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Master","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["D"],"type":"QualifiedName"}]},"name":"d","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"main","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"d"},"iB"]},"iA"]},"f"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}]},{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"d"},"iB"]},"g"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]}]}]}]},{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"d"},"i"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]}]}]}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"r","expr":{"type":"ElementValue","element":"main"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"r"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},21]}]}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"i":1,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"name":"iA","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"i":2,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"g","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"op":"Plus","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"b","type":"IdentExp"},"exp1":{"ident":"a","exp":{"ident":"iA","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"},"type":"BinExp"}}],"exp1":{"ident":"f","exp":{"ident":"iA","type":"IdentExp"},"type":"DotExp"},"type":"FunApplExp"}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"name":"iA","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"c","expr":{"i":3,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"h","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"op":"Plus","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"c","type":"IdentExp"},"exp1":{"ident":"a","exp":{"ident":"iA","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"},"type":"BinExp"}}],"exp1":{"ident":"f","exp":{"ident":"iA","type":"IdentExp"},"type":"DotExp"},"type":"FunApplExp"}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"},"name":"iB","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["C"],"type":"QualifiedName"},"type":"IdentType"},"name":"iC","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"d","expr":{"i":4,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"iA","exp":{"ident":"iC","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"iA","exp":{"ident":"iB","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}},{"ty":{"type":"IntType"},"ident":"i","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"d","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"c","exp":{"ident":"iC","type":"IdentExp"},"type":"DotExp"},"exp1":{"op":"Plus","exp2":{"ident":"b","exp":{"ident":"iB","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"a","exp":{"ident":"iA","exp":{"ident":"iB","type":"IdentExp"},"type":"DotExp"},"type":"DotExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Master","members":[{"ty":{"args":[],"ident":{"names":["D"],"type":"QualifiedName"},"type":"IdentType"},"name":"d","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"main","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"args":[{"type":"PositionalArgument","exp":{"i":3,"type":"LiteralInteger"}}],"exp1":{"ident":"i","exp":{"ident":"d","type":"IdentExp"},"type":"DotExp"},"type":"FunApplExp"},"exp1":{"op":"Plus","exp2":{"args":[{"type":"PositionalArgument","exp":{"i":2,"type":"LiteralInteger"}}],"exp1":{"ident":"g","exp":{"ident":"iB","exp":{"ident":"d","type":"IdentExp"},"type":"DotExp"},"type":"DotExp"},"type":"FunApplExp"},"exp1":{"args":[{"type":"PositionalArgument","exp":{"i":1,"type":"LiteralInteger"}}],"exp1":{"ident":"f","exp":{"ident":"iA","exp":{"ident":"iB","exp":{"ident":"d","type":"IdentExp"},"type":"DotExp"},"type":"DotExp"},"type":"DotExp"},"type":"FunApplExp"},"type":"BinExp"},"type":"BinExp"}}],"spec":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"r","expr":{"ident":"main","type":"IdentExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":21,"type":"LiteralInteger"},"exp1":{"ident":"r","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt7.k","model":"\nclass A {\n  a:Int = 1\n\n  fun f(k:Int) : Int\n  {\n    a + k\n  }\n}\n\nclass B {\n  iA:A\n  b:Int = 2\n\n  fun g(k:Int) : Int\n  {\n    iA.f(iA.a + b + k)\n  }\n}\n\nclass C {\n  iA:A\n  c:Int = 3\n\n  fun h(k:Int) : Int\n  {\n    iA.f(iA.a + c + k)\n  }\n}\n\nclass D {\n  iB:B\n  iC:C\n  d:Int = 4\n\n  req iB.iA = iC.iA\n\n  fun i(k:Int) : Int\n  {\n    iB.iA.a + iB.b + iC.c + d + k\n  }\n}\n\nclass Master {\n  d:D\n\n  fun main : Int\n  {\n    d.iB.iA.f(1) + d.iB.g(2) + d.i(3)\n  }\n  r:Int = main\n\n  req r = 21\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (iA Ref)(b Int)))))\n(declare-datatypes () ((C (mk-C (iA Ref)(c Int)))))\n(declare-datatypes () ((D (mk-D (iB Ref)(iC Ref)(d Int)))))\n(declare-datatypes () ((Master (mk-Master (d Ref)(r Int)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-Master (sel-Master Master))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-Master ((this Ref)) Bool\n  (is-lift-Master (deref this))\n)\n\n(define-fun deref-Master ((this Ref)) Master\n  (sel-Master (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (deref-is-D this)\n)\n\n(define-fun deref-isa-Master ((this Ref)) Bool\n  (deref-is-Master this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.iA: ---\n\n(define-fun B.iA ((this Ref)) Ref\n  (iA (deref-B this))\n)\n\n(define-fun B!iA ((this Ref)) Ref\n  (iA (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B.b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.iA: ---\n\n(define-fun C.iA ((this Ref)) Ref\n  (iA (deref-C this))\n)\n\n(define-fun C!iA ((this Ref)) Ref\n  (iA (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.iB: ---\n\n(define-fun D.iB ((this Ref)) Ref\n  (iB (deref-D this))\n)\n\n(define-fun D!iB ((this Ref)) Ref\n  (iB (deref-D this))\n)\n\n; --- getters for D.iC: ---\n\n(define-fun D.iC ((this Ref)) Ref\n  (iC (deref-D this))\n)\n\n(define-fun D!iC ((this Ref)) Ref\n  (iC (deref-D this))\n)\n\n; --- getters for D.d: ---\n\n(define-fun D.d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; -----------------------------\n;   Getters for class Master:\n; -----------------------------\n\n; --- getters for Master.d: ---\n\n(define-fun Master.d ((this Ref)) Ref\n  (d (deref-Master this))\n)\n\n(define-fun Master!d ((this Ref)) Ref\n  (d (deref-Master this))\n)\n\n; --- getters for Master.r: ---\n\n(define-fun Master!r ((this Ref)) Int\n  (r (deref-Master this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.f ((this Ref)(k Int)) Int\n  (+ (A.a this)  k)\n)\n\n(define-fun A!f ((this Ref)(k Int)) Int\n  (+ (A!a this)  k)\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.g ((this Ref)(k Int)) Int\n  (A.f (B.iA this)  (+ (+ (A.a (B.iA this) ) (B.b this) ) k))\n)\n\n(define-fun B!g ((this Ref)(k Int)) Int\n  (A.f (B!iA this)  (+ (+ (A.a (B!iA this) ) (B!b this) ) k))\n)\n\n; ------------------------\n;   Methods for class C:\n; ------------------------\n\n(define-fun C.h ((this Ref)(k Int)) Int\n  (A.f (C.iA this)  (+ (+ (A.a (C.iA this) ) (C.c this) ) k))\n)\n\n(define-fun C!h ((this Ref)(k Int)) Int\n  (A.f (C!iA this)  (+ (+ (A.a (C!iA this) ) (C!c this) ) k))\n)\n\n; ------------------------\n;   Methods for class D:\n; ------------------------\n\n(define-fun D.i ((this Ref)(k Int)) Int\n  (+ (+ (+ (+ (A.a (B.iA (D.iB this) )) (B.b (D.iB this) )) (C.c (D.iC this) )) (D.d this) ) k)\n)\n\n(define-fun D!i ((this Ref)(k Int)) Int\n  (+ (+ (+ (+ (A.a (B.iA (D!iB this) )) (B.b (D!iB this) )) (C.c (D!iC this) )) (D!d this) ) k)\n)\n\n; -----------------------------\n;   Methods for class Master:\n; -----------------------------\n\n(define-fun Master.main ((this Ref)) Int\n  (+ (+ (A.f (B.iA (D.iB (Master.d this) )) 1) (B.g (D.iB (Master.d this) ) 2)) (D.i (Master.d this)  3))\n)\n\n(define-fun Master!main ((this Ref)) Int\n  (+ (+ (A.f (B.iA (D.iB (Master!d this) )) 1) (B.g (D.iB (Master!d this) ) 2)) (D.i (Master!d this)  3))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!b this) 2)\n    (deref-isa-A (B!iA this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (C!c this) 3)\n    (deref-isa-A (C!iA this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (= (D!d this) 4)\n    (deref-isa-B (D!iB this))\n    (deref-isa-C (D!iC this))\n    (= (B.iA (D!iB this) ) (C.iA (D!iC this) ))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; -------------------------------\n;   Invariant for class Master:\n; -------------------------------\n\n(define-fun Master.inv ((this Ref)) Bool\n  (and\n    (= (Master!r this) (Master!main this) )\n    (deref-isa-D (Master!d this))\n    (= (Master!r this)  21)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Master this) (Master.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (exists ((instanceOfMaster Ref)) (deref-is-Master instanceOfMaster)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun instanceOfMaster!4 () Int\n  9)\n(define-fun instanceOfD!3 () Int\n  8)\n(define-fun instanceOfC!2 () Int\n  7)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!5))\n(define-fun instanceOfB!1 () Int\n  6)\n(define-fun instanceOfA!0 () Int\n  5)\n(define-fun k!6 ((x!1 Int)) Int\n  (ite (= x!1 8) 8\n  (ite (= x!1 9) 9\n  (ite (= x!1 0) 0\n  (ite (= x!1 11) 11\n  (ite (= x!1 12) 12\n  (ite (= x!1 13) 13\n  (ite (= x!1 5) 5\n  (ite (= x!1 15) 15\n  (ite (= x!1 18) 18\n  (ite (= x!1 14) 14\n  (ite (= x!1 7) 7\n  (ite (= x!1 20) 20\n  (ite (= x!1 10) 10\n  (ite (= x!1 6) 6\n    22)))))))))))))))\n(define-fun k!5!7 ((x!1 Int)) Any\n  (ite (= x!1 12) (lift-B (mk-B 15 2))\n  (ite (= x!1 8) (lift-D (mk-D 12 13 4))\n  (ite (= x!1 22) (lift-C (mk-C 18 3))\n  (ite (= x!1 13) (lift-C (mk-C 15 3))\n  (ite (= x!1 9) (lift-Master (mk-Master 14 21))\n  (ite (= x!1 7) (lift-C (mk-C 11 3))\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 14) (lift-D (mk-D 20 22 4))\n  (ite (= x!1 20) (lift-B (mk-B 18 2))\n  (ite (= x!1 6) (lift-B (mk-B 10 2))\n    (lift-A (mk-A 1)))))))))))))\n(define-fun k!5 ((x!1 Int)) Any\n  (k!5!7 (k!6 x!1)))"},"inheritance8.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"a","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"b","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"c","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]},"name":"bb","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"d","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"E","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"e","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["D"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"F","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"f","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["C"],"type":"QualifiedName"}]},{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["E"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"G","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["E"],"type":"QualifiedName"}]},"name":"ee","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"g","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["E"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"H","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"h","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"tsum","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"a"},{"type":"ElementValue","element":"b"}]},{"type":"ElementValue","element":"c"}]},{"type":"ElementValue","element":"d"}]},{"type":"ElementValue","element":"e"}]},{"type":"ElementValue","element":"f"}]},{"type":"ElementValue","element":"g"}]},{"type":"ElementValue","element":"h"}]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["F"],"type":"QualifiedName"}]},{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["G"],"type":"QualifiedName"}]}]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["H"],"type":"QualifiedName"}]},"assignment":false,"name":"h","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"H"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"a",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"b",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"c",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"d",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},4]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"e",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},5]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"f",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},6]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"g",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},7]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"h",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},8]}]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"h"},"tsum"]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},36]}]}}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"a","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"name":"b","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"IntType"},"name":"c","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"},"name":"bb","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"d","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"E","members":[{"ty":{"type":"IntType"},"name":"e","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["D"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"F","members":[{"ty":{"type":"IntType"},"name":"f","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["C"],"type":"QualifiedName"},"type":"IdentType"},{"args":[],"ident":{"names":["E"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"G","members":[{"ty":{"args":[],"ident":{"names":["E"],"type":"QualifiedName"},"type":"IdentType"},"name":"ee","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"g","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["E"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"H","members":[{"ty":{"type":"IntType"},"name":"h","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"tsum","expr":{"op":"Plus","exp2":{"ident":"h","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"g","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"f","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"e","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"d","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"c","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"b","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["F"],"type":"QualifiedName"},"type":"IdentType"},{"args":[],"ident":{"names":["G"],"type":"QualifiedName"},"type":"IdentType"}]},{"ty":{"args":[],"ident":{"names":["H"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"h","expr":{"args":[{"ident":"a","type":"NamedArgument","exp":{"i":1,"type":"LiteralInteger"}},{"ident":"b","type":"NamedArgument","exp":{"i":2,"type":"LiteralInteger"}},{"ident":"c","type":"NamedArgument","exp":{"i":3,"type":"LiteralInteger"}},{"ident":"d","type":"NamedArgument","exp":{"i":4,"type":"LiteralInteger"}},{"ident":"e","type":"NamedArgument","exp":{"i":5,"type":"LiteralInteger"}},{"ident":"f","type":"NamedArgument","exp":{"i":6,"type":"LiteralInteger"}},{"ident":"g","type":"NamedArgument","exp":{"i":7,"type":"LiteralInteger"}},{"ident":"h","type":"NamedArgument","exp":{"i":8,"type":"LiteralInteger"}}],"exp1":{"ident":"H","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":36,"type":"LiteralInteger"},"exp1":{"ident":"tsum","exp":{"ident":"h","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}}],"type":"Model"},"typeChecks":true,"name":"inheritance8.k","model":"\nclass A {\n  a:Int\n}\n\nclass B {\n  b:Int\n}\n\nclass C extending A,B {\n  c:Int\n}\n\nclass D {\n  bb:B\n  d:Int\n}\n\nclass E extending D {\n  e:Int\n}\n\nclass F extending C,E {\n  f:Int\n}\n\nclass G extending E {\n  ee:E\n  g:Int\n}\n\nclass H extending F,G {\n  h:Int\n  tsum:Int = a + b + c + d + e + f + g + h\n}\n\nh:H = H(a :: 1,b :: 2,c :: 3,d :: 4,e :: 5,f :: 6,g :: 7,h :: 8)\n\nreq h.tsum = 36\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (b Int)))))\n(declare-datatypes () ((D (mk-D (bb Ref)(d Int)))))\n(declare-datatypes () ((E (mk-E (bb Ref)(d Int)(e Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)))))\n(declare-datatypes () ((G (mk-G (bb Ref)(d Int)(e Int)(ee Ref)(g Int)))))\n(declare-datatypes () ((F (mk-F (a Int)(b Int)(c Int)(bb Ref)(d Int)(e Int)(f Int)))))\n(declare-datatypes () ((H (mk-H (a Int)(b Int)(c Int)(bb Ref)(d Int)(e Int)(f Int)(ee Ref)(g Int)(h Int)(tsum Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (h Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-D (sel-D D))\n  (lift-E (sel-E E))\n  (lift-C (sel-C C))\n  (lift-G (sel-G G))\n  (lift-F (sel-F F))\n  (lift-H (sel-H H))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-E ((this Ref)) Bool\n  (is-lift-E (deref this))\n)\n\n(define-fun deref-E ((this Ref)) E\n  (sel-E (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-G ((this Ref)) Bool\n  (is-lift-G (deref this))\n)\n\n(define-fun deref-G ((this Ref)) G\n  (sel-G (deref this))\n)\n\n(define-fun deref-is-F ((this Ref)) Bool\n  (is-lift-F (deref this))\n)\n\n(define-fun deref-F ((this Ref)) F\n  (sel-F (deref this))\n)\n\n(define-fun deref-is-H ((this Ref)) Bool\n  (is-lift-H (deref this))\n)\n\n(define-fun deref-H ((this Ref)) H\n  (sel-H (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-C this)\n    (deref-is-F this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-F this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (or\n    (deref-is-D this)\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-E ((this Ref)) Bool\n  (or\n    (deref-is-E this)\n    (deref-is-F this)\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-F this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-G ((this Ref)) Bool\n  (or\n    (deref-is-G this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-F ((this Ref)) Bool\n  (or\n    (deref-is-F this)\n    (deref-is-H this)\n  )\n)\n\n(define-fun deref-isa-H ((this Ref)) Bool\n  (deref-is-H this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.b: ---\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.bb: ---\n\n(define-fun D!bb ((this Ref)) Ref\n  (bb (deref-D this))\n)\n\n; --- getters for D.d: ---\n\n(define-fun D.d ((this Ref)) Int\n  (ite (deref-is-D this) (d (deref-D this))\n  (ite (deref-is-E this) (d (deref-E this))\n  (ite (deref-is-F this) (d (deref-F this))\n  (ite (deref-is-G this) (d (deref-G this))\n  (d (deref-H this))))))\n)\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; ------------------------\n;   Getters for class E:\n; ------------------------\n\n; --- getters for E.bb: ---\n\n(define-fun E!bb ((this Ref)) Ref\n  (bb (deref-E this))\n)\n\n; --- getters for E.d: ---\n\n(define-fun E!d ((this Ref)) Int\n  (d (deref-E this))\n)\n\n; --- getters for E.e: ---\n\n(define-fun E!e ((this Ref)) Int\n  (e (deref-E this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C.a ((this Ref)) Int\n  (ite (deref-is-C this) (a (deref-C this))\n  (ite (deref-is-F this) (a (deref-F this))\n  (a (deref-H this))))\n)\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.b: ---\n\n(define-fun C.b ((this Ref)) Int\n  (ite (deref-is-C this) (b (deref-C this))\n  (ite (deref-is-F this) (b (deref-F this))\n  (b (deref-H this))))\n)\n\n(define-fun C!b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (ite (deref-is-C this) (c (deref-C this))\n  (ite (deref-is-F this) (c (deref-F this))\n  (c (deref-H this))))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ------------------------\n;   Getters for class G:\n; ------------------------\n\n; --- getters for G.bb: ---\n\n(define-fun G!bb ((this Ref)) Ref\n  (bb (deref-G this))\n)\n\n; --- getters for G.d: ---\n\n(define-fun G!d ((this Ref)) Int\n  (d (deref-G this))\n)\n\n; --- getters for G.e: ---\n\n(define-fun G!e ((this Ref)) Int\n  (e (deref-G this))\n)\n\n; --- getters for G.ee: ---\n\n(define-fun G!ee ((this Ref)) Ref\n  (ee (deref-G this))\n)\n\n; --- getters for G.g: ---\n\n(define-fun G!g ((this Ref)) Int\n  (g (deref-G this))\n)\n\n; ------------------------\n;   Getters for class F:\n; ------------------------\n\n; --- getters for F.a: ---\n\n(define-fun F!a ((this Ref)) Int\n  (a (deref-F this))\n)\n\n; --- getters for F.b: ---\n\n(define-fun F!b ((this Ref)) Int\n  (b (deref-F this))\n)\n\n; --- getters for F.c: ---\n\n(define-fun F!c ((this Ref)) Int\n  (c (deref-F this))\n)\n\n; --- getters for F.bb: ---\n\n(define-fun F!bb ((this Ref)) Ref\n  (bb (deref-F this))\n)\n\n; --- getters for F.d: ---\n\n(define-fun F!d ((this Ref)) Int\n  (d (deref-F this))\n)\n\n; --- getters for F.e: ---\n\n(define-fun F!e ((this Ref)) Int\n  (e (deref-F this))\n)\n\n; --- getters for F.f: ---\n\n(define-fun F!f ((this Ref)) Int\n  (f (deref-F this))\n)\n\n; ------------------------\n;   Getters for class H:\n; ------------------------\n\n; --- getters for H.a: ---\n\n(define-fun H.a ((this Ref)) Int\n  (a (deref-H this))\n)\n\n(define-fun H!a ((this Ref)) Int\n  (a (deref-H this))\n)\n\n; --- getters for H.b: ---\n\n(define-fun H.b ((this Ref)) Int\n  (b (deref-H this))\n)\n\n(define-fun H!b ((this Ref)) Int\n  (b (deref-H this))\n)\n\n; --- getters for H.c: ---\n\n(define-fun H.c ((this Ref)) Int\n  (c (deref-H this))\n)\n\n(define-fun H!c ((this Ref)) Int\n  (c (deref-H this))\n)\n\n; --- getters for H.bb: ---\n\n(define-fun H!bb ((this Ref)) Ref\n  (bb (deref-H this))\n)\n\n; --- getters for H.d: ---\n\n(define-fun H.d ((this Ref)) Int\n  (d (deref-H this))\n)\n\n(define-fun H!d ((this Ref)) Int\n  (d (deref-H this))\n)\n\n; --- getters for H.e: ---\n\n(define-fun H.e ((this Ref)) Int\n  (e (deref-H this))\n)\n\n(define-fun H!e ((this Ref)) Int\n  (e (deref-H this))\n)\n\n; --- getters for H.f: ---\n\n(define-fun H.f ((this Ref)) Int\n  (f (deref-H this))\n)\n\n(define-fun H!f ((this Ref)) Int\n  (f (deref-H this))\n)\n\n; --- getters for H.ee: ---\n\n(define-fun H!ee ((this Ref)) Ref\n  (ee (deref-H this))\n)\n\n; --- getters for H.g: ---\n\n(define-fun H.g ((this Ref)) Int\n  (g (deref-H this))\n)\n\n(define-fun H!g ((this Ref)) Int\n  (g (deref-H this))\n)\n\n; --- getters for H.h: ---\n\n(define-fun H!h ((this Ref)) Int\n  (h (deref-H this))\n)\n\n; --- getters for H.tsum: ---\n\n(define-fun H.tsum ((this Ref)) Int\n  (tsum (deref-H this))\n)\n\n(define-fun H!tsum ((this Ref)) Int\n  (tsum (deref-H this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.h: ---\n\n(define-fun TopLevelDeclarations!h ((this Ref)) Ref\n  (h (deref-TopLevelDeclarations this))\n)\n\n; ========================================\n; === Constructor parameter constants: ===\n; ========================================\n\n(declare-const const__1 Ref)\n(declare-const const__2 Ref)\n(declare-const const__3 Int)\n\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (D!bb this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; --------------------------\n;   Invariant for class E:\n; --------------------------\n\n(define-fun E.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (E!bb this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-E this) (E.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class G:\n; --------------------------\n\n(define-fun G.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (G!bb this))\n    (deref-isa-E (G!ee this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-G this) (G.inv this))\n))\n\n; --------------------------\n;   Invariant for class F:\n; --------------------------\n\n(define-fun F.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (F!bb this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-F this) (F.inv this))\n))\n\n; --------------------------\n;   Invariant for class H:\n; --------------------------\n\n(define-fun H.inv ((this Ref)) Bool\n  (and\n    (= (H!tsum this) (+ (+ (+ (+ (+ (+ (+ (H!a this)  (H!b this) ) (H!c this) ) (H!d this) ) (H!e this) ) (H!f this) ) (H!g this) ) (H!h this) ))\n    (deref-isa-B (H!bb this))\n    (deref-isa-E (H!ee this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-H this) (H.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!h this)) (lift-H (mk-H 1 2 3 const__1 4 5 6 const__2 7 8 const__3)))\n    (deref-isa-H (TopLevelDeclarations!h this))\n    (= (H.tsum (TopLevelDeclarations!h this) ) 36)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (exists ((instanceOfE Ref)) (deref-is-E instanceOfE)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfG Ref)) (deref-is-G instanceOfG)))\n(assert (exists ((instanceOfF Ref)) (deref-is-F instanceOfF)))\n(assert (exists ((instanceOfH Ref)) (deref-is-H instanceOfH)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun instanceOfE!3 () Int\n  12)\n(define-fun const__1 () Int\n  44)\n(define-fun const__2 () Int\n  45)\n(define-fun const__3 () Int\n  36)\n(define-fun instanceOfF!6 () Int\n  15)\n(define-fun instanceOfG!5 () Int\n  14)\n(define-fun instanceOfD!2 () Int\n  11)\n(define-fun instanceOfC!4 () Int\n  13)\n(define-fun instanceOfH!7 () Int\n  16)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!8))\n(define-fun instanceOfB!1 () Int\n  10)\n(define-fun instanceOfA!0 () Int\n  9)\n(define-fun k!8!10 ((x!1 Int)) Any\n  (ite (= x!1 130)\n    (lift-H (mk-H (- 36860) 2616 2455 134 867 9531 6878 135 8221 7886 1594))\n  (ite (= x!1 68) (lift-G (mk-G 76 77 78 79 80))\n  (ite (= x!1 45) (lift-F (mk-F 47 48 49 50 51 52 53))\n  (ite (= x!1 61) (lift-F (mk-F 86 87 88 89 90 91 92))\n  (ite (= x!1 121) (lift-F (mk-F 127 128 129 130 131 132 133))\n  (ite (= x!1 179) (lift-C (mk-C 183 184 185))\n  (ite (= x!1 76) (lift-C (mk-C 106 107 108))\n  (ite (= x!1 9) (lift-A (mk-A 17))\n  (ite (= x!1 112) (lift-B (mk-B 120))\n  (ite (= x!1 12) (lift-E (mk-E 21 22 23))\n  (ite (= x!1 19) (lift-C (mk-C 54 55 56))\n  (ite (= x!1 41)\n    (lift-H (mk-H (- 24491) 5853 8098 67 1142 281 535 68 5920 8945 6283))\n  (ite (= x!1 11) (lift-D (mk-D 19 20))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 42))\n  (ite (= x!1 21) (lift-B (mk-B 66))\n  (ite (= x!1 40) (lift-B (mk-B 65))\n  (ite (= x!1 134) (lift-C (mk-C 137 138 139))\n  (ite (= x!1 140) (lift-F (mk-F 143 144 145 146 147 148 149))\n  (ite (= x!1 13) (lift-C (mk-C 24 25 26))\n  (ite (= x!1 141) (lift-G (mk-G 150 151 152 153 154))\n  (ite (= x!1 10) (lift-B (mk-B 18))\n  (ite (= x!1 135)\n    (lift-H (mk-H (- 33767) 2211 1108 140 7578 7065 7629 141 9402 2278 3504))\n  (ite (= x!1 146) (lift-B (mk-B 162))\n  (ite (= x!1 89) (lift-C (mk-C 96 97 98))\n  (ite (= x!1 113) (lift-G (mk-G 115 116 117 118 119))\n  (ite (= x!1 115) (lift-C (mk-C 124 125 126))\n  (ite (= x!1 14) (lift-G (mk-G 27 28 29 30 31))\n  (ite (= x!1 153) (lift-E (mk-E 163 164 165))\n  (ite (= x!1 44) (lift-B (mk-B 57))\n  (ite (= x!1 150) (lift-F (mk-F 155 156 157 158 159 160 161))\n  (ite (= x!1 163) (lift-F (mk-F 166 167 168 169 170 171 172))\n  (ite (= x!1 42) (lift-H (mk-H 1 2 3 44 4 5 6 45 7 8 36))\n  (ite (= x!1 27) (lift-F (mk-F 58 59 60 61 62 63 64))\n  (ite (= x!1 74) (lift-E (mk-E 93 94 95))\n  (ite (= x!1 73) (lift-C (mk-C 83 84 85))\n  (ite (= x!1 79) (lift-F (mk-F 99 100 101 102 103 104 105))\n  (ite (= x!1 15) (lift-F (mk-F 32 33 34 35 37 38 39))\n  (ite (= x!1 50) (lift-B (mk-B 82))\n  (ite (= x!1 16)\n    (lift-H (mk-H 7719 (- 16409) 1236 40 2437 8855 1796 41 2282 449 8365))\n  (ite (= x!1 102)\n    (lift-H (mk-H (- 30133) 9725 2275 112 2446 590 840 113 8586 6906 1235))\n  (ite (= x!1 118) (lift-E (mk-E 121 122 123))\n  (ite (= x!1 158) (lift-C (mk-C 173 174 175))\n  (ite (= x!1 93) (lift-C (mk-C 109 110 111))\n  (ite (= x!1 169) (lift-F (mk-F 176 177 178 179 180 181 182))\n  (ite (= x!1 35) (lift-C (mk-C 70 71 72))\n  (ite (= x!1 67) (lift-B (mk-B 81))\n    (lift-H (mk-H (- 15998) 4679 974 73 1888 1653 5904 74 8456 1323 8879)))))))))))))))))))))))))))))))))))))))))))))))))\n(define-fun k!9 ((x!1 Int)) Int\n  (ite (= x!1 30) 30\n  (ite (= x!1 135) 135\n  (ite (= x!1 118) 118\n  (ite (= x!1 0) 0\n  (ite (= x!1 44) 44\n  (ite (= x!1 61) 61\n  (ite (= x!1 146) 146\n  (ite (= x!1 153) 153\n  (ite (= x!1 13) 13\n  (ite (= x!1 130) 130\n  (ite (= x!1 41) 41\n  (ite (= x!1 169) 169\n  (ite (= x!1 179) 179\n  (ite (= x!1 121) 121\n  (ite (= x!1 163) 163\n  (ite (= x!1 68) 68\n  (ite (= x!1 73) 73\n  (ite (= x!1 112) 112\n  (ite (= x!1 11) 11\n  (ite (= x!1 42) 42\n  (ite (= x!1 140) 140\n  (ite (= x!1 93) 93\n  (ite (= x!1 158) 158\n  (ite (= x!1 19) 19\n  (ite (= x!1 76) 76\n  (ite (= x!1 45) 45\n  (ite (= x!1 102) 102\n  (ite (= x!1 14) 14\n  (ite (= x!1 89) 89\n  (ite (= x!1 134) 134\n  (ite (= x!1 16) 16\n  (ite (= x!1 79) 79\n  (ite (= x!1 9) 9\n  (ite (= x!1 12) 12\n  (ite (= x!1 40) 40\n  (ite (= x!1 35) 35\n  (ite (= x!1 74) 74\n  (ite (= x!1 15) 15\n  (ite (= x!1 113) 113\n  (ite (= x!1 27) 27\n  (ite (= x!1 141) 141\n  (ite (= x!1 115) 115\n  (ite (= x!1 150) 150\n  (ite (= x!1 67) 67\n  (ite (= x!1 10) 10\n  (ite (= x!1 21) 21\n    50)))))))))))))))))))))))))))))))))))))))))))))))\n(define-fun k!8 ((x!1 Int)) Any\n  (k!8!10 (k!9 x!1)))"},"testsmt13.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"a","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"b","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"c","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"d","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"assignment":false,"name":"a","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"C"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"a",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"b",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"c",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]}]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"TypeCastCheckExp","element":"ElementValue"},"false",{"type":"ElementValue","element":"a"},{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"TypeCastCheckExp","element":"ElementValue"},"false",{"type":"ElementValue","element":"a"},{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"TypeCastCheckExp","element":"ElementValue"},"false",{"type":"ElementValue","element":"a"},{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["C"],"type":"QualifiedName"}]}]}}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"a","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"name":"b","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"IntType"},"name":"c","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"type":"IntType"},"name":"d","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"a","expr":{"args":[{"ident":"a","type":"NamedArgument","exp":{"i":1,"type":"LiteralInteger"}},{"ident":"b","type":"NamedArgument","exp":{"i":2,"type":"LiteralInteger"}},{"ident":"c","type":"NamedArgument","exp":{"i":3,"type":"LiteralInteger"}}],"exp1":{"ident":"C","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"cast":"false","ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"type":"TypeCastCheckExp","exp":{"ident":"a","type":"IdentExp"}}},{"type":"ConstraintDecl","exp":{"cast":"false","ty":{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"},"type":"TypeCastCheckExp","exp":{"ident":"a","type":"IdentExp"}}},{"type":"ConstraintDecl","exp":{"cast":"false","ty":{"args":[],"ident":{"names":["C"],"type":"QualifiedName"},"type":"IdentType"},"type":"TypeCastCheckExp","exp":{"ident":"a","type":"IdentExp"}}}],"type":"Model"},"typeChecks":true,"name":"testsmt13.k","model":"\nclass A {\n  a:Int\n}\n\nclass B extending A {\n  b:Int\n}\n\nclass C extending B {\n  c:Int\n}\n\nclass D {\n  d:Int\n}\n\na:A = C(a :: 1,b :: 2,c :: 3)\n\nreq a is A\n\nreq a is B\n\nreq a is C\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)))))\n(declare-datatypes () ((D (mk-D (d Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (a Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (deref-is-D this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (ite (deref-is-A this) (a (deref-A this))\n  (ite (deref-is-B this) (a (deref-B this))\n  (a (deref-C this))))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B.a ((this Ref)) Int\n  (ite (deref-is-B this) (a (deref-B this))\n  (a (deref-C this)))\n)\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B.b ((this Ref)) Int\n  (ite (deref-is-B this) (b (deref-B this))\n  (b (deref-C this)))\n)\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C.a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.b: ---\n\n(define-fun C.b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n(define-fun C!b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.d: ---\n\n(define-fun D.d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.a: ---\n\n(define-fun TopLevelDeclarations!a ((this Ref)) Ref\n  (a (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!a this)) (lift-C (mk-C 1 2 3)))\n    (deref-isa-A (TopLevelDeclarations!a this))\n    (deref-isa-A (TopLevelDeclarations!a this) )\n    (deref-isa-B (TopLevelDeclarations!a this) )\n    (deref-isa-C (TopLevelDeclarations!a this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun instanceOfD!3 () Int\n  7)\n(define-fun instanceOfC!2 () Int\n  6)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!4))\n(define-fun instanceOfB!1 () Int\n  5)\n(define-fun instanceOfA!0 () Int\n  4)\n(define-fun k!5 ((x!1 Int)) Int\n  (ite (= x!1 15) 15\n  (ite (= x!1 7) 7\n  (ite (= x!1 6) 6\n  (ite (= x!1 5) 5\n  (ite (= x!1 4) 4\n    0))))))\n(define-fun k!4!6 ((x!1 Int)) Any\n  (ite (= x!1 6) (lift-C (mk-C 11 12 13))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 15))\n  (ite (= x!1 4) (lift-A (mk-A 8))\n  (ite (= x!1 5) (lift-B (mk-B 9 10))\n  (ite (= x!1 7) (lift-D (mk-D 14))\n    (lift-C (mk-C 1 2 3))))))))\n(define-fun k!4 ((x!1 Int)) Any\n  (k!4!6 (k!5 x!1)))"},"inheritance7.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]},"name":"j","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"j"},"yy"]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"yy","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","keyword":"b","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"entityToken":"b","typeparams":[],"ident":"C","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"z","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"foo","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"ReturnExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}]}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["C"],"type":"QualifiedName"}]},"name":"bobj","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"bobj"},"z"]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"y","type":"PropertyDecl","modifiers":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"x","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"},"name":"j","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"GT","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"GT","exp2":{"i":10,"type":"LiteralInteger"},"exp1":{"ident":"yy","exp":{"ident":"j","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"name":"yy","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","keyword":"b","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"b","typeparams":[],"ident":"C","members":[{"ty":{"type":"IntType"},"name":"z","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"foo","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"ReturnExp","exp":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"args":[],"ident":{"names":["C"],"type":"QualifiedName"},"type":"IdentType"},"name":"bobj","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"z","exp":{"ident":"bobj","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}},{"ty":{"type":"IntType"},"name":"y","type":"PropertyDecl","modifiers":[]}],"type":"Model"},"typeChecks":true,"name":"inheritance7.k","model":"\nclass A {\n  x:Int\n  j:B\n\n  req x > 0\n\n  req j.yy > 10\n}\n\nclass <b> B extending A {\n  yy:Int\n}\n\nb C {\n  z:Int\n\n  fun foo(x:Int) : Int\n  {\n    return x + 1\n  }\n}\n\nbobj:C\n\nreq bobj.z = 1\n\ny:Int\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (x Int)(j Ref)))))\n(declare-datatypes () ((B (mk-B (x Int)(j Ref)(yy Int)))))\n(declare-datatypes () ((C (mk-C (x Int)(j Ref)(yy Int)(z Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (bobj Ref)(y Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (ite (deref-is-A this) (x (deref-A this))\n  (ite (deref-is-B this) (x (deref-B this))\n  (x (deref-C this))))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; --- getters for A.j: ---\n\n(define-fun A!j ((this Ref)) Ref\n  (j (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B.x ((this Ref)) Int\n  (ite (deref-is-B this) (x (deref-B this))\n  (x (deref-C this)))\n)\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.j: ---\n\n(define-fun B!j ((this Ref)) Ref\n  (j (deref-B this))\n)\n\n; --- getters for B.yy: ---\n\n(define-fun B.yy ((this Ref)) Int\n  (ite (deref-is-B this) (yy (deref-B this))\n  (yy (deref-C this)))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.x: ---\n\n(define-fun C!x ((this Ref)) Int\n  (x (deref-C this))\n)\n\n; --- getters for C.j: ---\n\n(define-fun C!j ((this Ref)) Ref\n  (j (deref-C this))\n)\n\n; --- getters for C.z: ---\n\n(define-fun C.z ((this Ref)) Int\n  (z (deref-C this))\n)\n\n(define-fun C!z ((this Ref)) Int\n  (z (deref-C this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.bobj: ---\n\n(define-fun TopLevelDeclarations!bobj ((this Ref)) Ref\n  (bobj (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class C:\n; ------------------------\n\n(define-fun C.foo ((this Ref)(x Int)) Int\n  (+ x 1)\n)\n\n(define-fun C!foo ((this Ref)(x Int)) Int\n  (+ x 1)\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (A!j this))\n    (> (A!x this)  0)\n    (> (B.yy (A!j this) ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (B!j this))\n    (> (B!x this)  0)\n    (> (B.yy (B!j this) ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (deref-isa-B (C!j this))\n    (> (C!x this)  0)\n    (> (B.yy (C!j this) ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-C (TopLevelDeclarations!bobj this))\n    (= (C.z (TopLevelDeclarations!bobj this) ) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun instanceOfC!2 () Int\n  4)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfB!1 () Int\n  3)\n(define-fun instanceOfA!0 () Int\n  2)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 125) (lift-C (mk-C 5328 128 9058 129))\n  (ite (= x!1 111) (lift-B (mk-B 2525 115 1677))\n  (ite (= x!1 78) (lift-B (mk-B 3961 84 3034))\n  (ite (= x!1 20) (lift-B (mk-B 6284 24 1153))\n  (ite (= x!1 120) (lift-B (mk-B 1184 131 815))\n  (ite (= x!1 5) (lift-C (mk-C 2283 16 11 17))\n  (ite (= x!1 2) (lift-A (mk-A 8856 5))\n  (ite (= x!1 90) (lift-B (mk-B 2062 97 5629))\n  (ite (= x!1 132) (lift-B (mk-B 139 140 6901))\n  (ite (= x!1 100) (lift-C (mk-C 9620 102 6059 103))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 12 13))\n  (ite (= x!1 28) (lift-C (mk-C 2617 38 8467 40))\n  (ite (= x!1 49) (lift-B (mk-B 1649 54 7640))\n  (ite (= x!1 57) (lift-B (mk-B 8405 61 2123))\n  (ite (= x!1 61) (lift-B (mk-B 7374 71 4346))\n  (ite (= x!1 121) (lift-B (mk-B 2743 132 6735))\n  (ite (= x!1 128) (lift-B (mk-B 133 134 123))\n  (ite (= x!1 69) (lift-C (mk-C 8004 72 2758 73))\n  (ite (= x!1 43) (lift-B (mk-B 7066 49 8232))\n  (ite (= x!1 94) (lift-B (mk-B 2773 96 4932))\n  (ite (= x!1 67) (lift-B (mk-B 3153 74 5270))\n  (ite (= x!1 96) (lift-C (mk-C 5530 107 6822 108))\n  (ite (= x!1 109) (lift-B (mk-B 9643 114 6539))\n  (ite (= x!1 110) (lift-C (mk-C 1093 116 2589 117))\n  (ite (= x!1 37) (lift-C (mk-C 583 46 3620 47))\n  (ite (= x!1 6) (lift-C (mk-C 282 21 7730 22))\n  (ite (= x!1 65) (lift-B (mk-B 3503 75 4694))\n  (ite (= x!1 16) (lift-C (mk-C 1889 26 460 27))\n  (ite (= x!1 131) (lift-B (mk-B 137 138 6769))\n  (ite (= x!1 84) (lift-C (mk-C 2236 88 635 89))\n  (ite (= x!1 18) (lift-B (mk-B 5921 23 5864))\n  (ite (= x!1 54) (lift-B (mk-B 4771 64 2339))\n  (ite (= x!1 12) (lift-C (mk-C 1797 14 15 1))\n  (ite (= x!1 41) (lift-C (mk-C 3505 52 9542 53))\n  (ite (= x!1 55) (lift-B (mk-B 1103 60 2342))\n  (ite (= x!1 62) (lift-C (mk-C 5942 69 5609 70))\n  (ite (= x!1 124) (lift-B (mk-B 5080 127 3649))\n  (ite (= x!1 31) (lift-B (mk-B 591 35 9736))\n  (ite (= x!1 38) (lift-C (mk-C 868 41 2466 42))\n  (ite (= x!1 50) (lift-C (mk-C 7177 55 2289 56))\n  (ite (= x!1 104) (lift-C (mk-C 436 111 7534 112))\n  (ite (= x!1 26) (lift-C (mk-C 2276 33 1664 34))\n  (ite (= x!1 52) (lift-C (mk-C 9264 57 4397 58))\n  (ite (= x!1 71) (lift-B (mk-B 1392 82 8880))\n  (ite (= x!1 24) (lift-C (mk-C 1324 29 3008 30))\n  (ite (= x!1 115) (lift-B (mk-B 4263 124 3834))\n  (ite (= x!1 25) (lift-C (mk-C 2241 31 985 32))\n  (ite (= x!1 88) (lift-C (mk-C 8747 100 1257 101))\n  (ite (= x!1 113) (lift-C (mk-C 9245 118 6823 119))\n  (ite (= x!1 114) (lift-C (mk-C 9295 121 987 122))\n  (ite (= x!1 85) (lift-B (mk-B 4322 94 7578))\n  (ite (= x!1 92) (lift-C (mk-C 5190 98 2710 99))\n  (ite (= x!1 102) (lift-B (mk-B 2132 110 6344))\n  (ite (= x!1 14) (lift-C (mk-C 610 18 8376 19))\n  (ite (= x!1 4) (lift-C (mk-C 1237 8 9 10))\n  (ite (= x!1 98) (lift-B (mk-B 3578 106 130))\n  (ite (= x!1 118) (lift-B (mk-B 1063 125 3834))\n  (ite (= x!1 97) (lift-C (mk-C 5969 104 3576 105))\n  (ite (= x!1 36) (lift-B (mk-B 7887 45 6917))\n  (ite (= x!1 60) (lift-C (mk-C 6703 67 1661 68))\n  (ite (= x!1 33) (lift-B (mk-B 1236 37 2457))\n  (ite (= x!1 106) (lift-B (mk-B 9159 113 5056))\n  (ite (= x!1 72) (lift-C (mk-C 335 80 6683 81))\n  (ite (= x!1 3) (lift-B (mk-B 39 6 7))\n  (ite (= x!1 107) (lift-B (mk-B 9271 109 4468))\n  (ite (= x!1 127) (lift-B (mk-B 135 136 757))\n  (ite (= x!1 75) (lift-C (mk-C 4187 76 250 77))\n  (ite (= x!1 23) (lift-B (mk-B 5905 28 8956))\n  (ite (= x!1 80) (lift-B (mk-B 1574 83 542))\n  (ite (= x!1 35) (lift-C (mk-C 6879 43 851 44))\n  (ite (= x!1 48) (lift-B (mk-B 4136 59 7589))\n  (ite (= x!1 64) (lift-C (mk-C 3213 65 4107 66))\n  (ite (= x!1 76) (lift-C (mk-C 2830 86 2815 87))\n  (ite (= x!1 74) (lift-C (mk-C 8936 78 1829 79))\n  (ite (= x!1 86) (lift-C (mk-C 3635 90 4176 91))\n  (ite (= x!1 116) (lift-B (mk-B 4021 120 1779))\n  (ite (= x!1 29) (lift-B (mk-B 8587 36 8890))\n  (ite (= x!1 8) (lift-B (mk-B 8099 20 2448))\n  (ite (= x!1 59) (lift-C (mk-C 7855 62 6937 63))\n  (ite (= x!1 83) (lift-C (mk-C 5726 92 5992 93))\n  (ite (= x!1 21) (lift-B (mk-B 4680 25 546))\n  (ite (= x!1 45) (lift-C (mk-C 9403 50 1605 51))\n  (ite (= x!1 46) (lift-B (mk-B 1109 48 2222))\n    (lift-B (mk-B 7066 85 6030))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 102) 102\n  (ite (= x!1 67) 67\n  (ite (= x!1 0) 0\n  (ite (= x!1 59) 59\n  (ite (= x!1 131) 131\n  (ite (= x!1 55) 55\n  (ite (= x!1 69) 69\n  (ite (= x!1 48) 48\n  (ite (= x!1 120) 120\n  (ite (= x!1 50) 50\n  (ite (= x!1 121) 121\n  (ite (= x!1 85) 85\n  (ite (= x!1 33) 33\n  (ite (= x!1 128) 128\n  (ite (= x!1 28) 28\n  (ite (= x!1 100) 100\n  (ite (= x!1 132) 132\n  (ite (= x!1 12) 12\n  (ite (= x!1 97) 97\n  (ite (= x!1 110) 110\n  (ite (= x!1 46) 46\n  (ite (= x!1 92) 92\n  (ite (= x!1 49) 49\n  (ite (= x!1 84) 84\n  (ite (= x!1 24) 24\n  (ite (= x!1 94) 94\n  (ite (= x!1 23) 23\n  (ite (= x!1 88) 88\n  (ite (= x!1 71) 71\n  (ite (= x!1 21) 21\n  (ite (= x!1 36) 36\n  (ite (= x!1 109) 109\n  (ite (= x!1 14) 14\n  (ite (= x!1 3) 3\n  (ite (= x!1 65) 65\n  (ite (= x!1 82) 82\n  (ite (= x!1 26) 26\n  (ite (= x!1 37) 37\n  (ite (= x!1 61) 61\n  (ite (= x!1 6) 6\n  (ite (= x!1 31) 31\n  (ite (= x!1 54) 54\n  (ite (= x!1 83) 83\n  (ite (= x!1 41) 41\n  (ite (= x!1 35) 35\n  (ite (= x!1 74) 74\n  (ite (= x!1 62) 62\n  (ite (= x!1 20) 20\n  (ite (= x!1 57) 57\n  (ite (= x!1 80) 80\n  (ite (= x!1 25) 25\n  (ite (= x!1 106) 106\n  (ite (= x!1 76) 76\n  (ite (= x!1 115) 115\n  (ite (= x!1 113) 113\n  (ite (= x!1 124) 124\n  (ite (= x!1 86) 86\n  (ite (= x!1 125) 125\n  (ite (= x!1 4) 4\n  (ite (= x!1 29) 29\n  (ite (= x!1 107) 107\n  (ite (= x!1 8) 8\n  (ite (= x!1 64) 64\n  (ite (= x!1 52) 52\n  (ite (= x!1 72) 72\n  (ite (= x!1 5) 5\n  (ite (= x!1 104) 104\n  (ite (= x!1 45) 45\n  (ite (= x!1 114) 114\n  (ite (= x!1 18) 18\n  (ite (= x!1 116) 116\n  (ite (= x!1 38) 38\n  (ite (= x!1 118) 118\n  (ite (= x!1 2) 2\n  (ite (= x!1 96) 96\n  (ite (= x!1 60) 60\n  (ite (= x!1 43) 43\n  (ite (= x!1 78) 78\n  (ite (= x!1 16) 16\n  (ite (= x!1 98) 98\n  (ite (= x!1 75) 75\n  (ite (= x!1 111) 111\n  (ite (= x!1 127) 127\n    90))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))"},"testsmt12.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"id","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"IfExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GTE",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]},{"type":"Expression","operand":[{"type":"BlockExp","element":"ElementValue"},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Minus",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"k"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}}]},{"type":"Expression","operand":[{"type":"BlockExp","element":"ElementValue"},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Minus",{"type":"ElementValue","element":"k"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}}]}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"result1","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"id"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},7]}]}]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"result2","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"id"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"UnaryExp","element":"ElementValue"},"Neg",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]}]}]}]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"result","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"result1"},{"type":"ElementValue","element":"result2"}]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"result1"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},7]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"result2"},{"type":"Expression","operand":[{"type":"UnaryExp","element":"ElementValue"},"Neg",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"result"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},4]}]}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"ident":"id","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"trueBranch":{"type":"BlockExp","body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k","expr":{"op":"Minus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"k","type":"IdentExp"},"type":"BinExp"}}]},"falseBranch":{"type":"BlockExp","body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k","expr":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"op":"Minus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"k","type":"IdentExp"},"type":"BinExp"}}]},"type":"IfExp","cond":{"op":"GTE","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}}}],"spec":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"result1","expr":{"args":[{"type":"PositionalArgument","exp":{"i":7,"type":"LiteralInteger"}}],"exp1":{"ident":"id","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"result2","expr":{"args":[{"type":"PositionalArgument","exp":{"op":"Neg","exp":{"i":3,"type":"LiteralInteger"},"type":"UnaryExp"}}],"exp1":{"ident":"id","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"result","expr":{"op":"Plus","exp2":{"ident":"result2","type":"IdentExp"},"exp1":{"ident":"result1","type":"IdentExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":7,"type":"LiteralInteger"},"exp1":{"ident":"result1","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"op":"Neg","exp":{"i":3,"type":"LiteralInteger"},"type":"UnaryExp"},"exp1":{"ident":"result2","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":4,"type":"LiteralInteger"},"exp1":{"ident":"result","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt12.k","model":"\nclass A {\n\n  fun id(x:Int) : Int\n  {\n    if x >= 0 then\n      {\n        k:Int = x - 1\n        k + 1\n      }\n    else\n      {\n        k:Int = x + 1\n        k - 1\n      }\n  }\n  result1:Int = id(7)\n  result2:Int = id(-3)\n  result:Int = result1 + result2\n\n  req result1 = 7\n\n  req result2 = -3\n\n  req result = 4\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (result1 Int)(result2 Int)(result Int)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.result1: ---\n\n(define-fun A!result1 ((this Ref)) Int\n  (result1 (deref-A this))\n)\n\n; --- getters for A.result2: ---\n\n(define-fun A!result2 ((this Ref)) Int\n  (result2 (deref-A this))\n)\n\n; --- getters for A.result: ---\n\n(define-fun A!result ((this Ref)) Int\n  (result (deref-A this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.id ((this Ref)(x Int)) Int\n  (ite (>= x 0)   (let ((k (- x 1)))\n    (+ k 1))   (let ((k (+ x 1)))\n    (- k 1)))\n)\n\n(define-fun A!id ((this Ref)(x Int)) Int\n  (ite (>= x 0)   (let ((k (- x 1)))\n    (+ k 1))   (let ((k (+ x 1)))\n    (- k 1)))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!result1 this) (A!id this 7))\n    (= (A!result2 this) (A!id this (- 3)))\n    (= (A!result this) (+ (A!result1 this)  (A!result2 this) ))\n    (= (A!result1 this)  7)\n    (= (A!result2 this)  (- 3))\n    (= (A!result this)  4)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!1))\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!1!3 ((x!1 Int)) Any\n  (ite (= x!1 1) (lift-A (mk-A 7 (- 3) 4))\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0)))\n(define-fun k!2 ((x!1 Int)) Int\n  (ite (= x!1 1) 1\n    0))\n(define-fun k!1 ((x!1 Int)) Any\n  (k!1!3 (k!2 x!1)))"},"inheritance6.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Person","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Person"],"type":"QualifiedName"}]},"name":"father","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Person"],"type":"QualifiedName"}]},"name":"child","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"father"},"child"]},{"type":"Expression","operand":[{"type":"ThisLiteral","element":"ElementValue"}]}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Person"],"type":"QualifiedName"}]},"name":"p1","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Person"],"type":"QualifiedName"}]},"name":"p2","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"NotEQ",{"type":"ElementValue","element":"p1"},{"type":"ElementValue","element":"p2"}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"p2"},"father"]},{"type":"ElementValue","element":"p1"}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"p1"},"child"]},{"type":"ElementValue","element":"p2"}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"p1"},"father"]},{"type":"ElementValue","element":"p2"}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"p2"},"child"]},{"type":"ElementValue","element":"p1"}]}}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Person","members":[{"ty":{"args":[],"ident":{"names":["Person"],"type":"QualifiedName"},"type":"IdentType"},"name":"father","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Person"],"type":"QualifiedName"},"type":"IdentType"},"name":"child","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"type":"ThisLiteral"},"exp1":{"ident":"child","exp":{"ident":"father","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"args":[],"ident":{"names":["Person"],"type":"QualifiedName"},"type":"IdentType"},"name":"p1","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Person"],"type":"QualifiedName"},"type":"IdentType"},"name":"p2","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"NotEQ","exp2":{"ident":"p2","type":"IdentExp"},"exp1":{"ident":"p1","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"p1","type":"IdentExp"},"exp1":{"ident":"father","exp":{"ident":"p2","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"p2","type":"IdentExp"},"exp1":{"ident":"child","exp":{"ident":"p1","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"p2","type":"IdentExp"},"exp1":{"ident":"father","exp":{"ident":"p1","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"p1","type":"IdentExp"},"exp1":{"ident":"child","exp":{"ident":"p2","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"}}],"type":"Model"},"typeChecks":true,"name":"inheritance6.k","model":"\nclass Person {\n  father:Person\n  child:Person\n\n  req father.child = this\n}\n\np1:Person\n\np2:Person\n\nreq p1 != p2\n\nreq p2.father = p1\n\nreq p1.child = p2\n\nreq p1.father = p2\n\nreq p2.child = p1\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((Person (mk-Person (father Ref)(child Ref)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (p1 Ref)(p2 Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-Person (sel-Person Person))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-Person ((this Ref)) Bool\n  (is-lift-Person (deref this))\n)\n\n(define-fun deref-Person ((this Ref)) Person\n  (sel-Person (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-Person ((this Ref)) Bool\n  (deref-is-Person this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -----------------------------\n;   Getters for class Person:\n; -----------------------------\n\n; --- getters for Person.father: ---\n\n(define-fun Person.father ((this Ref)) Ref\n  (father (deref-Person this))\n)\n\n(define-fun Person!father ((this Ref)) Ref\n  (father (deref-Person this))\n)\n\n; --- getters for Person.child: ---\n\n(define-fun Person.child ((this Ref)) Ref\n  (child (deref-Person this))\n)\n\n(define-fun Person!child ((this Ref)) Ref\n  (child (deref-Person this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.p1: ---\n\n(define-fun TopLevelDeclarations!p1 ((this Ref)) Ref\n  (p1 (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.p2: ---\n\n(define-fun TopLevelDeclarations!p2 ((this Ref)) Ref\n  (p2 (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; -------------------------------\n;   Invariant for class Person:\n; -------------------------------\n\n(define-fun Person.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Person (Person!father this))\n    (deref-isa-Person (Person!child this))\n    (= (Person.child (Person!father this) ) this)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Person this) (Person.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Person (TopLevelDeclarations!p1 this))\n    (deref-isa-Person (TopLevelDeclarations!p2 this))\n    (not (= (TopLevelDeclarations!p1 this)  (TopLevelDeclarations!p2 this) ))\n    (= (Person.father (TopLevelDeclarations!p2 this) ) (TopLevelDeclarations!p1 this) )\n    (= (Person.child (TopLevelDeclarations!p1 this) ) (TopLevelDeclarations!p2 this) )\n    (= (Person.father (TopLevelDeclarations!p1 this) ) (TopLevelDeclarations!p2 this) )\n    (= (Person.child (TopLevelDeclarations!p2 this) ) (TopLevelDeclarations!p1 this) )\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfPerson Ref)) (deref-is-Person instanceOfPerson)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n"},"testsmt11.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"a","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"CartesianType","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]}]},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"TupleExp","element":"ElementValue"},{"type":"ElementValue","element":"a"},{"type":"ElementValue","element":"x"}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"g","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"ty":{"type":"Expression","operand":[{"type":"CartesianType","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]}]},"assignment":false,"name":"k","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"f"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"x"}]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"TupleIndex",{"type":"ElementValue","element":"k"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"TupleIndex",{"type":"ElementValue","element":"k"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]}]}]}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"b","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"h","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"CartesianType","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]}]},"name":"tuple","type":"Param"}],"body":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k1","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"TupleIndex",{"type":"ElementValue","element":"tuple"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k2","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"TupleIndex",{"type":"ElementValue","element":"tuple"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"g"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"k1"},{"type":"ElementValue","element":"k2"}]}]}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"r","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"h"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"TupleExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},20]}]}]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"r"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},31]}]}}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"i":1,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"types":[{"type":"IntType"},{"type":"IntType"}],"type":"CartesianType"},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"exps":[{"ident":"a","type":"IdentExp"},{"ident":"x","type":"IdentExp"}],"type":"TupleExp"}}],"spec":[]},{"ty":{"type":"IntType"},"ident":"g","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"ty":{"types":[{"type":"IntType"},{"type":"IntType"}],"type":"CartesianType"},"assignment":false,"name":"k","expr":{"args":[{"type":"PositionalArgument","exp":{"ident":"x","type":"IdentExp"}}],"exp1":{"ident":"f","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"op":"TupleIndex","exp2":{"i":2,"type":"LiteralInteger"},"exp1":{"ident":"k","type":"IdentExp"},"type":"BinExp"},"exp1":{"op":"TupleIndex","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"k","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"i":2,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"h","typeParams":[],"type":"FunDecl","params":[{"ty":{"types":[{"type":"IntType"},{"type":"IntType"}],"type":"CartesianType"},"name":"tuple","type":"Param"}],"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k1","expr":{"op":"TupleIndex","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"tuple","type":"IdentExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"k2","expr":{"op":"TupleIndex","exp2":{"i":2,"type":"LiteralInteger"},"exp1":{"ident":"tuple","type":"IdentExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"op":"Plus","exp2":{"ident":"k2","type":"IdentExp"},"exp1":{"ident":"k1","type":"IdentExp"},"type":"BinExp"}}],"exp1":{"ident":"g","type":"IdentExp"},"type":"FunApplExp"}}],"spec":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"r","expr":{"args":[{"type":"PositionalArgument","exp":{"exps":[{"i":10,"type":"LiteralInteger"},{"i":20,"type":"LiteralInteger"}],"type":"TupleExp"}}],"exp1":{"ident":"h","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":31,"type":"LiteralInteger"},"exp1":{"ident":"r","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]}],"type":"Model"},"typeChecks":true,"name":"testsmt11.k","model":"\nclass A {\n  a:Int = 1\n\n  fun f(x:Int) : Int * Int\n  {\n    Tuple(a,x)\n  }\n\n  fun g(x:Int) : Int\n  {\n    k:Int * Int = f(x)\n    k # 1 + k # 2\n  }\n}\n\nclass B extending A {\n  b:Int = 2\n\n  fun h(tuple:Int * Int) : Int\n  {\n    k1:Int = tuple # 1\n    k2:Int = tuple # 2\n    g(k1 + k2)\n  }\n  r:Int = h(Tuple(10,20))\n\n  req r = 31\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)(r Int)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (ite (deref-is-A this) (a (deref-A this))\n  (a (deref-B this)))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B.a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B.b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; --- getters for B.r: ---\n\n(define-fun B!r ((this Ref)) Int\n  (r (deref-B this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.f ((this Ref)(x Int)) (Tuple2 Int Int)\n  (mk-Tuple2 (A.a this)  x)\n)\n\n(define-fun A!f ((this Ref)(x Int)) (Tuple2 Int Int)\n  (mk-Tuple2 (A!a this)  x)\n)\n\n(define-fun A.g ((this Ref)(x Int)) Int\n  (let ((k (A.f this x)))\n    (+ (_1 k) (_2 k)))\n)\n\n(define-fun A!g ((this Ref)(x Int)) Int\n  (let ((k (A!f this x)))\n    (+ (_1 k) (_2 k)))\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.f ((this Ref)(x Int)) (Tuple2 Int Int)\n  (mk-Tuple2 (B.a this)  x)\n)\n\n(define-fun B!f ((this Ref)(x Int)) (Tuple2 Int Int)\n  (mk-Tuple2 (B!a this)  x)\n)\n\n(define-fun B.g ((this Ref)(x Int)) Int\n  (let ((k (B.f this x)))\n    (+ (_1 k) (_2 k)))\n)\n\n(define-fun B!g ((this Ref)(x Int)) Int\n  (let ((k (B!f this x)))\n    (+ (_1 k) (_2 k)))\n)\n\n(define-fun B.h ((this Ref)(tuple (Tuple2 Int Int))) Int\n  (let ((k1 (_1 tuple)))\n    (let ((k2 (_2 tuple)))\n      (B.g this (+ k1 k2))))\n)\n\n(define-fun B!h ((this Ref)(tuple (Tuple2 Int Int))) Int\n  (let ((k1 (_1 tuple)))\n    (let ((k2 (_2 tuple)))\n      (B!g this (+ k1 k2))))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!a this) 1)\n    (= (B!b this) 2)\n    (= (B!r this) (B!h this (mk-Tuple2 10 20)))\n    (= (B!r this)  31)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun instanceOfB!1 () Int\n  4)\n(define-fun instanceOfA!0 () Int\n  3)\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 4) 4\n  (ite (= x!1 3) 3\n    0)))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-A (mk-A 1))\n  (ite (= x!1 4) (lift-B (mk-B 1 2 31))\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))"},"inheritance5.k":{"json2":"","json1":"","typeChecks":false,"name":"inheritance5.k","model":"","smt":"","smtModel":""},"testsmt10.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"a","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"a"},{"type":"ElementValue","element":"x"}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"g","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"f"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"x"}]}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"a"},{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"f"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"x"}]}]}]},{"type":"ElementValue","element":"k"}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"b","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"h","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k1","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"a"},{"type":"ElementValue","element":"b"}]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k2","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"k1"},{"type":"ElementValue","element":"x"}]},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"g"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"x"}]}]}}],"spec":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"r","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"h"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"r"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},25]}]}}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"i":1,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"f","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"ident":"x","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"}}],"spec":[]},{"ty":{"type":"IntType"},"ident":"g","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k","expr":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"args":[{"type":"PositionalArgument","exp":{"ident":"x","type":"IdentExp"}}],"exp1":{"ident":"f","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"op":"Plus","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"args":[{"type":"PositionalArgument","exp":{"ident":"x","type":"IdentExp"}}],"exp1":{"ident":"f","type":"IdentExp"},"type":"FunApplExp"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"i":2,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"h","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k1","expr":{"op":"Plus","exp2":{"ident":"b","type":"IdentExp"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"k2","expr":{"op":"Plus","exp2":{"ident":"x","type":"IdentExp"},"exp1":{"ident":"k1","type":"IdentExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"args":[{"type":"PositionalArgument","exp":{"ident":"x","type":"IdentExp"}}],"exp1":{"ident":"g","type":"IdentExp"},"type":"FunApplExp"}}],"spec":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"r","expr":{"args":[{"type":"PositionalArgument","exp":{"i":10,"type":"LiteralInteger"}}],"exp1":{"ident":"h","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":25,"type":"LiteralInteger"},"exp1":{"ident":"r","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]}],"type":"Model"},"typeChecks":true,"name":"testsmt10.k","model":"\nclass A {\n  a:Int = 1\n\n  fun f(x:Int) : Int\n  {\n    a + x\n  }\n\n  fun g(x:Int) : Int\n  {\n    k:Int = f(x) + 1\n    a + f(x) + k + 1\n  }\n}\n\nclass B extending A {\n  b:Int = 2\n\n  fun h(x:Int) : Int\n  {\n    k1:Int = a + b\n    k2:Int = k1 + x\n    g(x)\n  }\n  r:Int = h(10)\n\n  req r = 25\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)(r Int)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (ite (deref-is-A this) (a (deref-A this))\n  (a (deref-B this)))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B.a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B.b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; --- getters for B.r: ---\n\n(define-fun B!r ((this Ref)) Int\n  (r (deref-B this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.f ((this Ref)(x Int)) Int\n  (+ (A.a this)  x)\n)\n\n(define-fun A!f ((this Ref)(x Int)) Int\n  (+ (A!a this)  x)\n)\n\n(define-fun A.g ((this Ref)(x Int)) Int\n  (let ((k (+ (A.f this x) 1)))\n    (+ (+ (+ (A.a this)  (A.f this x)) k) 1))\n)\n\n(define-fun A!g ((this Ref)(x Int)) Int\n  (let ((k (+ (A!f this x) 1)))\n    (+ (+ (+ (A!a this)  (A!f this x)) k) 1))\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.f ((this Ref)(x Int)) Int\n  (+ (B.a this)  x)\n)\n\n(define-fun B!f ((this Ref)(x Int)) Int\n  (+ (B!a this)  x)\n)\n\n(define-fun B.g ((this Ref)(x Int)) Int\n  (let ((k (+ (B.f this x) 1)))\n    (+ (+ (+ (B.a this)  (B.f this x)) k) 1))\n)\n\n(define-fun B!g ((this Ref)(x Int)) Int\n  (let ((k (+ (B!f this x) 1)))\n    (+ (+ (+ (B!a this)  (B!f this x)) k) 1))\n)\n\n(define-fun B.h ((this Ref)(x Int)) Int\n  (let ((k1 (+ (B.a this)  (B.b this) )))\n    (let ((k2 (+ k1 x)))\n      (B.g this x)))\n)\n\n(define-fun B!h ((this Ref)(x Int)) Int\n  (let ((k1 (+ (B!a this)  (B!b this) )))\n    (let ((k2 (+ k1 x)))\n      (B!g this x)))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!a this) 1)\n    (= (B!b this) 2)\n    (= (B!r this) (B!h this 10))\n    (= (B!r this)  25)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun instanceOfB!1 () Int\n  5)\n(define-fun instanceOfA!0 () Int\n  4)\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 5) 5\n  (ite (= x!1 4) 4\n    0)))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 4) (lift-A (mk-A 1))\n  (ite (= x!1 5) (lift-B (mk-B 1 2 25))\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))"},"inheritance9.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"a","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"b","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"b"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"a"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}]}}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"c","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"c"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"b"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}]}}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"d","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"d"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"c"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}]}}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["C"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"E","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"name":"a","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"i":10,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"name":"b","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"},"exp1":{"ident":"b","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"IntType"},"name":"c","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"b","type":"IdentExp"},"type":"BinExp"},"exp1":{"ident":"c","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"type":"IntType"},"name":"d","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"c","type":"IdentExp"},"type":"BinExp"},"exp1":{"ident":"d","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["C"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"E","members":[{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"name":"a","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"typeChecks":true,"name":"inheritance9.k","model":"\nclass A {\n  a:Int = 10\n}\n\nclass B extending A {\n  b:Int\n\n  req b = a + 1\n}\n\nclass C extending B {\n  c:Int\n\n  req c = b + 1\n}\n\nclass D extending C {\n  d:Int\n\n  req d = c + 1\n}\n\nclass E {\n  a:A\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(b Int)(c Int)))))\n(declare-datatypes () ((D (mk-D (a Int)(b Int)(c Int)(d Int)))))\n(declare-datatypes () ((E (mk-E (a Ref)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-E (sel-E E))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-E ((this Ref)) Bool\n  (is-lift-E (deref this))\n)\n\n(define-fun deref-E ((this Ref)) E\n  (sel-E (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (deref-is-D this)\n)\n\n(define-fun deref-isa-E ((this Ref)) Bool\n  (deref-is-E this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C.a ((this Ref)) Int\n  (ite (deref-is-C this) (a (deref-C this))\n  (a (deref-D this)))\n)\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.b: ---\n\n(define-fun C.b ((this Ref)) Int\n  (ite (deref-is-C this) (b (deref-C this))\n  (b (deref-D this)))\n)\n\n(define-fun C!b ((this Ref)) Int\n  (b (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (ite (deref-is-C this) (c (deref-C this))\n  (c (deref-D this)))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.a: ---\n\n(define-fun D.a ((this Ref)) Int\n  (a (deref-D this))\n)\n\n(define-fun D!a ((this Ref)) Int\n  (a (deref-D this))\n)\n\n; --- getters for D.b: ---\n\n(define-fun D!b ((this Ref)) Int\n  (b (deref-D this))\n)\n\n; --- getters for D.c: ---\n\n(define-fun D.c ((this Ref)) Int\n  (c (deref-D this))\n)\n\n(define-fun D!c ((this Ref)) Int\n  (c (deref-D this))\n)\n\n; --- getters for D.d: ---\n\n(define-fun D.d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; ------------------------\n;   Getters for class E:\n; ------------------------\n\n; --- getters for E.a: ---\n\n(define-fun E!a ((this Ref)) Ref\n  (a (deref-E this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!a this) 10)\n    (= (B!b this)  (+ (B!a this)  1))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (C!a this) 10)\n    (= (C!b this)  (+ (C!a this)  1))\n    (= (C!c this)  (+ (C!b this)  1))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (= (D!a this) 10)\n    (= (D!b this)  (+ (D!a this)  1))\n    (= (D!c this)  (+ (D!b this)  1))\n    (= (D!d this)  (+ (D!c this)  1))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; --------------------------\n;   Invariant for class E:\n; --------------------------\n\n(define-fun E.inv ((this Ref)) Bool\n  (and\n    (deref-isa-A (E!a this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-E this) (E.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (exists ((instanceOfE Ref)) (deref-is-E instanceOfE)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun instanceOfE!4 () Int\n  5)\n(define-fun instanceOfD!3 () Int\n  4)\n(define-fun instanceOfC!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!5))\n(define-fun instanceOfB!1 () Int\n  2)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!6 ((x!1 Int)) Int\n  (ite (= x!1 6) 6\n  (ite (= x!1 4) 4\n  (ite (= x!1 3) 3\n  (ite (= x!1 5) 5\n  (ite (= x!1 2) 2\n  (ite (= x!1 1) 1\n    0)))))))\n(define-fun k!5!7 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 3) (lift-C (mk-C 10 11 12))\n  (ite (= x!1 5) (lift-E (mk-E 6))\n  (ite (= x!1 1) (lift-A (mk-A 10))\n  (ite (= x!1 4) (lift-D (mk-D 10 11 12 13))\n    (lift-B (mk-B 10 11))))))))\n(define-fun k!5 ((x!1 Int)) Any\n  (k!5!7 (k!6 x!1)))"},"scope1.k":{"json2":"","json1":"","typeChecks":false,"name":"scope1.k","model":"","smt":"","smtModel":""},"testsmt18.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Body","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"mass","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Planet","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"distanceToEarth","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Body"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"Moon","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Planet"],"type":"QualifiedName"}]},"name":"planet","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Body"],"type":"QualifiedName"}]}]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Planet"],"type":"QualifiedName"}]},"assignment":false,"name":"jupiter","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"Planet"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"mass",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1000]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"distanceToEarth",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2000]}]}]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Moon"],"type":"QualifiedName"}]},"assignment":false,"name":"europa","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"Moon"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"mass",{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3000]}]},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"planet",{"type":"ElementValue","element":"jupiter"}]}]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Planet"],"type":"QualifiedName"}]},"ident":"getPlanet","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Moon"],"type":"QualifiedName"}]},"name":"moon","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"moon"},"planet"]}}],"spec":[]},{"entityToken":"class","typeparams":[],"ident":"Trip","members":[{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Body"],"type":"QualifiedName"}]},"name":"missionStudy","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Body"],"type":"QualifiedName"}]},"assignment":false,"name":"firstStop","expr":{"type":"ElementValue","element":"europa"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Body"],"type":"QualifiedName"}]},"assignment":false,"name":"secondStop","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"getPlanet"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"firstStop"}]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"missionStudy"},{"type":"ElementValue","element":"europa"}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Trip"],"type":"QualifiedName"}]},"name":"trip","type":"PropertyDecl","modifiers":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Body","members":[{"ty":{"type":"IntType"},"name":"mass","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"Planet","members":[{"ty":{"type":"IntType"},"name":"distanceToEarth","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["Body"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"Moon","members":[{"ty":{"args":[],"ident":{"names":["Planet"],"type":"QualifiedName"},"type":"IdentType"},"name":"planet","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["Body"],"type":"QualifiedName"},"type":"IdentType"}]},{"ty":{"args":[],"ident":{"names":["Planet"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"jupiter","expr":{"args":[{"ident":"mass","type":"NamedArgument","exp":{"i":1000,"type":"LiteralInteger"}},{"ident":"distanceToEarth","type":"NamedArgument","exp":{"i":2000,"type":"LiteralInteger"}}],"exp1":{"ident":"Planet","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Moon"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"europa","expr":{"args":[{"ident":"mass","type":"NamedArgument","exp":{"i":3000,"type":"LiteralInteger"}},{"ident":"planet","type":"NamedArgument","exp":{"ident":"jupiter","type":"IdentExp"}}],"exp1":{"ident":"Moon","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Planet"],"type":"QualifiedName"},"type":"IdentType"},"ident":"getPlanet","typeParams":[],"type":"FunDecl","params":[{"ty":{"args":[],"ident":{"names":["Moon"],"type":"QualifiedName"},"type":"IdentType"},"name":"moon","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"ident":"planet","exp":{"ident":"moon","type":"IdentExp"},"type":"DotExp"}}],"spec":[]},{"entityToken":"class","typeparams":[],"ident":"Trip","members":[{"ty":{"args":[],"ident":{"names":["Body"],"type":"QualifiedName"},"type":"IdentType"},"name":"missionStudy","type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Body"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"firstStop","expr":{"ident":"europa","type":"IdentExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Body"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"secondStop","expr":{"args":[{"type":"PositionalArgument","exp":{"ident":"firstStop","type":"IdentExp"}}],"exp1":{"ident":"getPlanet","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"europa","type":"IdentExp"},"exp1":{"ident":"missionStudy","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"args":[],"ident":{"names":["Trip"],"type":"QualifiedName"},"type":"IdentType"},"name":"trip","type":"PropertyDecl","modifiers":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt18.k","model":"\nclass Body {\n  mass:Int\n}\n\nclass Planet extending Body {\n  distanceToEarth:Int\n}\n\nclass Moon extending Body {\n  planet:Planet\n}\n\njupiter:Planet = Planet(mass :: 1000,distanceToEarth :: 2000)\n\neuropa:Moon = Moon(mass :: 3000,planet :: jupiter)\n\nfun getPlanet(moon:Moon) : Planet\n{\n  moon.planet\n}\n\nclass Trip {\n  missionStudy:Body\n  firstStop:Body = europa\n  secondStop:Body = getPlanet(firstStop)\n\n  req missionStudy = europa\n}\n\ntrip:Trip\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((Body (mk-Body (mass Int)))))\n(declare-datatypes () ((Planet (mk-Planet (mass Int)(distanceToEarth Int)))))\n(declare-datatypes () ((Moon (mk-Moon (mass Int)(planet Ref)))))\n(declare-datatypes () ((Trip (mk-Trip (missionStudy Ref)(firstStop Ref)(secondStop Ref)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (jupiter Ref)(europa Ref)(trip Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-Body (sel-Body Body))\n  (lift-Planet (sel-Planet Planet))\n  (lift-Moon (sel-Moon Moon))\n  (lift-Trip (sel-Trip Trip))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-Body ((this Ref)) Bool\n  (is-lift-Body (deref this))\n)\n\n(define-fun deref-Body ((this Ref)) Body\n  (sel-Body (deref this))\n)\n\n(define-fun deref-is-Planet ((this Ref)) Bool\n  (is-lift-Planet (deref this))\n)\n\n(define-fun deref-Planet ((this Ref)) Planet\n  (sel-Planet (deref this))\n)\n\n(define-fun deref-is-Moon ((this Ref)) Bool\n  (is-lift-Moon (deref this))\n)\n\n(define-fun deref-Moon ((this Ref)) Moon\n  (sel-Moon (deref this))\n)\n\n(define-fun deref-is-Trip ((this Ref)) Bool\n  (is-lift-Trip (deref this))\n)\n\n(define-fun deref-Trip ((this Ref)) Trip\n  (sel-Trip (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-Body ((this Ref)) Bool\n  (or\n    (deref-is-Body this)\n    (deref-is-Planet this)\n    (deref-is-Moon this)\n  )\n)\n\n(define-fun deref-isa-Planet ((this Ref)) Bool\n  (deref-is-Planet this)\n)\n\n(define-fun deref-isa-Moon ((this Ref)) Bool\n  (deref-is-Moon this)\n)\n\n(define-fun deref-isa-Trip ((this Ref)) Bool\n  (deref-is-Trip this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ---------------------------\n;   Getters for class Moon:\n; ---------------------------\n\n; --- getters for Moon.planet: ---\n\n(define-fun Moon.planet ((this Ref)) Ref\n  (planet (deref-Moon this))\n)\n\n(define-fun Moon!planet ((this Ref)) Ref\n  (planet (deref-Moon this))\n)\n\n; ---------------------------\n;   Getters for class Trip:\n; ---------------------------\n\n; --- getters for Trip.missionStudy: ---\n\n(define-fun Trip!missionStudy ((this Ref)) Ref\n  (missionStudy (deref-Trip this))\n)\n\n; --- getters for Trip.firstStop: ---\n\n(define-fun Trip!firstStop ((this Ref)) Ref\n  (firstStop (deref-Trip this))\n)\n\n; --- getters for Trip.secondStop: ---\n\n(define-fun Trip!secondStop ((this Ref)) Ref\n  (secondStop (deref-Trip this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.jupiter: ---\n\n(define-fun TopLevelDeclarations!jupiter ((this Ref)) Ref\n  (jupiter (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.europa: ---\n\n(define-fun TopLevelDeclarations!europa ((this Ref)) Ref\n  (europa (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.trip: ---\n\n(define-fun TopLevelDeclarations!trip ((this Ref)) Ref\n  (trip (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.getPlanet ((this Ref)(moon Ref)) Ref\n  (Moon.planet moon)\n)\n\n(define-fun TopLevelDeclarations!getPlanet ((this Ref)(moon Ref)) Ref\n  (Moon.planet moon)\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; -----------------------------\n;   Invariant for class Body:\n; -----------------------------\n\n(define-fun Body.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Body this) (Body.inv this))\n))\n\n; -------------------------------\n;   Invariant for class Planet:\n; -------------------------------\n\n(define-fun Planet.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Planet this) (Planet.inv this))\n))\n\n; -----------------------------\n;   Invariant for class Moon:\n; -----------------------------\n\n(define-fun Moon.inv ((this Ref)) Bool\n  (and\n    (deref-isa-Planet (Moon!planet this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Moon this) (Moon.inv this))\n))\n\n; -----------------------------\n;   Invariant for class Trip:\n; -----------------------------\n\n(define-fun Trip.inv ((this Ref)) Bool\n  (and\n    (= (Trip!firstStop this) (TopLevelDeclarations!europa 0))\n    (= (Trip!secondStop this) (TopLevelDeclarations!getPlanet 0 (Trip!firstStop this) ))\n    (deref-isa-Body (Trip!missionStudy this))\n    (deref-isa-Body (Trip!firstStop this))\n    (deref-isa-Body (Trip!secondStop this))\n    (= (Trip!missionStudy this)  (TopLevelDeclarations!europa 0))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Trip this) (Trip.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!jupiter this)) (lift-Planet (mk-Planet 1000 2000)))\n    (= (deref (TopLevelDeclarations!europa this)) (lift-Moon (mk-Moon 3000 (TopLevelDeclarations!jupiter this) )))\n    (deref-isa-Planet (TopLevelDeclarations!jupiter this))\n    (deref-isa-Moon (TopLevelDeclarations!europa this))\n    (deref-isa-Trip (TopLevelDeclarations!trip this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfBody Ref)) (deref-is-Body instanceOfBody)))\n(assert (exists ((instanceOfPlanet Ref)) (deref-is-Planet instanceOfPlanet)))\n(assert (exists ((instanceOfMoon Ref)) (deref-is-Moon instanceOfMoon)))\n(assert (exists ((instanceOfTrip Ref)) (deref-is-Trip instanceOfTrip)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun instanceOfTrip!3 () Int\n  4)\n(define-fun instanceOfPlanet!1 () Int\n  2)\n(define-fun instanceOfMoon!2 () Int\n  3)\n(define-fun instanceOfBody!0 () Int\n  1)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!4))\n(define-fun k!5 ((x!1 Int)) Int\n  (ite (= x!1 11) 11\n  (ite (= x!1 12) 12\n  (ite (= x!1 9) 9\n  (ite (= x!1 0) 0\n  (ite (= x!1 10) 10\n  (ite (= x!1 2) 2\n  (ite (= x!1 3) 3\n  (ite (= x!1 1) 1\n    4)))))))))\n(define-fun k!4!6 ((x!1 Int)) Any\n  (ite (= x!1 1) (lift-Body (mk-Body 5))\n  (ite (= x!1 10) (lift-Planet (mk-Planet 1000 2000))\n  (ite (= x!1 3) (lift-Moon (mk-Moon 8 9))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 10 11 12))\n  (ite (= x!1 2) (lift-Planet (mk-Planet 6 7))\n  (ite (= x!1 11) (lift-Moon (mk-Moon 3000 10))\n  (ite (= x!1 9) (lift-Planet (mk-Planet 13 14))\n    (lift-Trip (mk-Trip 11 11 10))))))))))\n(define-fun k!4 ((x!1 Int)) Any\n  (k!4!6 (k!5 x!1)))"},"inheritance4.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"y","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GT",{"type":"ElementValue","element":"y"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"y"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},20]}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},20]}]}}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"z","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"And",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"z"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},4]}]},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LT",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},15]}]}]}}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]}]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"x","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"GT","exp2":{"i":10,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"name":"y","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"And","exp2":{"op":"LT","exp2":{"i":20,"type":"LiteralInteger"},"exp1":{"ident":"y","type":"IdentExp"},"type":"BinExp"},"exp1":{"op":"GT","exp2":{"i":10,"type":"LiteralInteger"},"exp1":{"ident":"y","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"LT","exp2":{"i":20,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"IntType"},"name":"z","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"And","exp2":{"op":"LT","exp2":{"i":15,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"},"exp1":{"op":"EQ","exp2":{"i":4,"type":"LiteralInteger"},"exp1":{"ident":"z","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"}]}],"type":"Model"},"typeChecks":true,"name":"inheritance4.k","model":"\nclass A {\n  x:Int\n\n  req x > 10\n}\n\nclass B extending A {\n  y:Int\n\n  req y > 10 && y < 20\n\n  req x < 20\n}\n\nclass C extending B {\n  z:Int\n\n  req z = 4 && x < 15\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (x Int)))))\n(declare-datatypes () ((B (mk-B (x Int)(y Int)))))\n(declare-datatypes () ((C (mk-C (x Int)(y Int)(z Int)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (ite (deref-is-A this) (x (deref-A this))\n  (ite (deref-is-B this) (x (deref-B this))\n  (x (deref-C this))))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B.x ((this Ref)) Int\n  (ite (deref-is-B this) (x (deref-B this))\n  (x (deref-C this)))\n)\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.y: ---\n\n(define-fun B.y ((this Ref)) Int\n  (ite (deref-is-B this) (y (deref-B this))\n  (y (deref-C this)))\n)\n\n(define-fun B!y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.x: ---\n\n(define-fun C!x ((this Ref)) Int\n  (x (deref-C this))\n)\n\n; --- getters for C.y: ---\n\n(define-fun C!y ((this Ref)) Int\n  (y (deref-C this))\n)\n\n; --- getters for C.z: ---\n\n(define-fun C!z ((this Ref)) Int\n  (z (deref-C this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (> (A!x this)  10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (> (B!x this)  10)\n    (and (> (B!y this)  10) (< (B!y this)  20))\n    (< (B!x this)  20)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (> (C!x this)  10)\n    (and (> (C!y this)  10) (< (C!y this)  20))\n    (< (C!x this)  20)\n    (and (= (C!z this)  4) (< (C!x this)  15))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun instanceOfC!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfB!1 () Int\n  2)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 1) (lift-A (mk-A 11))\n  (ite (= x!1 2) (lift-B (mk-B 18 15))\n    (lift-C (mk-C 12 12 4))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 3) 3\n  (ite (= x!1 2) 2\n  (ite (= x!1 1) 1\n    0))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))"},"testsmt17.k":{"json2":{"imports":[],"annotations":[],"decls":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"max","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"max"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1000]}]}},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"double","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"x"},{"type":"ElementValue","element":"x"}]}}],"spec":[]},{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"a","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"double"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"ElementValue","element":"a"}]}]},{"type":"ElementValue","element":"max"}]}}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]},"name":"instA","type":"PropertyDecl","modifiers":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"b","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"double"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"instA"},"a"]}]}]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"X","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"Y","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GTE",{"type":"ElementValue","element":"X"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GTE",{"type":"ElementValue","element":"Y"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]}},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"sum","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"X"},{"type":"ElementValue","element":"Y"}]}}],"spec":[]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GTE",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"X"},{"type":"ElementValue","element":"Y"}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"LTE",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"sum"}]},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"ty":{"type":"IntType"},"name":"max","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":1000,"type":"LiteralInteger"},"exp1":{"ident":"max","type":"IdentExp"},"type":"BinExp"}},{"ty":{"type":"IntType"},"ident":"double","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"ident":"x","type":"IdentExp"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}}],"spec":[]},{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"a","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"ident":"max","type":"IdentExp"},"exp1":{"args":[{"type":"PositionalArgument","exp":{"ident":"a","type":"IdentExp"}}],"exp1":{"ident":"double","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"},"name":"instA","type":"PropertyDecl","modifiers":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"args":[{"type":"PositionalArgument","exp":{"ident":"a","exp":{"ident":"instA","type":"IdentExp"},"type":"DotExp"}}],"exp1":{"ident":"double","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"type":"IntType"},"name":"X","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"Y","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"GTE","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"ident":"X","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"GTE","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"ident":"Y","type":"IdentExp"},"type":"BinExp"}},{"ty":{"type":"IntType"},"ident":"sum","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"ident":"Y","type":"IdentExp"},"exp1":{"ident":"X","type":"IdentExp"},"type":"BinExp"}}],"spec":[]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"type":"ConstraintDecl","exp":{"op":"GTE","exp2":{"i":10,"type":"LiteralInteger"},"exp1":{"op":"Plus","exp2":{"ident":"Y","type":"IdentExp"},"exp1":{"ident":"X","type":"IdentExp"},"type":"BinExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"LTE","exp2":{"i":10,"type":"LiteralInteger"},"exp1":{"args":[],"exp1":{"ident":"sum","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt17.k","model":"\nmax:Int\n\nreq max = 1000\n\nfun double(x:Int) : Int\n{\n  x + x\n}\n\nclass A {\n  a:Int\n\n  req double(a) = max\n}\n\ninstA:A\n\nclass B {\n  b:Int = double(instA.a)\n}\n\nX:Int\n\nY:Int\n\nreq X >= 0\n\nreq Y >= 0\n\nfun sum : Int\n{\n  X + Y\n}\n\nclass C {\n\n  req X + Y >= 10\n\n  req sum() <= 10\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (b Int)))))\n(declare-sort C) (declare-const mk-C C)\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (max Int)(instA Ref)(X Int)(Y Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (deref-is-C this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.b: ---\n\n(define-fun B.b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.max: ---\n\n(define-fun TopLevelDeclarations!max ((this Ref)) Int\n  (max (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.instA: ---\n\n(define-fun TopLevelDeclarations!instA ((this Ref)) Ref\n  (instA (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.X: ---\n\n(define-fun TopLevelDeclarations.X ((this Ref)) Int\n  (X (deref-TopLevelDeclarations this))\n)\n\n(define-fun TopLevelDeclarations!X ((this Ref)) Int\n  (X (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.Y: ---\n\n(define-fun TopLevelDeclarations.Y ((this Ref)) Int\n  (Y (deref-TopLevelDeclarations this))\n)\n\n(define-fun TopLevelDeclarations!Y ((this Ref)) Int\n  (Y (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; -------------------------------------------\n;   Methods for class TopLevelDeclarations:\n; -------------------------------------------\n\n(define-fun TopLevelDeclarations.double ((this Ref)(x Int)) Int\n  (+ x x)\n)\n\n(define-fun TopLevelDeclarations!double ((this Ref)(x Int)) Int\n  (+ x x)\n)\n\n(define-fun TopLevelDeclarations.sum ((this Ref)) Int\n  (+ (TopLevelDeclarations.X this)  (TopLevelDeclarations.Y this) )\n)\n\n(define-fun TopLevelDeclarations!sum ((this Ref)) Int\n  (+ (TopLevelDeclarations!X this)  (TopLevelDeclarations!Y this) )\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!double 0 (A!a this) ) (TopLevelDeclarations!max 0))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!b this) (TopLevelDeclarations!double 0 (A.a (TopLevelDeclarations!instA 0))))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (>= (+ (TopLevelDeclarations!X 0) (TopLevelDeclarations!Y 0)) 10)\n    (<= (TopLevelDeclarations!sum 0 ) 10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (deref-isa-A (TopLevelDeclarations!instA this))\n    (= (TopLevelDeclarations!max this)  1000)\n    (>= (TopLevelDeclarations!X this)  0)\n    (>= (TopLevelDeclarations!Y this)  0)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for C:\n;;   C!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun C!val!0 () C)\n;; cardinality constraint:\n(forall ((x C)) (= x C!val!0))\n;; -----------\n(define-fun instanceOfC!2 () Int\n  4)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfB!1 () Int\n  3)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 4) (lift-C C!val!0)\n  (ite (= x!1 0)\n    (lift-TopLevelDeclarations (mk-TopLevelDeclarations 1000 5 8 2))\n  (ite (= x!1 3) (lift-B (mk-B 1000))\n    (lift-A (mk-A 500))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 5) 5\n  (ite (= x!1 4) 4\n  (ite (= x!1 3) 3\n  (ite (= x!1 1) 1\n    0)))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))"},"inheritance3.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"x","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"get","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"type":"ElementValue","element":"x"}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"y","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},5]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"sum","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"get"}]},{"type":"ElementValue","element":"y"}]},{"type":"ElementValue","element":"k"}]}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]},"name":"bobj","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"theSum","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"bobj"},"sum"]},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"bobj"},"get"]}]}]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"theSum"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},9]}]}}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"x","expr":{"i":2,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"get","typeParams":[],"type":"FunDecl","params":[],"body":[{"type":"ExpressionDecl","exp":{"ident":"x","type":"IdentExp"}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"y","expr":{"i":5,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"sum","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"k","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"ident":"k","type":"IdentExp"},"exp1":{"op":"Plus","exp2":{"ident":"y","type":"IdentExp"},"exp1":{"args":[],"exp1":{"ident":"get","type":"IdentExp"},"type":"FunApplExp"},"type":"BinExp"},"type":"BinExp"}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"ty":{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"},"name":"bobj","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"theSum","expr":{"args":[{"type":"PositionalArgument","exp":{"args":[],"exp1":{"ident":"get","exp":{"ident":"bobj","type":"IdentExp"},"type":"DotExp"},"type":"FunApplExp"}}],"exp1":{"ident":"sum","exp":{"ident":"bobj","type":"IdentExp"},"type":"DotExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":9,"type":"LiteralInteger"},"exp1":{"ident":"theSum","type":"IdentExp"},"type":"BinExp"}}],"type":"Model"},"typeChecks":true,"name":"inheritance3.k","model":"\nclass A {\n  x:Int = 2\n\n  fun get : Int\n  {\n    x\n  }\n}\n\nclass B extending A {\n  y:Int = 5\n\n  fun sum(k:Int) : Int\n  {\n    get() + y + k\n  }\n}\n\nbobj:B\n\ntheSum:Int = bobj.sum(bobj.get())\n\nreq theSum = 9\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (x Int)))))\n(declare-datatypes () ((B (mk-B (x Int)(y Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (bobj Ref)(theSum Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A.x ((this Ref)) Int\n  (ite (deref-is-A this) (x (deref-A this))\n  (x (deref-B this)))\n)\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B.x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.y: ---\n\n(define-fun B.y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n(define-fun B!y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.bobj: ---\n\n(define-fun TopLevelDeclarations!bobj ((this Ref)) Ref\n  (bobj (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.theSum: ---\n\n(define-fun TopLevelDeclarations!theSum ((this Ref)) Int\n  (theSum (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.get ((this Ref)) Int\n  (A.x this) \n)\n\n(define-fun A!get ((this Ref)) Int\n  (A!x this) \n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.get ((this Ref)) Int\n  (B.x this) \n)\n\n(define-fun B!get ((this Ref)) Int\n  (B!x this) \n)\n\n(define-fun B.sum ((this Ref)(k Int)) Int\n  (+ (+ (B.get this ) (B.y this) ) k)\n)\n\n(define-fun B!sum ((this Ref)(k Int)) Int\n  (+ (+ (B!get this ) (B!y this) ) k)\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!x this) 2)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!x this) 2)\n    (= (B!y this) 5)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!theSum this) (B.sum (TopLevelDeclarations!bobj this)  (B.get (TopLevelDeclarations!bobj this)  )))\n    (deref-isa-B (TopLevelDeclarations!bobj this))\n    (= (TopLevelDeclarations!theSum this)  9)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun instanceOfB!1 () Int\n  3)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!3 ((x!1 Int)) Int\n  (ite (= x!1 4) 4\n  (ite (= x!1 3) 3\n  (ite (= x!1 1) 1\n    0))))\n(define-fun k!2!4 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 4 9))\n  (ite (= x!1 1) (lift-A (mk-A 2))\n    (lift-B (mk-B 2 5)))))\n(define-fun k!2 ((x!1 Int)) Any\n  (k!2!4 (k!3 x!1)))"},"testsmt16.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Time","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"t","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"DurativeEvent","members":[],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"VerifyEVR","members":[{"ty":{"type":"Expression","operand":[{"type":"StringType","element":"ElementValue"}]},"name":"cmd","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["VerifyEVR"],"type":"QualifiedName"}]},"assignment":false,"name":"verify1","expr":{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"VerifyEVR"},{"type":"Expression","operand":[{"type":"NamedArgument","element":"ElementValue"},"cmd",{"type":"Expression","operand":[{"type":"StringLiteral","element":"ElementValue"},"\"CMD_NO_OP\""]}]}]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["Time"],"type":"QualifiedName"}]},"name":"time","type":"PropertyDecl","modifiers":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"Time","members":[{"ty":{"type":"IntType"},"name":"t","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"DurativeEvent","members":[],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"VerifyEVR","members":[{"ty":{"type":"StringType"},"name":"cmd","type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"ty":{"args":[],"ident":{"names":["VerifyEVR"],"type":"QualifiedName"},"type":"IdentType"},"assignment":false,"name":"verify1","expr":{"args":[{"ident":"cmd","type":"NamedArgument","exp":{"string":"CMD_NO_OP","type":"StringLiteral"}}],"exp1":{"ident":"VerifyEVR","type":"IdentExp"},"type":"FunApplExp"},"type":"PropertyDecl","modifiers":[]},{"ty":{"args":[],"ident":{"names":["Time"],"type":"QualifiedName"},"type":"IdentType"},"name":"time","type":"PropertyDecl","modifiers":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt16.k","model":"\nclass Time {\n  t:Int\n}\n\nclass DurativeEvent\n\nclass VerifyEVR {\n  cmd:String\n}\n\nverify1:VerifyEVR = VerifyEVR(cmd :: \"CMD_NO_OP\")\n\ntime:Time\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((Time (mk-Time (t Int)))))\n(declare-sort DurativeEvent) (declare-const mk-DurativeEvent DurativeEvent)\n(declare-sort VerifyEVR) (declare-const mk-VerifyEVR VerifyEVR)\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (verify1 Ref)(time Ref)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-Time (sel-Time Time))\n  (lift-DurativeEvent (sel-DurativeEvent DurativeEvent))\n  (lift-VerifyEVR (sel-VerifyEVR VerifyEVR))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-Time ((this Ref)) Bool\n  (is-lift-Time (deref this))\n)\n\n(define-fun deref-Time ((this Ref)) Time\n  (sel-Time (deref this))\n)\n\n(define-fun deref-is-DurativeEvent ((this Ref)) Bool\n  (is-lift-DurativeEvent (deref this))\n)\n\n(define-fun deref-DurativeEvent ((this Ref)) DurativeEvent\n  (sel-DurativeEvent (deref this))\n)\n\n(define-fun deref-is-VerifyEVR ((this Ref)) Bool\n  (is-lift-VerifyEVR (deref this))\n)\n\n(define-fun deref-VerifyEVR ((this Ref)) VerifyEVR\n  (sel-VerifyEVR (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-Time ((this Ref)) Bool\n  (deref-is-Time this)\n)\n\n(define-fun deref-isa-DurativeEvent ((this Ref)) Bool\n  (deref-is-DurativeEvent this)\n)\n\n(define-fun deref-isa-VerifyEVR ((this Ref)) Bool\n  (deref-is-VerifyEVR this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.verify1: ---\n\n(define-fun TopLevelDeclarations!verify1 ((this Ref)) Ref\n  (verify1 (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.time: ---\n\n(define-fun TopLevelDeclarations!time ((this Ref)) Ref\n  (time (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; -----------------------------\n;   Invariant for class Time:\n; -----------------------------\n\n(define-fun Time.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-Time this) (Time.inv this))\n))\n\n; --------------------------------------\n;   Invariant for class DurativeEvent:\n; --------------------------------------\n\n(define-fun DurativeEvent.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-DurativeEvent this) (DurativeEvent.inv this))\n))\n\n; ----------------------------------\n;   Invariant for class VerifyEVR:\n; ----------------------------------\n\n(define-fun VerifyEVR.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-VerifyEVR this) (VerifyEVR.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (deref (TopLevelDeclarations!verify1 this)) (lift-VerifyEVR mk-VerifyEVR))\n    (deref-isa-VerifyEVR (TopLevelDeclarations!verify1 this))\n    (deref-isa-Time (TopLevelDeclarations!time this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfTime Ref)) (deref-is-Time instanceOfTime)))\n(assert (exists ((instanceOfDurativeEvent Ref)) (deref-is-DurativeEvent instanceOfDurativeEvent)))\n(assert (exists ((instanceOfVerifyEVR Ref)) (deref-is-VerifyEVR instanceOfVerifyEVR)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for DurativeEvent:\n;;   DurativeEvent!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun DurativeEvent!val!0 () DurativeEvent)\n;; cardinality constraint:\n(forall ((x DurativeEvent)) (= x DurativeEvent!val!0))\n;; -----------\n;; universe for VerifyEVR:\n;;   VerifyEVR!val!1 VerifyEVR!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun VerifyEVR!val!1 () VerifyEVR)\n(declare-fun VerifyEVR!val!0 () VerifyEVR)\n;; cardinality constraint:\n(forall ((x VerifyEVR)) (or (= x VerifyEVR!val!1) (= x VerifyEVR!val!0)))\n;; -----------\n(define-fun instanceOfTime!0 () Int\n  1)\n(define-fun instanceOfVerifyEVR!2 () Int\n  3)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!3))\n(define-fun instanceOfDurativeEvent!1 () Int\n  2)\n(define-fun mk-VerifyEVR () VerifyEVR\n  VerifyEVR!val!1)\n(define-fun k!3!5 ((x!1 Int)) Any\n  (ite (= x!1 3) (lift-VerifyEVR VerifyEVR!val!0)\n  (ite (= x!1 5) (lift-VerifyEVR VerifyEVR!val!1)\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 5 6))\n  (ite (= x!1 1) (lift-Time (mk-Time 4))\n  (ite (= x!1 6) (lift-Time (mk-Time 7))\n    (lift-DurativeEvent DurativeEvent!val!0)))))))\n(define-fun k!4 ((x!1 Int)) Int\n  (ite (= x!1 1) 1\n  (ite (= x!1 3) 3\n  (ite (= x!1 2) 2\n  (ite (= x!1 0) 0\n  (ite (= x!1 5) 5\n    6))))))\n(define-fun k!3 ((x!1 Int)) Any\n  (k!3!5 (k!4 x!1)))"},"inheritance2.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"a","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"b","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"d","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},4]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["C"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"c","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["D"],"type":"QualifiedName"}]},"name":"dobj","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"sum","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"dobj"},"a"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"dobj"},"c"]}]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"dobj"},"d"]}]},"type":"PropertyDecl","modifiers":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"a","expr":{"i":1,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"b","expr":{"i":2,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"d","expr":{"i":4,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["C"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"c","expr":{"i":3,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"ty":{"args":[],"ident":{"names":["D"],"type":"QualifiedName"},"type":"IdentType"},"name":"dobj","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"sum","expr":{"op":"Plus","exp2":{"ident":"d","exp":{"ident":"dobj","type":"IdentExp"},"type":"DotExp"},"exp1":{"op":"Plus","exp2":{"ident":"c","exp":{"ident":"dobj","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"a","exp":{"ident":"dobj","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]}],"type":"Model"},"typeChecks":true,"name":"inheritance2.k","model":"\nclass A {\n  a:Int = 1\n}\n\nclass B extending A {\n  b:Int = 2\n}\n\nclass D extending C {\n  d:Int = 4\n}\n\nclass C extending A {\n  c:Int = 3\n}\n\ndobj:D\n\nsum:Int = dobj.a + dobj.c + dobj.d\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-datatypes () ((B (mk-B (a Int)(b Int)))))\n(declare-datatypes () ((C (mk-C (a Int)(c Int)))))\n(declare-datatypes () ((D (mk-D (a Int)(c Int)(d Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (dobj Ref)(sum Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (deref-is-D this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.a: ---\n\n(define-fun B!a ((this Ref)) Int\n  (a (deref-B this))\n)\n\n; --- getters for B.b: ---\n\n(define-fun B!b ((this Ref)) Int\n  (b (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.a: ---\n\n(define-fun C.a ((this Ref)) Int\n  (ite (deref-is-C this) (a (deref-C this))\n  (a (deref-D this)))\n)\n\n(define-fun C!a ((this Ref)) Int\n  (a (deref-C this))\n)\n\n; --- getters for C.c: ---\n\n(define-fun C.c ((this Ref)) Int\n  (ite (deref-is-C this) (c (deref-C this))\n  (c (deref-D this)))\n)\n\n(define-fun C!c ((this Ref)) Int\n  (c (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.a: ---\n\n(define-fun D.a ((this Ref)) Int\n  (a (deref-D this))\n)\n\n(define-fun D!a ((this Ref)) Int\n  (a (deref-D this))\n)\n\n; --- getters for D.c: ---\n\n(define-fun D.c ((this Ref)) Int\n  (c (deref-D this))\n)\n\n(define-fun D!c ((this Ref)) Int\n  (c (deref-D this))\n)\n\n; --- getters for D.d: ---\n\n(define-fun D.d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n(define-fun D!d ((this Ref)) Int\n  (d (deref-D this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.dobj: ---\n\n(define-fun TopLevelDeclarations!dobj ((this Ref)) Ref\n  (dobj (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.sum: ---\n\n(define-fun TopLevelDeclarations!sum ((this Ref)) Int\n  (sum (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!a this) 1)\n    (= (B!b this) 2)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (C!a this) 1)\n    (= (C!c this) 3)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (= (D!a this) 1)\n    (= (D!c this) 3)\n    (= (D!d this) 4)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!sum this) (+ (+ (D.a (TopLevelDeclarations!dobj this) ) (D.c (TopLevelDeclarations!dobj this) )) (D.d (TopLevelDeclarations!dobj this) )))\n    (deref-isa-D (TopLevelDeclarations!dobj this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun instanceOfD!3 () Int\n  9)\n(define-fun instanceOfC!2 () Int\n  7)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!4))\n(define-fun instanceOfB!1 () Int\n  6)\n(define-fun instanceOfA!0 () Int\n  5)\n(define-fun k!5 ((x!1 Int)) Int\n  (ite (= x!1 9) 9\n  (ite (= x!1 7) 7\n  (ite (= x!1 10) 10\n  (ite (= x!1 6) 6\n  (ite (= x!1 5) 5\n    0))))))\n(define-fun k!4!6 ((x!1 Int)) Any\n  (ite (= x!1 7) (lift-C (mk-C 1 3))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 10 8))\n  (ite (= x!1 5) (lift-A (mk-A 1))\n  (ite (= x!1 6) (lift-B (mk-B 1 2))\n    (lift-D (mk-D 1 3 4)))))))\n(define-fun k!4 ((x!1 Int)) Any\n  (k!4!6 (k!5 x!1)))"},"testsmt15.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"a","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"a"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BlockExp","element":"ElementValue"},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k1","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"type":"ElementValue","element":"k1"}}]},{"type":"Expression","operand":[{"type":"BlockExp","element":"ElementValue"},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k2","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k3","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"k2"},{"type":"ElementValue","element":"k3"}]}}]}]}]}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"a","type":"PropertyDecl","modifiers":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"op":"Plus","exp2":{"type":"BlockExp","body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k2","expr":{"i":2,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"k3","expr":{"i":3,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"ident":"k3","type":"IdentExp"},"exp1":{"ident":"k2","type":"IdentExp"},"type":"BinExp"}}]},"exp1":{"type":"BlockExp","body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k1","expr":{"i":1,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"ident":"k1","type":"IdentExp"}}]},"type":"BinExp"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt15.k","model":"\nclass A {\n  a:Int\n\n  req a = {\n    k1:Int = 1\n    k1\n  } + {\n    k2:Int = 2\n    k3:Int = 3\n    k2 + k3\n  }\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this)  (+   (let ((k1 1))\n    k1)   (let ((k2 2))\n    (let ((k3 3))\n      (+ k2 k3)))))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!1))\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!1!3 ((x!1 Int)) Any\n  (ite (= x!1 1) (lift-A (mk-A 6))\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0)))\n(define-fun k!2 ((x!1 Int)) Int\n  (ite (= x!1 1) 1\n    0))\n(define-fun k!1 ((x!1 Int)) Any\n  (k!1!3 (k!2 x!1)))"},"inheritance1.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"x","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"y","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"i","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},3]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["C"],"type":"QualifiedName"}]}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"z","expr":{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},4]},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["B"],"type":"QualifiedName"}]}]},{"ty":{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["D"],"type":"QualifiedName"}]},"name":"dobj","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"sum","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"dobj"},"x"]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"dobj"},"y"]}]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"dobj"},"z"]}]},{"type":"Expression","operand":[{"type":"DotExp","element":"ElementValue"},{"type":"ElementValue","element":"dobj"},"i"]}]},"type":"PropertyDecl","modifiers":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"x","expr":{"i":1,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"y","expr":{"i":2,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"D","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"i","expr":{"i":3,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["C"],"type":"QualifiedName"},"type":"IdentType"}]},{"entityToken":"class","typeparams":[],"ident":"C","members":[{"ty":{"type":"IntType"},"assignment":false,"name":"z","expr":{"i":4,"type":"LiteralInteger"},"type":"PropertyDecl","modifiers":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["B"],"type":"QualifiedName"},"type":"IdentType"}]},{"ty":{"args":[],"ident":{"names":["D"],"type":"QualifiedName"},"type":"IdentType"},"name":"dobj","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"assignment":false,"name":"sum","expr":{"op":"Plus","exp2":{"ident":"i","exp":{"ident":"dobj","type":"IdentExp"},"type":"DotExp"},"exp1":{"op":"Plus","exp2":{"ident":"z","exp":{"ident":"dobj","type":"IdentExp"},"type":"DotExp"},"exp1":{"op":"Plus","exp2":{"ident":"y","exp":{"ident":"dobj","type":"IdentExp"},"type":"DotExp"},"exp1":{"ident":"x","exp":{"ident":"dobj","type":"IdentExp"},"type":"DotExp"},"type":"BinExp"},"type":"BinExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]}],"type":"Model"},"typeChecks":true,"name":"inheritance1.k","model":"\nclass A {\n  x:Int = 1\n}\n\nclass B extending A {\n  y:Int = 2\n}\n\nclass D extending C {\n  i:Int = 3\n}\n\nclass C extending B {\n  z:Int = 4\n}\n\ndobj:D\n\nsum:Int = dobj.x + dobj.y + dobj.z + dobj.i\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (x Int)))))\n(declare-datatypes () ((B (mk-B (x Int)(y Int)))))\n(declare-datatypes () ((C (mk-C (x Int)(y Int)(z Int)))))\n(declare-datatypes () ((D (mk-D (x Int)(y Int)(z Int)(i Int)))))\n(declare-datatypes () ((TopLevelDeclarations (mk-TopLevelDeclarations (dobj Ref)(sum Int)))))\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-C (sel-C C))\n  (lift-D (sel-D D))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-C ((this Ref)) Bool\n  (is-lift-C (deref this))\n)\n\n(define-fun deref-C ((this Ref)) C\n  (sel-C (deref this))\n)\n\n(define-fun deref-is-D ((this Ref)) Bool\n  (is-lift-D (deref this))\n)\n\n(define-fun deref-D ((this Ref)) D\n  (sel-D (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (or\n    (deref-is-B this)\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-C ((this Ref)) Bool\n  (or\n    (deref-is-C this)\n    (deref-is-D this)\n  )\n)\n\n(define-fun deref-isa-D ((this Ref)) Bool\n  (deref-is-D this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.x: ---\n\n(define-fun A!x ((this Ref)) Int\n  (x (deref-A this))\n)\n\n; ------------------------\n;   Getters for class B:\n; ------------------------\n\n; --- getters for B.x: ---\n\n(define-fun B!x ((this Ref)) Int\n  (x (deref-B this))\n)\n\n; --- getters for B.y: ---\n\n(define-fun B!y ((this Ref)) Int\n  (y (deref-B this))\n)\n\n; ------------------------\n;   Getters for class C:\n; ------------------------\n\n; --- getters for C.x: ---\n\n(define-fun C!x ((this Ref)) Int\n  (x (deref-C this))\n)\n\n; --- getters for C.y: ---\n\n(define-fun C!y ((this Ref)) Int\n  (y (deref-C this))\n)\n\n; --- getters for C.z: ---\n\n(define-fun C!z ((this Ref)) Int\n  (z (deref-C this))\n)\n\n; ------------------------\n;   Getters for class D:\n; ------------------------\n\n; --- getters for D.x: ---\n\n(define-fun D.x ((this Ref)) Int\n  (x (deref-D this))\n)\n\n(define-fun D!x ((this Ref)) Int\n  (x (deref-D this))\n)\n\n; --- getters for D.y: ---\n\n(define-fun D.y ((this Ref)) Int\n  (y (deref-D this))\n)\n\n(define-fun D!y ((this Ref)) Int\n  (y (deref-D this))\n)\n\n; --- getters for D.z: ---\n\n(define-fun D.z ((this Ref)) Int\n  (z (deref-D this))\n)\n\n(define-fun D!z ((this Ref)) Int\n  (z (deref-D this))\n)\n\n; --- getters for D.i: ---\n\n(define-fun D.i ((this Ref)) Int\n  (i (deref-D this))\n)\n\n(define-fun D!i ((this Ref)) Int\n  (i (deref-D this))\n)\n\n; -------------------------------------------\n;   Getters for class TopLevelDeclarations:\n; -------------------------------------------\n\n; --- getters for TopLevelDeclarations.dobj: ---\n\n(define-fun TopLevelDeclarations!dobj ((this Ref)) Ref\n  (dobj (deref-TopLevelDeclarations this))\n)\n\n; --- getters for TopLevelDeclarations.sum: ---\n\n(define-fun TopLevelDeclarations!sum ((this Ref)) Int\n  (sum (deref-TopLevelDeclarations this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!x this) 1)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  (and\n    (= (B!x this) 1)\n    (= (B!y this) 2)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; --------------------------\n;   Invariant for class C:\n; --------------------------\n\n(define-fun C.inv ((this Ref)) Bool\n  (and\n    (= (C!x this) 1)\n    (= (C!y this) 2)\n    (= (C!z this) 4)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-C this) (C.inv this))\n))\n\n; --------------------------\n;   Invariant for class D:\n; --------------------------\n\n(define-fun D.inv ((this Ref)) Bool\n  (and\n    (= (D!x this) 1)\n    (= (D!y this) 2)\n    (= (D!z this) 4)\n    (= (D!i this) 3)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-D this) (D.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  (and\n    (= (TopLevelDeclarations!sum this) (+ (+ (+ (D.x (TopLevelDeclarations!dobj this) ) (D.y (TopLevelDeclarations!dobj this) )) (D.z (TopLevelDeclarations!dobj this) )) (D.i (TopLevelDeclarations!dobj this) )))\n    (deref-isa-D (TopLevelDeclarations!dobj this))\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (exists ((instanceOfC Ref)) (deref-is-C instanceOfC)))\n(assert (exists ((instanceOfD Ref)) (deref-is-D instanceOfD)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":"(define-fun instanceOfD!3 () Int\n  8)\n(define-fun instanceOfC!2 () Int\n  7)\n(define-fun heap () (Array Int Any)\n  (_ as-array k!4))\n(define-fun instanceOfB!1 () Int\n  6)\n(define-fun instanceOfA!0 () Int\n  5)\n(define-fun k!5 ((x!1 Int)) Int\n  (ite (= x!1 8) 8\n  (ite (= x!1 7) 7\n  (ite (= x!1 9) 9\n  (ite (= x!1 6) 6\n  (ite (= x!1 5) 5\n    0))))))\n(define-fun k!4!6 ((x!1 Int)) Any\n  (ite (= x!1 7) (lift-C (mk-C 1 2 4))\n  (ite (= x!1 0) (lift-TopLevelDeclarations (mk-TopLevelDeclarations 9 10))\n  (ite (= x!1 5) (lift-A (mk-A 1))\n  (ite (= x!1 6) (lift-B (mk-B 1 2))\n    (lift-D (mk-D 1 2 4 3)))))))\n(define-fun k!4 ((x!1 Int)) Any\n  (k!4!6 (k!5 x!1)))"},"testsmt14.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"b","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"id","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"IfExp","element":"ElementValue"},{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"GTE",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},0]}]},{"type":"Expression","operand":[{"type":"BlockExp","element":"ElementValue"},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k1","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Minus",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"k1"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}}]},{"type":"Expression","operand":[{"type":"BlockExp","element":"ElementValue"},{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"assignment":false,"name":"k2","expr":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Minus",{"type":"ElementValue","element":"k2"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},1]}]}}]}]}}],"spec":[]},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"a"},{"type":"Expression","operand":[{"type":"FunApplExp","element":"ElementValue"},{"type":"ElementValue","element":"id"},{"type":"Expression","operand":[{"type":"PositionalArgument","element":"ElementValue"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}]}]}},{"type":"ConstraintDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"EQ",{"type":"ElementValue","element":"a"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},10]}]}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"name":"a","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"name":"b","type":"PropertyDecl","modifiers":[]},{"ty":{"type":"IntType"},"ident":"id","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"trueBranch":{"type":"BlockExp","body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k1","expr":{"op":"Minus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"k1","type":"IdentExp"},"type":"BinExp"}}]},"falseBranch":{"type":"BlockExp","body":[{"ty":{"type":"IntType"},"assignment":false,"name":"k2","expr":{"op":"Plus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"},"type":"PropertyDecl","modifiers":[]},{"type":"ExpressionDecl","exp":{"op":"Minus","exp2":{"i":1,"type":"LiteralInteger"},"exp1":{"ident":"k2","type":"IdentExp"},"type":"BinExp"}}]},"type":"IfExp","cond":{"op":"GTE","exp2":{"i":0,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}}}],"spec":[]},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"args":[{"type":"PositionalArgument","exp":{"i":10,"type":"LiteralInteger"}}],"exp1":{"ident":"id","type":"IdentExp"},"type":"FunApplExp"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"}},{"type":"ConstraintDecl","exp":{"op":"EQ","exp2":{"i":10,"type":"LiteralInteger"},"exp1":{"ident":"a","type":"IdentExp"},"type":"BinExp"}}],"annotations":[],"type":"EntityDecl","extending":[]}],"type":"Model"},"typeChecks":true,"name":"testsmt14.k","model":"\nclass A {\n  a:Int\n  b:Int\n\n  fun id(x:Int) : Int\n  {\n    if x >= 0 then\n      {\n        k1:Int = x - 1\n        k1 + 1\n      }\n    else\n      {\n        k2:Int = x + 1\n        k2 - 1\n      }\n  }\n\n  req a = id(10)\n\n  req a = 10\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-datatypes () ((A (mk-A (a Int)(b Int)))))\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (deref-is-A this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ------------------------\n;   Getters for class A:\n; ------------------------\n\n; --- getters for A.a: ---\n\n(define-fun A.a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n(define-fun A!a ((this Ref)) Int\n  (a (deref-A this))\n)\n\n; --- getters for A.b: ---\n\n(define-fun A!b ((this Ref)) Int\n  (b (deref-A this))\n)\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(define-fun A.id ((this Ref)(x Int)) Int\n  (ite (>= x 0)   (let ((k1 (- x 1)))\n    (+ k1 1))   (let ((k2 (+ x 1)))\n    (- k2 1)))\n)\n\n(define-fun A!id ((this Ref)(x Int)) Int\n  (ite (>= x 0)   (let ((k1 (- x 1)))\n    (+ k1 1))   (let ((k2 (+ x 1)))\n    (- k2 1)))\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  (and\n    (= (A!a this)  (A!id this 10))\n    (= (A!a this)  10)\n  )\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!1))\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!1!3 ((x!1 Int)) Any\n  (ite (= x!1 1) (lift-A (mk-A 10 2))\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0)))\n(define-fun k!2 ((x!1 Int)) Int\n  (ite (= x!1 1) 1\n    0))\n(define-fun k!1 ((x!1 Int)) Any\n  (k!1!3 (k!2 x!1)))"},"tc2.k":{"json2":"","json1":"","typeChecks":false,"name":"tc2.k","model":"","smt":"","smtModel":""},"tc3.k":{"json2":"","json1":"","typeChecks":false,"name":"tc3.k","model":"","smt":"","smtModel":""},"tc4.k":{"json2":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"foo","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"ident":"foo","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"Expression","operand":[{"type":"IntType","element":"ElementValue"}]},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"type":"Expression","operand":[{"type":"BinExp","element":"ElementValue"},"Plus",{"type":"ElementValue","element":"x"},{"type":"Expression","operand":[{"type":"IntegerLiteral","element":"ElementValue"},2]}]}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[{"type":"Expression","operand":[{"type":"IdentType","element":"ElementValue"},{"names":["A"],"type":"QualifiedName"}]}]}],"type":"Model"},"json1":{"imports":[],"annotations":[],"decls":[{"entityToken":"class","typeparams":[],"ident":"A","members":[{"ty":{"type":"IntType"},"ident":"foo","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[]},{"entityToken":"class","typeparams":[],"ident":"B","members":[{"ty":{"type":"IntType"},"ident":"foo","typeParams":[],"type":"FunDecl","params":[{"ty":{"type":"IntType"},"name":"x","type":"Param"}],"body":[{"type":"ExpressionDecl","exp":{"op":"Plus","exp2":{"i":2,"type":"LiteralInteger"},"exp1":{"ident":"x","type":"IdentExp"},"type":"BinExp"}}],"spec":[]}],"annotations":[],"type":"EntityDecl","extending":[{"args":[],"ident":{"names":["A"],"type":"QualifiedName"},"type":"IdentType"}]}],"type":"Model"},"typeChecks":true,"name":"tc4.k","model":"\nclass A {\n\n  fun foo(x:Int) : Int\n\n}\n\nclass B extending A {\n\n  fun foo(x:Int) : Int\n  {\n    x + 2\n  }\n}\n\n","smt":"; ================\n; === Options: ===\n; ================\n\n(set-option :smt.macro-finder true)\n\n; ==================\n; === Datatypes: ===\n; ==================\n\n(define-sort Ref () Int)\n\n(declare-datatypes (T1 T2) ((Tuple2 (mk-Tuple2 (_1 T1)(_2 T2)))))\n(declare-datatypes (T1 T2 T3) ((Tuple3 (mk-Tuple3 (_1 T1)(_2 T2)(_3 T3)))))\n\n(declare-sort A) (declare-const mk-A A)\n(declare-sort B) (declare-const mk-B B)\n(declare-sort TopLevelDeclarations) (declare-const mk-TopLevelDeclarations TopLevelDeclarations)\n\n; =============\n; === Heap: ===\n; =============\n\n(declare-datatypes () ((Any\n  (lift-A (sel-A A))\n  (lift-B (sel-B B))\n  (lift-TopLevelDeclarations (sel-TopLevelDeclarations TopLevelDeclarations))\n  null))\n)\n\n(declare-const heap (Array Ref Any))\n\n(define-fun deref ((ref Ref)) Any\n  (select heap ref)\n)\n\n; ==========================================\n; === Class specific is/deref-functions: ===\n; ==========================================\n\n(define-fun deref-is-A ((this Ref)) Bool\n  (is-lift-A (deref this))\n)\n\n(define-fun deref-A ((this Ref)) A\n  (sel-A (deref this))\n)\n\n(define-fun deref-is-B ((this Ref)) Bool\n  (is-lift-B (deref this))\n)\n\n(define-fun deref-B ((this Ref)) B\n  (sel-B (deref this))\n)\n\n(define-fun deref-is-TopLevelDeclarations ((this Ref)) Bool\n  (is-lift-TopLevelDeclarations (deref this))\n)\n\n(define-fun deref-TopLevelDeclarations ((this Ref)) TopLevelDeclarations\n  (sel-TopLevelDeclarations (deref this))\n)\n\n; ======================\n; === Isa-functions: ===\n; ======================\n\n(define-fun deref-isa-A ((this Ref)) Bool\n  (or\n    (deref-is-A this)\n    (deref-is-B this)\n  )\n)\n\n(define-fun deref-isa-B ((this Ref)) Bool\n  (deref-is-B this)\n)\n\n(define-fun deref-isa-TopLevelDeclarations ((this Ref)) Bool\n  (deref-is-TopLevelDeclarations this)\n)\n\n; ================\n; === Getters: ===\n; ================\n\n; ================\n; === Methods: ===\n; ================\n\n; ------------------------\n;   Methods for class A:\n; ------------------------\n\n(declare-fun A.foo (Ref Int) Int)\n\n(define-fun A!foo ((this Ref)(x Int)) Int\n  (A.foo this x)\n)\n\n; ------------------------\n;   Methods for class B:\n; ------------------------\n\n(define-fun B.foo ((this Ref)(x Int)) Int\n  (+ x 2)\n)\n\n(define-fun B!foo ((this Ref)(x Int)) Int\n  (+ x 2)\n)\n\n; ===================\n; === Invariants: ===\n; ===================\n\n; --------------------------\n;   Invariant for class A:\n; --------------------------\n\n(define-fun A.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-A this) (A.inv this))\n))\n\n; --------------------------\n;   Invariant for class B:\n; --------------------------\n\n(define-fun B.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-B this) (B.inv this))\n))\n\n; ---------------------------------------------\n;   Invariant for class TopLevelDeclarations:\n; ---------------------------------------------\n\n(define-fun TopLevelDeclarations.inv ((this Ref)) Bool\n  true\n)\n\n(assert (forall ((this Ref))\n  (=> (deref-is-TopLevelDeclarations this) (TopLevelDeclarations.inv this))\n))\n\n\n; ====================================\n; === Object existence assertions: ===\n; ====================================\n\n(assert (exists ((instanceOfA Ref)) (deref-is-A instanceOfA)))\n(assert (exists ((instanceOfB Ref)) (deref-is-B instanceOfB)))\n(assert (deref-is-TopLevelDeclarations 0))\n\n\n","smtModel":";; universe for A:\n;;   A!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun A!val!0 () A)\n;; cardinality constraint:\n(forall ((x A)) (= x A!val!0))\n;; -----------\n;; universe for B:\n;;   B!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun B!val!0 () B)\n;; cardinality constraint:\n(forall ((x B)) (= x B!val!0))\n;; -----------\n;; universe for TopLevelDeclarations:\n;;   TopLevelDeclarations!val!0 \n;; -----------\n;; definitions for universe elements:\n(declare-fun TopLevelDeclarations!val!0 () TopLevelDeclarations)\n;; cardinality constraint:\n(forall ((x TopLevelDeclarations)) (= x TopLevelDeclarations!val!0))\n;; -----------\n(define-fun heap () (Array Int Any)\n  (_ as-array k!2))\n(define-fun instanceOfB!1 () Int\n  2)\n(define-fun instanceOfA!0 () Int\n  1)\n(define-fun k!2 ((x!1 Int)) Any\n  (ite (= x!1 0) (lift-TopLevelDeclarations TopLevelDeclarations!val!0)\n  (ite (= x!1 1) (lift-A A!val!0)\n  (ite (= x!1 2) (lift-B B!val!0)\n    (lift-TopLevelDeclarations TopLevelDeclarations!val!0)))))"},"as1.k":{"json2":"","json1":"","typeChecks":false,"name":"as1.k","model":"","smt":"","smtModel":""}}